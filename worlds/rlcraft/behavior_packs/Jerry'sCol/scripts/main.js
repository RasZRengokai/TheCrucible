const _0x1d2622=_0x4f32;(function(_0x2b7f07,_0xa83d23){const _0x3a27db=_0x4f32,_0x58d8fc=_0x2b7f07();while(!![]){try{const _0x2d09fc=parseInt(_0x3a27db(0x62e))/0x1+-parseInt(_0x3a27db(0x95f))/0x2+-parseInt(_0x3a27db(0x77f))/0x3+-parseInt(_0x3a27db(0xa0f))/0x4*(-parseInt(_0x3a27db(0x5f0))/0x5)+parseInt(_0x3a27db(0x191))/0x6*(-parseInt(_0x3a27db(0xa46))/0x7)+parseInt(_0x3a27db(0x210))/0x8+parseInt(_0x3a27db(0x9c6))/0x9*(parseInt(_0x3a27db(0x7a3))/0xa);if(_0x2d09fc===_0xa83d23)break;else _0x58d8fc['push'](_0x58d8fc['shift']());}catch(_0x7152aa){_0x58d8fc['push'](_0x58d8fc['shift']());}}}(_0x414c,0x90369));import'./toolInterface.js';import'./itemLore.js';import'./supplyChestUtils.js';import{EnchantmentTypes}from'@minecraft/server';import{SupplyChestUtils}from'./supplyChestUtils.js';let lastTitleTime=0x0;const TITLE_DELAY=0x1388;function showEventTitle(_0x552cdb,_0x3b13d0,_0x512f25,_0x103b99,_0x191f0b=0x0){system['runTimeout'](()=>{const _0x5b9bd8=_0x4f32;lastTitleTime=Date[_0x5b9bd8(0x405)]();for(const _0x4e8da8 of _0x552cdb){try{_0x4e8da8['onScreenDisplay']&&_0x4e8da8[_0x5b9bd8(0x903)][_0x5b9bd8(0x3db)]?(_0x4e8da8['onScreenDisplay'][_0x5b9bd8(0x3db)](_0x3b13d0),_0x512f25&&_0x4e8da8[_0x5b9bd8(0x903)][_0x5b9bd8(0x9be)](_0x512f25)):(_0x4e8da8[_0x5b9bd8(0x6ba)](_0x5b9bd8(0x5fa)+_0x3b13d0+_0x5b9bd8(0xbd2)),_0x512f25&&_0x4e8da8['runCommandAsync']('titleraw\x20@s\x20subtitle\x20{\x22rawtext\x22:[{\x22text\x22:\x22'+_0x512f25+_0x5b9bd8(0xbd2)));if(_0x103b99)try{_0x4e8da8[_0x5b9bd8(0x285)](_0x103b99);}catch(_0x3bc856){console['log']('Could\x20not\x20play\x20sound\x20'+_0x103b99+_0x5b9bd8(0x96f)+_0x4e8da8[_0x5b9bd8(0xa45)]+':\x20'+_0x3bc856);}}catch(_0x495b41){console[_0x5b9bd8(0x5b4)](_0x5b9bd8(0x66a)+_0x4e8da8[_0x5b9bd8(0xa45)]+':',_0x495b41);}}},_0x191f0b*0x14);}const TERRITORY_MARKER_BLOCKS={0x0:'jerrys_colonies:white_territory_marker_block',0x1:'jerrys_colonies:red_territory_marker_block',0x2:_0x1d2622(0x9d8),0x3:'jerrys_colonies:green_territory_marker_block',0x4:_0x1d2622(0x11e),0x5:'jerrys_colonies:orange_territory_marker_block',0x6:_0x1d2622(0x41c),0x7:'jerrys_colonies:pink_territory_marker_block',0x8:_0x1d2622(0x4bc),0x9:_0x1d2622(0xc7a),0xa:'jerrys_colonies:light_gray_territory_marker_block',0xb:_0x1d2622(0x457),0xc:_0x1d2622(0xcc7),0xd:_0x1d2622(0x3a2),0xe:'jerrys_colonies:lime_territory_marker_block',0xf:_0x1d2622(0xcde)};function placeTerritoryMarkersAroundFlag(_0x2a2dc5,_0x3187bb,_0x3d2f97){const _0x2bd314=_0x1d2622;try{const _0x22d091=getTerritoryMarkerBlock(_0x3187bb),_0x4cc221=0x64,_0x2902f2=Math[_0x2bd314(0x648)](_0x2a2dc5['x']),_0x22e1af=Math['floor'](_0x2a2dc5['z']),_0x9c0cb8=0xfa,_0x520d12=[];for(let _0x4ed445=_0x2902f2-_0x4cc221;_0x4ed445<=_0x2902f2+_0x4cc221;_0x4ed445++){_0x520d12[_0x2bd314(0x9bb)]({'x':_0x4ed445,'y':_0x9c0cb8,'z':_0x22e1af-_0x4cc221}),_0x520d12[_0x2bd314(0x9bb)]({'x':_0x4ed445,'y':_0x9c0cb8,'z':_0x22e1af+_0x4cc221});}for(let _0x1d6fbb=_0x22e1af-_0x4cc221+0x1;_0x1d6fbb<_0x22e1af+_0x4cc221;_0x1d6fbb++){_0x520d12[_0x2bd314(0x9bb)]({'x':_0x2902f2-_0x4cc221,'y':_0x9c0cb8,'z':_0x1d6fbb}),_0x520d12[_0x2bd314(0x9bb)]({'x':_0x2902f2+_0x4cc221,'y':_0x9c0cb8,'z':_0x1d6fbb});}for(let _0x18cb4=_0x2902f2-_0x4cc221+0x1;_0x18cb4<=_0x2902f2+_0x4cc221-0x1;_0x18cb4++){_0x520d12[_0x2bd314(0x9bb)]({'x':_0x18cb4,'y':_0x9c0cb8,'z':_0x22e1af-_0x4cc221+0x1}),_0x520d12[_0x2bd314(0x9bb)]({'x':_0x18cb4,'y':_0x9c0cb8,'z':_0x22e1af+_0x4cc221-0x1});}for(let _0x2ab2ee=_0x22e1af-_0x4cc221+0x2;_0x2ab2ee<_0x22e1af+_0x4cc221-0x1;_0x2ab2ee++){_0x520d12[_0x2bd314(0x9bb)]({'x':_0x2902f2-_0x4cc221+0x1,'y':_0x9c0cb8,'z':_0x2ab2ee}),_0x520d12[_0x2bd314(0x9bb)]({'x':_0x2902f2+_0x4cc221-0x1,'y':_0x9c0cb8,'z':_0x2ab2ee});}const _0x5cc990=0x14;let _0xe84449=0x0;const _0x37fae7=Math['ceil'](_0x520d12[_0x2bd314(0xcd6)]/_0x5cc990);world[_0x2bd314(0x34f)]('§7Starting\x20to\x20place\x20'+_0x520d12[_0x2bd314(0xcd6)]+'\x20territory\x20markers\x20at\x20Y='+_0x9c0cb8),world[_0x2bd314(0x34f)](_0x2bd314(0x436)+_0x22d091);const _0x1c98b3=()=>{const _0x15b7a9=_0x2bd314;if(_0xe84449>=_0x37fae7){world[_0x15b7a9(0x34f)](_0x15b7a9(0x28b)+_0x520d12[_0x15b7a9(0xcd6)]+'\x20territory\x20markers\x20for\x20colony\x20'+_0x3187bb[_0x15b7a9(0xa45)]);return;}const _0x46d018=_0xe84449*_0x5cc990,_0x49e0fd=Math['min'](_0x46d018+_0x5cc990,_0x520d12[_0x15b7a9(0xcd6)]),_0x530bde=_0x520d12[_0x15b7a9(0x8e3)](_0x46d018,_0x49e0fd);for(const _0x58e110 of _0x530bde){_0x3d2f97[_0x15b7a9(0x6ba)](_0x15b7a9(0xaf1)+_0x58e110['x']+'\x20'+_0x58e110['y']+'\x20'+_0x58e110['z']+'\x20'+_0x22d091)['then'](_0x22e432=>{const _0x4aaaee=_0x15b7a9;_0x58e110===_0x530bde[0x0]&&world[_0x4aaaee(0x34f)]('§aSuccessfully\x20placed\x20block\x20at\x20'+_0x58e110['x']+','+_0x58e110['y']+','+_0x58e110['z']);})[_0x15b7a9(0xb84)](_0xa591b8=>{const _0x4271e7=_0x15b7a9;world[_0x4271e7(0x34f)]('§cFailed\x20to\x20place\x20block\x20at\x20'+_0x58e110['x']+','+_0x58e110['y']+','+_0x58e110['z']+':\x20'+_0xa591b8);});}_0xe84449++,world['sendMessage']('§7Placed\x20batch\x20'+_0xe84449+'/'+_0x37fae7),system[_0x15b7a9(0x633)](_0x1c98b3,0xa);};_0x1c98b3();}catch(_0x2014b1){world[_0x2bd314(0x34f)](_0x2bd314(0x5ec)+_0x2014b1);}}function hasArenaBeenLoaded(){const _0x21cdac=_0x1d2622;try{const _0x11a091=world[_0x21cdac(0x49d)](_0x21cdac(0x23e));return _0x11a091===!![];}catch(_0x55cc90){return console[_0x21cdac(0x7bf)](_0x21cdac(0x651),_0x55cc90),![];}}function markArenaAsLoaded(){const _0x2fc661=_0x1d2622;try{world[_0x2fc661(0x4da)](_0x2fc661(0x23e),!![]);}catch(_0x64c0fe){console[_0x2fc661(0x7bf)](_0x2fc661(0x304),_0x64c0fe);}}async function loadArena1Structure(_0x5b8135,_0x2b9995=![]){const _0x54fce2=_0x1d2622;try{if(!_0x2b9995&&hasArenaBeenLoaded())return![];const _0x3c09be=0xc350,_0x175448=0x64,_0x53d49b=0xc350;try{const _0x25ab26=await _0x5b8135[_0x54fce2(0x6ba)](_0x54fce2(0x6c0)+_0x3c09be+'\x20'+_0x175448+'\x20'+_0x53d49b);if(_0x25ab26[_0x54fce2(0x738)]>0x0)return markArenaAsLoaded(),!![];else throw new Error(_0x54fce2(0xa8a)+JSON['stringify'](_0x25ab26));}catch(_0x181479){console[_0x54fce2(0x7bf)](_0x54fce2(0x219),_0x181479);try{const _0x1eb7b4=await _0x5b8135[_0x54fce2(0x6ba)](_0x54fce2(0x6c0)+_0x3c09be+'\x20'+_0x175448+'\x20'+_0x53d49b+_0x54fce2(0x22e));if(_0x1eb7b4[_0x54fce2(0x738)]>0x0)return markArenaAsLoaded(),!![];}catch(_0x4d0ac0){console[_0x54fce2(0x7bf)](_0x54fce2(0x1d5),_0x4d0ac0);}try{await _0x5b8135[_0x54fce2(0x6ba)]('fill\x20'+_0x3c09be+'\x20'+_0x175448+'\x20'+_0x53d49b+'\x20'+_0x3c09be+'\x20'+_0x175448+'\x20'+_0x53d49b+'\x20stone');const _0x3440a2=await _0x5b8135[_0x54fce2(0x6ba)](_0x54fce2(0x6c0)+_0x3c09be+'\x20'+_0x175448+'\x20'+_0x53d49b);if(_0x3440a2[_0x54fce2(0x738)]>0x0)return markArenaAsLoaded(),!![];}catch(_0x3027f1){console[_0x54fce2(0x7bf)](_0x54fce2(0x7f8),_0x3027f1);}return![];}}catch(_0x50976e){return console[_0x54fce2(0x7bf)](_0x54fce2(0x7a9),_0x50976e),![];}}const ARENA_CENTER={'x':0xc350,'y':0x70,'z':0xc350},ARENA_SEARCH_RADIUS=0xc8;function triggerArenaSpectatorAnimations(){const _0x3d8a81=_0x1d2622;try{const _0x498010=world[_0x3d8a81(0xbc8)]('overworld');if(!_0x498010){console['warn']('Could\x20not\x20access\x20overworld\x20dimension\x20for\x20spectator\x20animations');return;}const _0x61f7b0=_0x498010[_0x3d8a81(0xc8f)]({'type':'jerrys_colonies:spectator','location':ARENA_CENTER,'maxDistance':ARENA_SEARCH_RADIUS});if(_0x61f7b0[_0x3d8a81(0xcd6)]===0x0){console[_0x3d8a81(0x6a4)](_0x3d8a81(0x315));return;}console[_0x3d8a81(0x6a4)](_0x3d8a81(0xaab)+_0x61f7b0['length']+_0x3d8a81(0x36d));let _0x482505=0x0,_0x244ee8=0x0;for(let _0x3313f9=0x0;_0x3313f9<_0x61f7b0[_0x3d8a81(0xcd6)];_0x3313f9++){const _0x42dad0=_0x61f7b0[_0x3313f9],_0x45d9e0=Math['floor'](Math[_0x3d8a81(0x247)]()*0x3c);system[_0x3d8a81(0x633)](()=>{const _0x5bd452=_0x3d8a81;try{_0x42dad0&&_0x42dad0[_0x5bd452(0x25f)]()&&(_0x42dad0['triggerEvent']('trigger_random_anim'),_0x244ee8++);}catch(_0x1561e1){console[_0x5bd452(0x5b4)]('Failed\x20to\x20trigger\x20animation\x20for\x20spectator\x20'+_0x3313f9+':\x20'+_0x1561e1);}_0x482505++,_0x482505===_0x61f7b0[_0x5bd452(0xcd6)]&&console[_0x5bd452(0x6a4)]('Successfully\x20triggered\x20animations\x20for\x20'+_0x244ee8+'/'+_0x61f7b0[_0x5bd452(0xcd6)]+_0x5bd452(0xd15));},_0x45d9e0);}}catch(_0x428cf6){console[_0x3d8a81(0x7bf)](_0x3d8a81(0x969),_0x428cf6);}}function cleanupArenaEntities(){const _0xa591dc=_0x1d2622;try{const _0x5da754=world['getDimension'](_0xa591dc(0x182));if(!_0x5da754){console[_0xa591dc(0x5b4)](_0xa591dc(0x303));return;}const _0x26b109=_0x5da754[_0xa591dc(0xc8f)]({'location':ARENA_CENTER,'maxDistance':ARENA_SEARCH_RADIUS});let _0x284cd4=0x0;for(const _0x99612c of _0x26b109){try{if(!_0x99612c||!_0x99612c[_0xa591dc(0x25f)]())continue;const _0x6bfebd=_0x99612c[_0xa591dc(0x621)];if(_0x6bfebd===_0xa591dc(0x2d8))continue;if(_0x6bfebd===_0xa591dc(0x1a2))continue;if(_0x6bfebd==='jerrys_colonies:arenaking')continue;if(_0x6bfebd==='jerrys_colonies:arena_display')continue;if(_0x6bfebd===_0xa591dc(0xc1e))continue;_0x99612c['remove'](),_0x284cd4++;}catch(_0x3f4232){console[_0xa591dc(0x5b4)](_0xa591dc(0xcc5)+_0x3f4232);}}_0x284cd4>0x0&&console[_0xa591dc(0x6a4)](_0xa591dc(0x425)+_0x284cd4+'\x20entities\x20from\x20arena\x20area');}catch(_0x4e468b){console['error']('Error\x20in\x20cleanupArenaEntities:',_0x4e468b);}}function triggerPlague(_0x4d58ba){const _0x561edc=_0x1d2622;try{const _0x9107a5=world['getDimension'](_0x561edc(0x182));if(!_0x9107a5)return;const _0x382707=_0x9107a5[_0x561edc(0xc8f)]({'type':'jerrys_colonies:citizen'});let _0x2676e0=0x0;const _0x32f857=Date[_0x561edc(0x405)]()+0x14*0x3c*0x3e8;for(const _0x536803 of _0x382707){_0x536803[_0x561edc(0x460)]()[_0x561edc(0x22d)](_0x561edc(0x30d)+_0x4d58ba['id'])&&(_0x536803[_0x561edc(0x33d)](_0x561edc(0x431),0x5dc0,{'amplifier':0x2,'showParticles':!![]}),_0x536803[_0x561edc(0x875)]('plagued'),_0x536803[_0x561edc(0x875)](_0x561edc(0x366)+_0x32f857),_0x2676e0++);}const _0xe82d28=world[_0x561edc(0x272)](),_0x239427=_0xe82d28['filter'](_0x5119a4=>_0x5119a4['getTags']()[_0x561edc(0x22d)](_0x561edc(0x3ae)+_0x4d58ba['id'])||_0x5119a4[_0x561edc(0x460)]()['includes'](_0x561edc(0x30d)+_0x4d58ba['id']));if(_0x239427['length']>0x0){const _0x2e1492=Date['now'](),_0x12b8da=_0x2e1492-lastTitleTime,_0x1bd162=_0x12b8da<TITLE_DELAY?Math['ceil']((TITLE_DELAY-_0x12b8da)/0x3e8):0x0;showEventTitle(_0x239427,_0x561edc(0x628),'§e'+_0x4d58ba[_0x561edc(0xa45)]+_0x561edc(0x4a7),null,_0x1bd162);for(const _0x1b00c5 of _0x239427){_0x1b00c5[_0x561edc(0x34f)](_0x561edc(0xba9));}}const _0x6609ee=getGlobalPlagueInterval();_0x4d58ba[_0x561edc(0xb01)]=Date[_0x561edc(0x405)]()+_0x6609ee*0xea60,_0x4d58ba[_0x561edc(0xcb2)]=null,colonies[_0x561edc(0x336)](_0x4d58ba['id'],_0x4d58ba);const _0x261b8d=getGlobalMarauderInterval();(!_0x4d58ba['nextMarauderAttack']||_0x4d58ba['manualEventTriggered'])&&(_0x4d58ba['nextMarauderAttack']=Date[_0x561edc(0x405)]()+_0x261b8d*0xea60,_0x4d58ba[_0x561edc(0x84d)]=null);}catch(_0x18dcec){console[_0x561edc(0x7bf)](_0x561edc(0x859),_0x18dcec);}}const HUNGER_LEVELS={'FULL':0x0,'SLIGHTLY_HUNGRY':0x1,'HUNGRY':0x2,'STARVING':0x3,'MALNOURISHED':0x4,'DEAD':0x5},HUNGER_STATUS_NAMES={[HUNGER_LEVELS[_0x1d2622(0x9bf)]]:'Full',[HUNGER_LEVELS[_0x1d2622(0xad0)]]:_0x1d2622(0x815),[HUNGER_LEVELS[_0x1d2622(0x5ff)]]:_0x1d2622(0x59a),[HUNGER_LEVELS[_0x1d2622(0x6ec)]]:_0x1d2622(0x335),[HUNGER_LEVELS['MALNOURISHED']]:_0x1d2622(0x160)},citizenHungerData=new Map();function getCitizenHungerLevel(_0x53cf9d){const _0x24694=_0x1d2622,_0x5a8b2d=citizenHungerData[_0x24694(0xc0a)](_0x53cf9d);if(!_0x5a8b2d)return HUNGER_LEVELS[_0x24694(0x9bf)];return _0x5a8b2d[_0x24694(0x75a)]||HUNGER_LEVELS[_0x24694(0x9bf)];}function getHungerStatusDisplay(_0x2163f0){const _0x2cb123=_0x1d2622;return HUNGER_STATUS_NAMES[_0x2163f0]||_0x2cb123(0xa52);}const babyRequests=new Map(),BABY_CHECK_INTERVAL=0x14*0x3c*0x3e8,BABY_CHANCE=0.01;function loadBabyRequests(){const _0x3dbd31=_0x1d2622;try{const _0x206ae8=world['getDynamicProperty'](_0x3dbd31(0xa49));if(_0x206ae8){const _0x322c29=JSON[_0x3dbd31(0xc35)](_0x206ae8);babyRequests['clear']();for(const [_0x39fd75,_0x6c4e0d]of Object[_0x3dbd31(0x74e)](_0x322c29)){babyRequests[_0x3dbd31(0x336)](_0x39fd75,_0x6c4e0d);}}}catch(_0x47ce17){console['error'](_0x3dbd31(0x413),_0x47ce17);}}function saveBabyRequests(){const _0x51fe4d=_0x1d2622;try{const _0x2d9caf=Object[_0x51fe4d(0x5c8)](babyRequests);world[_0x51fe4d(0x4da)](_0x51fe4d(0xa49),JSON['stringify'](_0x2d9caf));}catch(_0x1f984b){console[_0x51fe4d(0x7bf)]('Failed\x20to\x20save\x20baby\x20requests:',_0x1f984b);}}function checkBabyRequests(){const _0x226092=_0x1d2622;try{const _0x30c402=[world['getDimension'](_0x226092(0x182)),world[_0x226092(0xbc8)](_0x226092(0x437)),world[_0x226092(0xbc8)](_0x226092(0x18d))];for(const _0x4612af of _0x30c402){try{const _0x236237=_0x4612af[_0x226092(0xc8f)]({'type':'jerrys_colonies:citizen'});for(const _0x359ed of _0x236237){const _0x277dfd=_0x359ed[_0x226092(0x460)]()[_0x226092(0x2d0)](_0x38bf6b=>_0x38bf6b['startsWith'](_0x226092(0x30d)));if(!_0x277dfd)continue;const _0x3b8610=_0x277dfd['split'](':')[0x1],_0xd095=colonies[_0x226092(0xc0a)](_0x3b8610);if(!_0xd095)continue;if(babyRequests[_0x226092(0xb61)](_0x3b8610))continue;Math[_0x226092(0x247)]()<BABY_CHANCE&&(babyRequests['set'](_0x3b8610,{'requestTime':Date[_0x226092(0x405)](),'parentCitizenId':_0x359ed['id'],'parentCitizenName':_0x359ed[_0x226092(0xa7c)]||'Citizen','notifiedPlayers':[]}),saveBabyRequests());}}catch(_0x229ae0){console[_0x226092(0x7bf)](_0x226092(0xca6),_0x229ae0);}}}catch(_0x303225){console[_0x226092(0x7bf)](_0x226092(0x95a),_0x303225);}}async function showBabyRequestUI(_0x533d64,_0x2fab00,_0x36ddce){const _0x16a198=_0x1d2622;try{const _0x76b7cf=new MessageFormData()['title'](_0x16a198(0x150))[_0x16a198(0x629)](_0x16a198(0xb66))[_0x16a198(0xa5b)](_0x16a198(0x332))[_0x16a198(0x81d)]('Accept'),_0x447681=await _0x76b7cf['show'](_0x533d64);_0x447681[_0x16a198(0x77a)]===0x1?await showBabyNamingUI(_0x533d64,_0x2fab00,_0x36ddce):(babyRequests[_0x16a198(0xbcb)](_0x2fab00['id']),saveBabyRequests(),_0x533d64[_0x16a198(0x34f)](_0x16a198(0x36c)));}catch(_0x58ecae){console[_0x16a198(0x7bf)](_0x16a198(0x48e),_0x58ecae);}}async function showBabyNamingUI(_0x12bda4,_0xfe8a72,_0x37d7f3){const _0x36f606=_0x1d2622;try{const _0x2c867b=new ModalFormData()['title'](_0x36f606(0x9a7))[_0x36f606(0x556)](_0x36f606(0x2b3),_0x36f606(0x958),''),_0x417072=await _0x2c867b[_0x36f606(0x504)](_0x12bda4);if(_0x417072['canceled']){_0x12bda4['sendMessage'](_0x36f606(0xc02));return;}let _0x56339b=_0x417072[_0x36f606(0x36e)][0x0];if(!_0x56339b||_0x56339b[_0x36f606(0x69d)]()===''){const _0x2e8ebb=[_0x36f606(0xc22),_0x36f606(0x9ae),_0x36f606(0x8a8),_0x36f606(0x353),'Sarah','Mike','Lisa',_0x36f606(0xcd9),'Anna',_0x36f606(0x2e8),_0x36f606(0xb52),_0x36f606(0x8ef),_0x36f606(0x8c9),_0x36f606(0x9f0),_0x36f606(0x94d),_0x36f606(0x86d),'Isabella',_0x36f606(0x2cc),_0x36f606(0x716),'Lucas',_0x36f606(0x3a9),_0x36f606(0x29e),_0x36f606(0x388)];_0x56339b=_0x2e8ebb[Math['floor'](Math[_0x36f606(0x247)]()*_0x2e8ebb['length'])],_0x12bda4['sendMessage'](_0x36f606(0x47b)+_0x56339b);}else _0x56339b=_0x56339b[_0x36f606(0x69d)]();await spawnBabyCitizen(_0x12bda4,_0xfe8a72,_0x56339b,_0x37d7f3),babyRequests['delete'](_0xfe8a72['id']),saveBabyRequests();}catch(_0x153378){console[_0x36f606(0x7bf)](_0x36f606(0xc18),_0x153378);}}async function spawnBabyCitizen(_0xb16787,_0x1eb01c,_0x22d458,_0x45bc69){const _0x18e37b=_0x1d2622;try{const _0x2117c4=_0xb16787[_0x18e37b(0xaf8)],_0x3ab424=_0x2117c4[_0x18e37b(0xc8f)]({'type':_0x18e37b(0x127)}),_0x12ec58=_0x3ab424[_0x18e37b(0x7ae)](_0x37cfc4=>_0x37cfc4['getTags']()[_0x18e37b(0x22d)](_0x18e37b(0x30d)+_0x1eb01c['id']));if(_0x12ec58['length']===0x0){_0xb16787[_0x18e37b(0x34f)](_0x18e37b(0x5e5));return;}const _0x97b254=_0x12ec58[Math[_0x18e37b(0x648)](Math[_0x18e37b(0x247)]()*_0x12ec58['length'])],_0x2b9755=_0x97b254[_0x18e37b(0x1f2)],_0x767879=_0x2117c4[_0x18e37b(0x26c)]('jerrys_colonies:citizen',_0x2b9755);if(!_0x767879){_0xb16787[_0x18e37b(0x34f)](_0x18e37b(0x14b));return;}try{_0x767879[_0x18e37b(0xbd0)](_0x18e37b(0x40f));}catch(_0x43e577){console['warn'](_0x18e37b(0x5c0),_0x43e577);}_0x767879['addTag']('baby_citizen');const _0x2cc78b=getColorCode(_0x1eb01c[_0x18e37b(0x16a)][_0x18e37b(0x768)]),_0x46dbd6=_0x2cc78b+'['+_0x1eb01c[_0x18e37b(0xa45)]+']§r';_0x767879['addTag'](_0x18e37b(0x30d)+_0x1eb01c['id']),_0x767879['addTag'](_0x18e37b(0x8bc)+_0x1eb01c[_0x18e37b(0xa45)]),_0x767879[_0x18e37b(0x875)](_0x18e37b(0x2c8)+(_0x1eb01c[_0x18e37b(0xcd0)]||_0xb16787[_0x18e37b(0xa45)])),_0x767879['addTag']('colony_rank:'+_0x46dbd6),setCitizenHungerLevel(_0x767879['id'],HUNGER_LEVELS[_0x18e37b(0x9bf)]),system[_0x18e37b(0x633)](()=>{const _0x116e39=_0x18e37b;_0x767879[_0x116e39(0x25f)]()&&(_0x767879[_0x116e39(0xa7c)]=_0x46dbd6+'\x20'+_0x22d458);},0x1);if(_0x767879[_0x18e37b(0x4da)])try{_0x767879[_0x18e37b(0x4da)](_0x18e37b(0xa45),_0x22d458);}catch(_0x5156e6){console[_0x18e37b(0x5b4)](_0x18e37b(0x65a),_0x5156e6);}_0xb16787['sendMessage'](_0x18e37b(0x776)+_0x22d458+_0x18e37b(0x3c8)+_0x1eb01c[_0x18e37b(0xa45)]+'!'),_0xb16787['sendMessage'](_0x18e37b(0x823));const _0x4ce51b=world[_0x18e37b(0x272)]();for(const _0x2317e0 of _0x4ce51b){_0x2317e0['id']!==_0xb16787['id']&&_0x2317e0[_0x18e37b(0x460)]()[_0x18e37b(0x22d)]('colony_member:'+_0x1eb01c['id'])&&_0x2317e0['sendMessage']('§e'+_0xb16787[_0x18e37b(0xa45)]+_0x18e37b(0xc71)+_0x22d458+_0x18e37b(0x95b));}saveColonyData();}catch(_0x2a5dd2){console['error']('Error\x20spawning\x20baby\x20citizen:',_0x2a5dd2),_0xb16787[_0x18e37b(0x34f)](_0x18e37b(0x14b));}}function notifyBabyRequests(){const _0x437502=_0x1d2622;try{const _0x9f9216=world[_0x437502(0x272)]();for(const [_0x2b36b8,_0x53aa33]of babyRequests[_0x437502(0x74e)]()){const _0x477c05=colonies['get'](_0x2b36b8);if(!_0x477c05){babyRequests['delete'](_0x2b36b8);continue;}for(const _0x692ed2 of _0x9f9216){if(_0x53aa33['notifiedPlayers']&&_0x53aa33[_0x437502(0x5f7)][_0x437502(0x22d)](_0x692ed2['id']))continue;(hasColonyPermission(_0x692ed2,_0x477c05,_0x437502(0x876))||_0x477c05[_0x437502(0x396)]===_0x692ed2['id'])&&(system[_0x437502(0x631)](()=>{showBabyRequestUI(_0x692ed2,_0x477c05,_0x53aa33);}),!_0x53aa33['notifiedPlayers']&&(_0x53aa33[_0x437502(0x5f7)]=[]),_0x53aa33[_0x437502(0x5f7)][_0x437502(0x9bb)](_0x692ed2['id']),saveBabyRequests());}}}catch(_0x1db7fb){console[_0x437502(0x7bf)]('Error\x20in\x20notifyBabyRequests:',_0x1db7fb);}}function checkTavernSignSpawns(){const _0x314eb6=_0x1d2622;try{const _0x1620d6=[world[_0x314eb6(0xbc8)](_0x314eb6(0x182)),world['getDimension'](_0x314eb6(0x437)),world[_0x314eb6(0xbc8)](_0x314eb6(0x18d))];for(const _0x230cf0 of _0x1620d6){try{const _0xabef62=world[_0x314eb6(0x272)](),_0x18a299=new Set();for(const _0x195bcb of _0xabef62){if(_0x195bcb[_0x314eb6(0xaf8)]['id']!==_0x230cf0['id'])continue;const _0x3a3e2c=0x80,_0x5fefea=_0x195bcb[_0x314eb6(0x1f2)];for(let _0x12a9fa=Math[_0x314eb6(0x648)](_0x5fefea['x'])-_0x3a3e2c;_0x12a9fa<=Math[_0x314eb6(0x648)](_0x5fefea['x'])+_0x3a3e2c;_0x12a9fa+=0x10){for(let _0xb01e04=Math[_0x314eb6(0x648)](_0x5fefea['y'])-0x40;_0xb01e04<=Math[_0x314eb6(0x648)](_0x5fefea['y'])+0x40;_0xb01e04+=0x10){for(let _0x1141e1=Math['floor'](_0x5fefea['z'])-_0x3a3e2c;_0x1141e1<=Math[_0x314eb6(0x648)](_0x5fefea['z'])+_0x3a3e2c;_0x1141e1+=0x10){const _0xc9abf2=_0x12a9fa+','+_0xb01e04+','+_0x1141e1;if(_0x18a299[_0x314eb6(0xb61)](_0xc9abf2))continue;_0x18a299[_0x314eb6(0x71a)](_0xc9abf2);try{const _0x28e864=_0x230cf0['getBlock']({'x':_0x12a9fa,'y':_0xb01e04,'z':_0x1141e1});if(_0x28e864&&_0x28e864['typeId']===_0x314eb6(0x785)){if(Math[_0x314eb6(0x247)]()<0.02){const _0xbae0c2={'x':_0x12a9fa+0.5,'y':_0xb01e04,'z':_0x1141e1+0.5},_0x3b7ab0=_0x230cf0[_0x314eb6(0x26c)](_0x314eb6(0x127),_0xbae0c2);if(_0x3b7ab0){setCitizenHungerLevel(_0x3b7ab0['id'],HUNGER_LEVELS['FULL']);const _0xa6ab5b=_0x230cf0[_0x314eb6(0x272)]({'location':_0xbae0c2,'maxDistance':0x40});for(const _0x42e0cb of _0xa6ab5b){}console['log'](_0x314eb6(0xad9)+_0x12a9fa+',\x20'+_0xb01e04+',\x20'+_0x1141e1);}}}}catch(_0x2d40d0){}}}}}}catch(_0x10932f){console[_0x314eb6(0x7bf)]('Error\x20checking\x20tavern\x20signs\x20in\x20dimension:',_0x10932f);}}}catch(_0x4853de){console[_0x314eb6(0x7bf)](_0x314eb6(0x7b5),_0x4853de);}}function getAllCitizenEntities(_0x1752df){const _0x34c394=_0x1d2622,_0x2f5c84=_0x1752df[_0x34c394(0xc8f)]({'type':_0x34c394(0x127)}),_0x43eaa2=_0x1752df[_0x34c394(0xc8f)]({'type':_0x34c394(0xca9)});return[..._0x2f5c84,..._0x43eaa2];}function _0x414c(){const _0x537734=['united_states','getDimension','[PURCHASE_CITIZEN]\x20Citizen\x20name:\x20','§7Colony\x20expansion\x20cancelled.','delete','minecraft:cake','Aspen','fmyanmar','§cFlag\x20teleportation\x20has\x20been\x20disabled\x20by\x20server\x20admins.','triggerEvent','§cStructure\x20too\x20large!\x20Max\x2048x48x48,\x20got\x20','\x22}]}','structure_pack_desert','[MANAGE_CITIZENS]\x20Viewing\x20colony\x20members...','finished','[ARENA]\x20isPlayerInArena\x20called\x20with\x20invalid\x20player\x20object','Failed\x20to\x20restore\x20nameTag,\x20skipping:','nature','\x22,\x20Selected\x20skin:\x20','Legs','drowning','[GUIDEBOOK]\x20Sending\x20welcome\x20message...','frontSide','Tag\x20and\x20teleport\x20command\x20failed:','Back\x20to\x20Manage\x20Citizens','Performance\x20warning\x20in\x20','minecraft:iron_ingot','\x0a§4Malnourished:\x20','minecraft:crafting_table','Entity\x20placement\x20error:','§cYou\x20cannot\x20break\x20blocks\x20in\x20','What\x27s\x20up?\x20Caught\x20some\x20good\x20animals\x20today.\x20Want\x20to\x20see\x20what\x20I\x20got?','§e[Flag]\x20Fictional\x20Flags','\x20days.','mining_fatigue','[PURCHASE_CITIZEN]\x20Final\x20spawn\x20location:\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20\x22','Error\x20teleporting\x20from\x20arena:','minecraft:clay_ball','\x20(Owner)','\x20(needs\x20','Failed\x20to\x20consume\x20totem\x20via\x20command\x20in\x20event\x20handler,\x20trying\x20inventory\x20method:','§cNo\x20members\x20to\x20remove\x20from\x20the\x20colony!','Error\x20scheduling\x20tax\x20reminder:',':\x20Resumed\x20marauder\x20timer\x20with\x20',',\x20and\x20','§cThe\x20pending\x20flag\x20stealing\x20opportunity\x20is\x20no\x20longer\x20valid.','§cError\x20displaying\x20colony\x20details','set_light_gray','variant_','Citizen\x20Role\x20Assignment','placeBlueprints','Converted\x20legacy\x20war\x20timeLeft\x20from\x20ticks\x20to\x20seconds\x20for\x20war\x20','colony_perm_manageCitizens','\x20other\x20crate(s)\x20with\x20§a','\x20is\x20now\x20the\x20primary\x20flag\x20for\x20your\x20colony.','\x20points§r','Planks','Error\x20in\x20knight\x20sync:','§cBaby\x20naming\x20cancelled.','§cYou\x20have\x20no\x20units!\x20Create\x20a\x20unit\x20first.','Royal','citizen.death.falling_block','Error\x20assigning\x20rank.\x20Please\x20try\x20again.','minecraft:leather','set_bangladesh','§7Current\x20Hunger:\x20','get','fsea','set_colombia','Leadership\x20change\x20in\x20','solar','15\x20min\x20(0.25h)','music\x20play\x20record.thearena\x200.6','§4Marauder\x20Interval:\x20','textures/items/iron_pickaxe','§eRemoved\x20unit:\x20§c','Error\x20rallying\x20citizens:','Desert\x20Barn','[ARENA]\x20Successfully\x20restored\x20inventory\x20for\x20player\x20','translate','Error\x20in\x20baby\x20naming\x20UI:','Status:\x20§aPatrolling\x20Area','Ballot\x20Box','commandKnights','§f\x20|\x20§6','September','jerrys_colonies:cosmetic_flag_entity','Remove\x20Member','bkp_','cancel','Alex','§a\x20knights\x20in\x20line\x20formation!','§c.\x20(','jerrys_colonies:blueprint_button_left','):\x0a','blueprintTypeId','set_legion','Error\x20transforming\x20citizen\x20to\x20knight:','Failed\x20to\x20save\x20unit\x20data:','§c§lMarauder\x20Attack!','\x20to\x20','Bandit','volume','egypt','§cTaxes\x20have\x20been\x20disabled\x20for\x20your\x20colony.','Colony\x20Rank:\x20','jerrys_colonies:blueprint_button_','trumpet.horserace','§cYou\x20must\x20own\x20a\x20colony\x20to\x20use\x20the\x20Totem\x20of\x20Peace!','parse','Cobblestone','minecraft:lore','Error\x20showing\x20bounty\x20board\x20UI:','200\x20days\x20IRL','titleraw\x20@s\x20actionbar\x20{\x22rawtext\x22:[{\x22text\x22:\x22\x22}]}','January','teams','§cError\x20removing\x20NPC\x20citizen.\x20Please\x20try\x20again.','\x20blueprint\x20\x22','§cThis\x20unit\x20has\x20no\x20knights!','set_tanzania','entityDie','\x20is\x20already\x20FULL,\x20no\x20need\x20to\x20eat','Soldier','Purchase\x20blueprints\x20for\x20structures','\x0a§7Item:\x20§f','What\x27s\x20up?\x20Been\x20all\x20over\x20the\x20place\x20today.\x20Got\x20some\x20cool\x20things\x20to\x20share!','message','Could\x20not\x20apply\x20colony\x20rank\x20to\x20creator:','\x20wins\x20the\x20war!\x20(','Colony\x20data\x20saved\x20successfully\x20in\x20delayed\x20retry','\x20reconnected\x20while\x20in\x20arena','§cCould\x20not\x20restore\x20area.\x20Returning\x20blueprint\x20item\x20anyway.','Failed\x20to\x20load\x20trumpet\x20data:','.\x20Count:\x20','Citizen\x20','minecraft:jungle_fence','\x20was\x20in\x20the\x20mailbox\x20(inventory\x20full)','\x20is\x20now\x20full!','\x0a\x0a§7Select\x20an\x20action:','Error\x20placing\x20monthly\x20trophy:','set_free','set_strength','dr_congo','playsound\x20balloon.pop\x20@a[r=10]\x20~\x20~\x20~\x201.0','Could\x20not\x20play\x20whistle\x20sound\x20for\x20','itemCount','fall','Failed\x20to\x20save\x20pending\x20flag\x20steals:','\x20colonies','Colony\x20Name:','jerrys_colonies:cosmetic_flag','\x20NPC','Attack\x20result:\x20Spawned\x20','Error\x20in\x20tryConsumeFoodFromNearestCrate:','%s\x20withered\x20away','setActionBar','§a\x20to\x20§b','February','set_white','Stone','\x20colonies,\x20skipped\x20','§cFailed\x20to\x20rotate\x20structure!','minecraft:cod','nextElection','following_player','\x20registered\x20for\x20colony\x20§6','trumpet_data','keys','\x20has\x20accepted\x20a\x20baby\x20request!\x20Welcome\x20baby\x20','\x20consumed\x201\x20food\x20point\x20from\x20colony\x20','§aYour\x20colony\x20has\x20won\x20the\x20war\x20against\x20§6','\x20is\x20already\x20a\x20member\x20of\x20','Error\x20creating\x20colony:','minecraft:wheat_seeds','Leave\x20Colony','\x20is\x20no\x20longer\x20valid','music\x20play\x20arenavocals.intro\x201.0','jerrys_colonies:gray_territory_marker_block',',\x20Owner:\x20','§cError\x20viewing\x20tax\x20status.','Colony:\x20','minecraft:tropical_fish','Invite\x20Citizen\x20(','§4Marauder\x20Attack\x20Interval','\x20(not\x20manual)',',r=0.5]\x20~\x20~-500\x20~','feet','Citizenship:\x20','currentLocation','citizen.death.lightning','§c§lYou\x20cannot\x20enter\x20the\x20arena\x20with\x20items\x20in\x20your\x20inventory!','colony_perm_interactBlocks','map','set_iran','Error\x20showing\x20undo\x20form:','Error\x20checking\x20online\x20colony\x20members:','forward','warVictories','getEntities','Leave\x20Current\x20Colony','Claim\x20Citizens\x20-\x20','How\x27s\x20it\x20going?\x20The\x20fish\x20were\x20biting\x20today.\x20Want\x20to\x20see\x20my\x20catch?','§cYou\x20must\x20be\x20a\x20member\x20of\x20a\x20colony\x20to\x20place\x20cosmetic\x20flags!','§7•\x20Browse\x20public\x20matches','initiator','§aTransfer\x20Ownership','§cCitizen\x20name\x20is\x20too\x20long.\x20Maximum\x2030\x20characters.','§tLogger\x0a§4Wood\x20&\x20Forestry','\x20in\x20dimension\x20','Owner:\x20','Bodhi','Message:\x20\x22','desertpack/delux\x20desert\x20house','§cError:\x20Cannot\x20find\x20colony\x20to\x20delete.\x20It\x20may\x20have\x20been\x20deleted\x20already.','Julian','[PURCHASE_CITIZEN]\x20Max\x20NPCs\x20reached,\x20blocking\x20purchase','active_wars','§7Select\x20a\x20player\x20to\x20invite\x20to\x20your\x20colony:','§aTotem\x20of\x20Peace\x20used!\x20Marauder\x20attacks\x20on\x20colony\x20\x22','\x0a§lColony\x20Level:\x20','Tax\x20Details:\x20','Error\x20checking\x20citizens\x20for\x20baby\x20requests:','\x20vs\x20','\x20flag(s)\x20transferred\x20to\x20','jerrys_colonies:knight','§cYour\x20mailbox\x20is\x20empty!','Confirm\x20Ownership\x20Transfer','event.whistle','§cYou\x20need\x20at\x20least\x202\x20builders\x20in\x20your\x20colony\x20to\x20construct\x20buildings!','Classic\x20Colors','Hey\x20there!\x20Still\x20tracking\x20some\x20animals\x20out\x20there.\x20Come\x20back\x20in\x20a\x20bit!','Emery','\x20citizens\x20reassigned.\x20A\x20colony\x20flag\x20item\x20has\x20been\x20dropped\x20at\x20your\x20feet.','plagueTimeRemaining','Error\x20removing\x20member\x20from\x20colony:','§cYou\x20must\x20be\x20in\x20a\x20colony\x20to\x20create\x20matches!','§cNo\x20other\x20colonies\x20to\x20set\x20relations\x20with!','new_zealand','§cWarning:\x20Could\x20not\x20set\x20custom\x20flag\x20color,\x20using\x20default\x20white.','minecraft:oak_pressure_plate','Amount\x20to\x20send\x20(1-','Edit\x20Rank:\x20','Innkeeper\x20[Fem.]','jerrys_colonies:blueprint_watchtower','set_philippines','set_australia','Added\x20missing\x20dimension\x20property\x20to\x20colony\x20','3000\x20min\x20(50h)','\x20minutes\x20from\x20now','Select\x20Rank','§o\x22','citizen_type:builder','Failed\x20to\x20process\x20entity\x20during\x20arena\x20cleanup:\x20','Magenta','jerrys_colonies:cyan_territory_marker_block','[GRAVE]\x20Cannot\x20place\x20grave\x20at\x20death\x20location\x20-\x20block\x20is\x20not\x20replaceable:\x20','Cow\x20Pen','Hey!\x20Still\x20got\x20my\x20line\x20in\x20the\x20water.\x20Fish\x20are\x20being\x20shy\x20today!','watchtower','minecraft:dispenser','round','§aMailbox\x20contained\x20','plagueIntervalMinutes','owner','Error\x20creating\x20rank.\x20Please\x20try\x20again.','\x20set\x20minecraft:free\x20ease\x200.01\x20linear\x20pos\x2050031\x20120.30\x2050050\x20rot\x20-30\x200','clearRun','strength','beforeEvents','length','10\x20Minutes','item','David','§cNo\x20eligible\x20colonies\x20to\x20declare\x20war\x20on!\x20You\x20must\x20first\x20set\x20colonies\x20as\x20\x27Enemy\x27\x20via\x20diplomacy\x20before\x20declaring\x20war.','canada','\x20will\x20stand\x20still\x20here.','jerrys_colonies:arenaking','jerrys_colonies:magenta_territory_marker_block','§cWarning:\x20Could\x20not\x20apply\x20colony\x20rank\x20display.\x20Your\x20name\x20tag\x20may\x20not\x20show\x20your\x20colony.','Dark','playing_disc','buttons','[GUIDEBOOK]\x20=====\x20COMPLETED\x20GUIDEBOOK\x20DISTRIBUTION\x20FOR:\x20','No\x20loaded\x20flag\x20locations\x20provided\x20for\x20marauder\x20attack','§aPurchased\x20blueprint:\x20','Could\x20not\x20trigger\x20color\x20event:\x20','black','jerrys_colonies:blueprint_button_cancel','\x20player(s).\x0aThey\x20will\x20lose\x20their\x20rank\x20permissions.','Processing\x20election\x20for\x20colony:\x20','Failed\x20to\x20save\x20bounties:','§cYou\x20are\x20already\x20in\x20a\x20match!\x20Leave\x20your\x20current\x20match\x20first.','\x20logged\x20off\x20and\x20was\x20removed\x20from\x20the\x20match!','titleraw\x20@s\x20actionbar\x20{\x22rawtext\x22:[{\x22text\x22:\x22','biweekly','\x20minutes','New\x20Colony','fethiopia','§aSteal\x20Flag','playerSpawn','light_blue','textures/ui/book_edit_default','minecraft:bread','Create\x20New\x20Rank','\x0a\x0aChange\x20Your\x20Vote:','Change\x20Flag\x20Color','minecraft:oak_log','jerrys_colonies:blueprint_silo','jerrys_colonies:marauder_flag','suffocation','Error\x20handling\x20arena\x20reconnection:','chemist','offhand','%s\x20was\x20squashed\x20by\x20a\x20falling\x20anvil','Flag\x20placement\x20at\x20x:','!\x20Reward:\x20','view_colony_flags','§cFailed\x20to\x20spawn\x20citizen.\x20Please\x20try\x20again.','§aYou\x20have\x20transferred\x20ownership\x20of\x20§6','§cPlease\x20enter\x20a\x20valid\x20amount\x20between\x201\x20and\x20','playsound\x20mob.wither.spawn\x20@s\x20~\x20~\x20~\x201.0\x201.0\x201.0','§cAn\x20error\x20occurred\x20in\x20colony\x20management\x20form.','Isa','event.war_over','[ARENA]\x20handleArenaReconnection\x20called\x20with\x20invalid\x20player\x20object','Emperor','north','Structure\x20restore\x20command:\x20','[ARENA]\x20Failed\x20to\x20restore\x20enchantments,\x20skipping:','runCommand','§lStanding\x20Formations§r','Turkey','\x20spectators','§cUnknown\x20module\x20selected:\x20','inventory','set_poland','Accept\x20(Merge\x20colonies\x20if\x20both\x20own\x20one)','prev_y','§c§lARENA\x20MATCH\x20ENDED!\x0a\x0a','fthailand','[Init]\x20Completed\x20stray\x20exclamation\x20cleanup','jerrys_colonies:trophy_winter_offensive','§aGlobal\x20prices\x20updated\x20for\x20all\x20colony\x20purchases\x20and\x20construction.','minecraft:planks','\x0a§5Next\x20Plague:\x20','fgreen','title','createdByColonyId','§cThis\x20mailbox\x20doesn\x27t\x20belong\x20to\x20you.','No\x20flag\x20entities\x20found\x20at\x20the\x20specified\x20location','jerrys_colonies:balloon_death','minecraft:stick','minecraft:diamond_boots','Error\x20removing\x20NPC\x20citizen:','textures/ui/refresh','§cFailed\x20to\x20backup\x20terrain!','§cSelect\x20War\x20Duration','[GRAVE]\x20Error\x20reading\x20gravestone:','playsound\x20arena.enter\x20@s','textures/items/iron_sword','Organize\x20Units','\x20total\x20points\x20-\x20OK','\x20enemy\x20knights\x20back\x20to\x20knights,\x20','set_red','How\x27s\x20it\x20going?\x20Had\x20a\x20good\x20day\x20at\x20work.\x20Want\x20to\x20see\x20what\x20I\x20made?','rotate','toggle','\x20with\x20','§cError\x20opening\x20Match\x20Manager:\x20','minecraft:crimson_fence_gate','fitaly','\x20minutes.',')\x20has\x20been\x20inactive\x20for\x20','\x20in\x20','§cError\x20accessing\x20flag.\x20Please\x20try\x20again.','Could\x20not\x20clean\x20up\x20flag\x20entity\x20after\x20failure:','minecraft:arrow','Citizen\x20Status:\x0a','Standing\x20Formations','jerrys_colonies:bomb','npc','Hey!\x20Still\x20got\x20dough\x20rising.\x20Gotta\x20wait\x20for\x20it\x20to\x20be\x20perfect!','playerLives','Could\x20not\x20update\x20flag\x20entity\x20tags:','textures/items/arrow','§7Rotated\x20structure','Error\x20in\x20showMoveFlagForm:','§c§lLeave\x20Match','§l§cFIGHT!','textures/ui/toggle_off','§cYou\x20can\x20only\x20command\x20knights\x20from\x20your\x20own\x20colony!','§cThere\x20is\x20already\x20an\x20ongoing\x20arena\x20match!','set_united_kingdom','Team\x201','§cOnly\x20the\x20match\x20creator\x20can\x20start\x20the\x20match!','Bangladesh','Error\x20checking\x20flag\x20entities:','applyDamage','ATTACK\x20INITIATED:\x20Spawning\x20marauder\x20attack\x20at\x20colony\x20','\x20placed!\x20Use\x20the\x20buttons\x20to\x20adjust\x20position.','colony_rank:','confirm','trumpet.charge','.\x20Returning\x20blueprint\x20item\x20anyway.','[ARENA]\x20Restored\x20enchantment:\x20','minecraft:glowstone_dust','maxPlayers','Oh\x20hey!\x20I\x27m\x20building\x20something\x20awesome.\x20Come\x20back\x20later!','Multiple\x20performance\x20warnings\x20detected.\x20Consider\x20reducing\x20update\x20frequencies\x20to\x20prevent\x20watchdog\x20exceptions.','South\x20Korea','\x20crate','itemTypeId','Failed\x20to\x20save\x20player\x20spouses:','§cCannot\x20move\x20flag\x20up\x20-\x20no\x20fence\x20post\x20found!','Error\x20showing\x20tax\x20records:','How\x27s\x20it\x20going?\x20Built\x20some\x20cool\x20contraptions.\x20Want\x20some\x20mechanical\x20stuff?','food_crate_data','s\x20are','.\x20New\x20total:\x20','\x0a§8─────────────────§r\x0a','arena_player_caches','Team\x20Size:','30\x20Minutes','jerrys_colonies:yellow_territory_marker_block','Nat','Arena\x20intro\x20music\x20triggered','setType','§aPaid\x20✓','frequency','minecraft:cherry_fence','maxX','recipientName','jerrys_colonies:citizen','addEnchantment','Captain','marauderIntervalMinutes','maxAmount','[ARENA]\x20No\x20stored\x20inventory\x20found\x20for\x20player\x20','nigeria','Tax\x20Payment\x20Due\x20-\x20','§eMax\x20Flags\x20per\x20Colony','mailbox_data','minecraft:stone','removeEffect','knight_mode:patrol','Light\x20Blue','Desert\x20Arena','free','\x20from\x20colony\x20','myanmar','§cError:\x20','Bartender\x20[Fem.]','%s\x20has\x20passed\x20away','\x20colonies\x20from\x20saved\x20data','§6Confirm\x20Flag\x20Theft','Failed\x20to\x20save\x20visited\x20colonies\x20data:','%s\x20was\x20killed\x20by\x20%s','purple','set_funity','BALLOON\x20ERROR:\x20Error\x20in\x20balloon\x20spawn\x20logic:\x20','\x20entity\x20placed\x20successfully!','timestamp','§7Your\x20colony\x20has\x20','Blaise','Kell','§cCannot\x20place\x20flag\x20-\x20colony\x20has\x20reached\x20the\x20maximum\x20limit\x20of\x20','textures/items/compass_item','Private\x20Match:','§cFailed\x20to\x20spawn\x20baby\x20citizen!','set_ethiopia','stack','jerrys_colonies:healing_tonic','Blueprint\x20Packs§f§0§1','Baby\x20Request','minecraft:dark_oak_log','minecraft:pumpkin','clear\x20@s','Click\x20a\x20knight\x20to\x20toggle\x20assignment§r','Hope','Standalone\x20Crate','players','set_south_africa','4000\x20min\x20(66.7h)','replace','Flower','minecraft:glistering_melon_slice','Manage\x20Player\x20Ranks','concat','jerrys_colonies:blueprint_cow_pen','§4Malnourished','\x20(colony\x20','fblack','[MANAGE_CITIZENS]\x20Managing\x20player\x20ranks...','\x0a\x0aClick\x20on\x20a\x20match\x20to\x20join:','player_kills','Marauder','minecraft:salmon','§6View\x20Individual\x20Citizens',',\x20used\x20','color','Blocking\x20interaction\x20with\x20','§cYou\x20have\x20been\x20removed\x20from\x20the\x20colony\x20','\x20is\x20already\x20a\x20member\x20of\x20another\x20colony:\x20','Winslow','[FOOD_CRATE]\x20INTEGRITY:\x20Points\x20mismatch\x20for\x20','end_war_mode_side_2','effect\x20@s\x20slow_falling\x20999999\x209\x20true','§cError\x20displaying\x20colony\x20browser','§cError\x20joining\x20match:\x20','No\x20Colonies\x20Exist\x20yet!','Select\x20a\x20unit\x20to\x20command§r','silo','Indonesia','moveBack','[MANAGE_CITIZENS]\x20Rallying\x20citizens...','Sweden','[GUIDEBOOK]\x20Error\x20giving\x20guidebook\x20to\x20player:','Manage\x20Citizens','Failed\x20to\x20save\x20taxation\x20reminders:','\x20for\x20non-member\x20','\x20automatically\x20consumed\x20','MAX_VALUE','§cLocation:\x20','overworld','\x20is\x20under\x20attack!','\x20has\x20no\x20rank\x20-\x20permissions\x20cleared','Invite\x20Player\x20-\x20','Howdy!\x20Waiting\x20for\x20the\x20fish\x20to\x20bite.\x20Come\x20back\x20later\x20for\x20the\x20catch!','set_orange','\x0aPopulation:\x20','\x0aTeam\x20Size:\x20','30\x20days\x20IRL','set_magenta','§cYou\x20can\x20only\x20send\x20one\x20item\x20at\x20a\x20time.\x20Wait\x20for\x20your\x20current\x20delivery\x20to\x20complete.','the_end','§aWar\x20is\x20disabled\x20on\x20Christmas.\x20Happy\x20Holidays!','titleraw\x20@s\x20subtitle\x20{\x22rawtext\x22:[{\x22text\x22:\x22','No\x20flag\x20entity\x20found\x20at\x20','18zborUL','South','textures/ui/globe','active_bounties','npcs','§cYou\x20don\x27t\x20have\x20any\x20food\x20items\x20to\x20deposit!','My\x20Mailbox','Could\x20not\x20remove\x20colony\x20rank\x20from\x20removed\x20player:','Create\x20Colony','Hey!\x20Still\x20mixing\x20chemicals.\x20Gotta\x20get\x20the\x20formula\x20just\x20right!','transfer_ownership','falling','Colony\x20data\x20saved\x20successfully\x20after\x20flag\x20placement','Could\x20not\x20play\x20marauder\x20attack\x20sound\x20for\x20player\x20','jerrys_colonies:studded_crown','§r\x20-\x20§b','\x20back\x20to\x20saved\x20location:\x20','jerrys_colonies:spectator','Error\x20cleaning\x20up\x20balloon\x20tracking:','Baker','Hello!\x20Got\x20some\x20things\x20ready\x20if\x20you\x20want\x20\x27em.','\x20players)\x0aColony\x20Flags:\x20','\x20Amount','Deathmatch','minecraft:mangrove_fence_gate','minecraft:spruce_fence','Error\x20selecting\x20flag\x20color:','§cError\x20starting\x20match:\x20','set_builder_','Flynn','Removed\x20last\x20flag\x20item\x20from\x20inventory','Error\x20in\x20flag\x20rename\x20form:','View\x20All\x20Colonies','\x20crates,\x20','DEAD','Expand\x20Colony','Message\x20(optional):','minecraft:sand','§r\x20has\x20stolen\x20a\x20flag\x20from\x20§c','§cError:\x20Citizen\x20tried\x20to\x20give\x20invalid\x20item\x20\x27','scriptEventReceive','%s\x20fell\x20to\x20their\x20death','arena_saved_inventory','jerrys_colonies:ballot_box','Error\x20setting\x20cosmetic\x20flag\x20color:','Invalid\x20item\x20identifier\x20\x27','\x20but\x20only\x20have\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20this\x20flag?\x20This\x20will\x20remove\x20this\x20part\x20of\x20your\x20colony\x20territory\x20and\x20reassign\x20citizens.\x20This\x20action\x20cannot\x20be\x20undone.','§7Select\x20a\x20player\x20to\x20make\x20the\x20new\x20owner.\x20You\x20will\x20remain\x20a\x20member.','fvietnam','New\x20Zealand','No\x20saved\x20colony\x20data\x20found.\x20Starting\x20with\x20empty\x20colonies\x20map.','Hunter','§aFlag\x20moved\x20down!','Neither\x20of\x20you\x20own\x20a\x20colony,\x20but\x20you\x20are\x20now\x20married!','scores','fgreece','Error\x20giving\x20bounty\x20reward:','ftogether','delete_colony','Failed\x20to\x20restore\x20nested\x20container\x20data,\x20skipping:','plagued','minecraft:jungle_fence_gate','\x0aDuration:\x20','tp\x20@s\x2050031.44\x20112.00\x2050007.62','Desert\x20Base','[GRAVE]\x20Set\x20grave\x20facing\x20direction\x20to:\x20','\x20hungry\x20citizen','Failed\x20with\x20animation:','Error\x20processing\x20colony\x20','splice','§cYou\x20cannot\x20be\x20in\x20the\x20arena\x20area\x20without\x20being\x20in\x20a\x20match!','france','\x20placed\x20a\x20bounty\x20on\x20','stringify','§cTeleport\x20cancelled!\x20You\x20moved.','§cYou\x20are\x20not\x20in\x20this\x20match!','[WAR\x20KILL\x20IGNORED]\x20Killer:\x20','jerrys_colonies:register_expansion','waitingTimeout','minecraft:bamboo_fence_gate','\x20with\x203\x20food\x20points','jerrys_colonies:enemy_knight','Choose\x20who\x20to\x20send\x20mail\x20to:','containerData','senderName','set_cyan','\x22\x20exceeds\x20size\x20limits.\x20Clamping\x20to\x2015x22x15.','Hey!\x20Just\x20got\x20back\x20from\x20exploring.\x20Found\x20some\x20rare\x20stuff\x20for\x20ya!','face','jerrys_colonies:crown','Set\x20cosmetic\x20flag\x20near\x20team\x201\x20to\x20','Scribe\x20[Masc.]','Funity','[FOOD_CRATE]\x20WARNING:\x20Save\x20verification\x20failed\x20-\x20data\x20mismatch!','Flag\x20Name:','jerrys_colonies:supply_chest','location','magenta','Sebbi','§c[Auto-Delete]\x20Colony\x20\x22','Rename\x20Flag','damageSource','indonesia','player\x20is\x20null/undefined','\x0a\x0aCitizens\x20consume\x201\x20point§r\x20per\x20feeding.','ffriendly','maxY','§eYour\x20colony\x20has\x20won\x20the\x20war\x20against\x20','max_z','§cThe\x20opponent\x20team\x20is\x20full!','Unrecognized','\x20used\x20a\x20Totem\x20of\x20Peace!\x20Marauder\x20attacks\x20on\x20colony\x20\x22','Failed\x20to\x20update\x20food\x20crate\x20texture:','§eDeleting\x20flag\x20and\x20reassigning\x20territory...','[GUIDEBOOK]\x20Adding\x20received_guidebook\x20tag...','backupLocation','Show\x20Flag\x20Packs','positionUpdateCounter','New\x20colony\x20color:\x20','colonyId','amplifier','Assign\x20Ranks\x20to\x20Players','§cError\x20viewing\x20members.\x20Please\x20try\x20again.','Denver','Executing\x20spawnMarauderAttack\x20for\x20colony\x20','[ARENA]\x20Set\x20item\x20','6386752cLnCEz','minecraft:prismarine_crystals','Player\x20valid:','chest','Jules','[GRAVE]\x20Error\x20placing\x20grave\x20block:','Italy','minecraft:acacia_fence','jerrys_colonies:trophy_spooky','Error\x20loading\x20arena1\x20structure:','Manage\x20your\x20knight\x20units§r','behaviorDimensionIndex','minecraft:golden_carrot','[ARENA]\x20Failed\x20to\x20set\x20item\x20in\x20slot\x20','\x20level\x20','fgray','variant','particle\x20minecraft:huge_explosion_emitter\x20~\x20~\x20~','NPC','Jerry\x27s\x20Colonies','Starting\x20delayed\x20teleport\x20to:\x20','sweden','Failed\x20to\x20save\x20player\x20kills\x20data:','jerrys_colonies:bandit_flag_entity','[MATCH]\x20Player\x20','Choose\x20an\x20action\x20for\x20the\x20flag:','You\x20are\x20already\x20married\x20to\x20someone\x20else!','§7To\x20manage\x20your\x20own\x20colony,\x20interact\x20with\x20your\x20colony\x20flag.','Light\x20Gray','includes','\x200_degrees\x20none\x20block_by_block\x205','trumpet.royal','Due\x20Date:\x20','funited_states','drop_bomb','A\x20knight','Error\x20checking\x20balloon\x20collision:','toLocaleDateString','Delete\x20Flag\x20Without\x20Item\x20Return','France','\x20§7(','\x20citizens\x20reassigned.\x20§c(Could\x20not\x20return\x20flag\x20item)','textures/items/','minecraft:golden_spear','new','Mayor\x27s\x20table\x20found\x20colony:\x20','arena1_loaded','colony_','\x20quit\x20during\x20active\x20match\x20-\x20removed\x20from\x20match','getAllPlayers','§7Restoring\x20area...','isEntity','Remove\x20Colony\x20Member','Enter\x20a\x20custom\x20name...','citizen.death.player','random','minecraft:mangrove_button','No\x20color\x20event\x20found\x20for\x20color\x20value:\x20','§cNo\x20flag\x20packs\x20are\x20currently\x20enabled.','\x22\x20has\x20been\x20deleted.','§7Select\x20a\x20citizen\x20to\x20manage\x20their\x20hunger:','Interact\x20with\x20Blocks','Could\x20not\x20update\x20citizens\x20in\x20dimension:\x20','knight_sit','Heya!\x20Been\x20by\x20the\x20water\x20all\x20day.\x20Got\x20some\x20good\x20seafood\x20if\x20you\x20want\x20it.','Failed\x20to\x20save\x20citizen\x20gift\x20cooldowns:','admin','trumpet.wake_up','\x0a\x0aOwner:\x20','[PLAYER\x20JOIN]\x20Colony\x20found:\x20','Error\x20in\x20color\x20pack\x20selection:','Rank:\x20','fpakistan','set_green','Select\x20Recipient','-\x20Total\x20Votes\x20Cast:\x20','minecraft:crimson_door','[ARENA]\x20Restored\x20lore:\x20','§lRefresh','isValid','minZ','votes','Error\x20saving\x20mailbox\x20data:','Keep\x20It','§aYou\x20have\x20successfully\x20stolen\x20a\x20flag\x20from\x20§6','sapling','Browse\x20Colonies','Yellow','start_war_mode_side_2','§6Beginning\x20teleport\x20to\x20','Gene','§7Previous\x20Leader:\x20','spawnEntity','Soren','container','minecraft:birch_button','Message:\x20§f\x22','jerrys_colonies:large_boat','getPlayers','textures/ui/teleport','\x20points§a!','minecraft:ender_pearl','§a!\x20(','minecraft:compass','§d§lJoin\x20Private\x20Match','citizen_type:botanist','-\x20Total:\x20','minecraft:coal','Colonies\x20Discovered:\x20','\x20deposited\x20','magic','minecraft:spruce_door','void','set_germany','\x20fade\x20time\x203\x203\x203\x20color\x20255\x20255\x20255','permissions','monthly','playSound','bangladesh','to_regular','colony_perm_manageBabies','How\x27s\x20it\x20going?\x20Made\x20way\x20too\x20much\x20food\x20today.\x20Got\x20some\x20delicious\x20stuff\x20here!','\x20is','§aCompleted\x20placing\x20','§a\x20with\x20a\x20new\x20flag!\x20(','\x0a§c(This\x20is\x20your\x20primary\x20colony\x20flag)','\x20§e(NPC)','Choose\x20Flag\x20Pack','afterEvents','§cYou\x20cannot\x20place\x20a\x20flag\x20within\x20200\x20blocks\x20of\x20another\x20colony\x27s\x20flag!','jerrys_colonies:','§7\x20to\x20§a','\x20available)','Error\x20in\x20balloon\x20handler:','minecraft:acacia_fence_gate','Failed\x20to\x20play\x20totem\x20sound:','in_arena','getComponent','\x20on\x20entity:\x20','trumpet.whinny','§eArmor\x20removed\x20from\x20knight\x20to\x20convert\x20to\x20cavalry','starve','Logan','structure','colony:','prev_inventory','Error\x20in\x20showPrivateMatchesUI:','jerryeatsbeans.com/Colonies\x0a\x0a','Arena\x20music\x20disc\x20sound\x20triggered','\x20=====','minecraft:golden_boots','[GUIDEBOOK]\x20Creating\x20colony\x20ledger\x20item...','What\x20would\x20you\x20like\x20to\x20do?','Delete\x20Colony','fflower','§cYou\x20cannot\x20place\x20a\x20flag\x20within\x20200\x20blocks\x20of\x20your\x20own\x20colony\x27s\x20flags!','§cYou\x20must\x20be\x20a\x20member\x20of\x20a\x20colony\x20to\x20place\x20a\x20ballot\x20box!','knights','minecraft:iron_spear','taxItem','You\x20will\x20be\x20reminded\x20about\x20taxes\x20in\x2015\x20minutes.','fsouth_korea','§lColony\x20Level:\x20','Baby\x20Name:','minecraft:nether_brick_fence','Rank\x20\x22','minecraft:oak_button','\x20logged\x20off\x20and\x20was\x20removed\x20from\x20team\x20§6','Duel',')\x20absorbs\x20','starvation','Coal','§cNo\x20song\x20selected!\x20Crouch\x20and\x20right-click\x20to\x20select\x20a\x20song.','Teleport\x20to\x20Flag','\x20-\x20Flag\x20Locations','textures/ui/inbox_icon','colombia','min','forEach','minecraft:stone_bricks','§cBlueprint\x20Workbench\x20disabled\x20by\x20admins','\x20is\x20now\x20malnourished!','fdr_congo','Enter\x20new\x20name...','colony_owner:','§cThere\x27s\x20already\x20a\x20flag\x20near\x20this\x20fence!','diplomacy','§eYou\x20can\x20now\x20claim\x20one\x20of\x20their\x20non-primary\x20flags.','Ethan','jerrys_colonies:blueprint_farmhouse','[FOOD_CRATE]\x20INTEGRITY:\x20No\x20saved\x20data\x20but\x20','level','find','§aSet\x20to\x20Full','Noble\x20[Masc.]','2880\x20min\x20(48h)','active','minecraft:iron_leggings','hasOwnProperty',',\x20skipping:','minecraft:player','set_egypt','minecraft:fermented_spider_eye','§cError\x20leaving\x20match:\x20','holy','flag_pack_fictional','russia','leave_colony','War\x20Victories:\x20','minecraft:birch_log','§cNo\x20citizens\x20found\x20in\x20this\x20colony!','Overdue!','target','Deposit\x20All\x20Food','§cError\x20setting\x20diplomatic\x20relations.','§7Select\x20a\x20colony\x20to\x20declare\x20war\x20on:','James','textures/items/fishing_rod_uncast','§bModules\x20&\x20Pack\x20Visibility','colors','Error\x20applying\x20slow\x20falling:','Error\x20configuring\x20taxes:','Error\x20purchasing\x20citizen:','\x20-\x20','Large\x20Boat','Remove\x20Unit','permutationToPlace','Error\x20in\x20showMailboxUI:','minecraft:glass_bottle','§cThis\x20match\x20no\x20longer\x20exists.','===\x20ELECTION\x20RESULTS\x20===','fwhite','§7Place\x20a\x20§bMayor\x27s\x20Table\x20§7within\x20100\x20blocks\x20of\x20your\x20flag\x20to\x20manage\x20your\x20colony.','from','jerrys_colonies:grave','citizen.death.anvil','Japan','Back\x20to\x20Taxation\x20Menu','-\x20Players:\x20','Bi-weekly','§lDone','§cNo\x20other\x20players\x20are\x20online\x20to\x20place\x20bounties\x20on!','minecraft:trident','Could\x20not\x20access\x20overworld\x20dimension\x20for\x20arena\x20entity\x20cleanup','Failed\x20to\x20mark\x20arena\x20as\x20loaded:','deliveryTime','friendly','minecraft:potato','Valor','Your\x20current\x20vote\x20for\x20§e','Library','fkenya','Consuming\x20flag\x20item\x20from\x20player\x20inventory,\x20current\x20amount:\x20','colony_id:','180\x20min\x20(3h)','[PURCHASE_CITIZEN]\x20Insufficient\x20items,\x20blocking\x20purchase','§cYou\x20must\x20have\x20the\x20\x27admin\x27\x20tag\x20to\x20use\x20the\x20Mod\x20Tool.','jerrys_colonies:exclamation','§a.','lava','Error\x20claiming\x20citizen:','No\x20spectators\x20found\x20in\x20arena\x20area','Fishermen\x20catch\x20fish\x20and\x20gather\x20aquatic\x20resources.','Could\x20not\x20play\x20whistle\x20sound\x20for\x20colony\x20creation:\x20','§cThis\x20match\x20is\x20not\x20private.\x20Join\x20it\x20through\x20Public\x20Matches\x20instead.',',\x20skipping\x20item:','-\x20Elections:\x20','Flag','Could\x20not\x20offer\x20flag\x20stealing:\x20one\x20of\x20the\x20colonies\x20no\x20longer\x20exists','\x22\x20has\x20been\x20disbanded\x20(all\x20members\x20died)','[WAR]\x20Enemy\x20knight\x20in\x20unloaded\x20chunk,\x20will\x20convert\x20when\x20loaded:\x20','button','§cWarning:\x20Could\x20not\x20apply\x20colony\x20rank.\x20Try\x20again\x20or\x20contact\x20an\x20administrator.','\x20vs\x20???','§lMatch\x20\x22',',y=','120\x20min\x20(2h)','set_sea','§eTeleporting\x20in\x20',']§r','equippable','DR\x20Congo','slot','colony_perm_commandKnights','playerRanks','Confirm\x20error:','minecraft:leather_helmet','%s\x20was\x20blown\x20to\x20bits','§e\x20still\x20has\x20','§cBandit\x20flags\x20can\x20only\x20be\x20placed\x20on\x20fences!','§cDeny','Flag\x20error:','[GUIDEBOOK]\x20Welcome\x20message\x20sent\x20successfully','§cStarving','set','south_korea','Select\x20a\x20rank\x20to\x20edit\x20or\x20delete:','set_','Modules','§bMiniMap\x20Comp.\x20Mode','Back\x20to\x20Colony\x20List','addEffect','-\x20Next\x20Election:\x20','Defensive\x20Pact','citizen.death.fall',':\x20Initialized\x20plague\x20timer\x20to\x20','removeJukebox','minecraft:equippable','[FOOD_CRATE]\x20Successfully\x20loaded\x20','minecraft:rabbit_hide','minecraft:wheat','\x20times)','getJukebox','Builders\x20gather\x20glass,\x20bricks,\x20and\x20other\x20materials\x20for\x20construction.','§cFailed\x20to\x20place\x20structure!','minecraft:observer','§7Updated\x20all\x20citizens,\x20knights,\x20players,\x20and\x20flags.','[PURCHASE_CITIZEN]\x20Confirmation\x20form\x20response\x20-\x20canceled:\x20','Botanist','sendMessage','set_turkey','minecraft:dark_oak_trapdoor','electionHistory','John','\x20set\x20minecraft:free\x20ease\x207\x20in_cubic\x20pos\x2050031.50\x20106.18\x2050038.50','\x20colony)','minecraft:gravel','4320\x20min\x20(72h)','Owner','primary\x20flag','minecraft:cardinal_direction','\x20hunger\x20increased\x20to\x20level\x20','ffunity','builder','citizen_type:enemy_knight','%s\x20tried\x20to\x20swim\x20in\x20lava','§cThis\x20match\x20has\x20already\x20started\x20or\x20finished!','entityHitEntity','Elis','Logger','\x0a\x0aPlayer\x20Members:\x0a','Plains\x20Pack','plague_end:','[FOOD_CRATE]\x20INTEGRITY\x20CHECK:\x20','Legion','construction','citizenNamingIndex','←\x20Back\x20to\x20Color\x20Packs','§cBaby\x20request\x20denied.','\x20spectators\x20in\x20arena,\x20triggering\x20animations','formValues','join','citizen.death.thorns','Howdy!\x20Still\x20putting\x20together\x20materials\x20for\x20the\x20next\x20build.\x20Try\x20again\x20soon!','jerrys_colonies:blueprint_market_stand','Leatherman\x20[Masc.]','pink','Error\x20in\x20delayed\x20colony\x20data\x20save\x20retry:','\x20(Owner:\x20','[ARENA]\x20Verified\x20saved\x20location\x20for\x20','reminderTime','Howdy!\x20Finding\x20the\x20perfect\x20trees\x20right\x20now.\x20Check\x20back\x20later!','Number\x20of\x20citizens\x20to\x20claim:','\x20is\x20now\x20slightly\x20hungry!','\x20-\x20checking\x20world\x20cache','§cNo\x20structure\x20packs\x20are\x20currently\x20enabled.','textures/ui/lock_color','\x20(id:\x20','[PURCHASE_CITIZEN]\x20Items\x20removed\x20successfully','Entity','§r\x20(Shared\x20Pool)','Scarf\x20[Masc.]','Error\x20in\x20checkMatchEnd:','Error\x20searching\x20for\x20flags\x20in\x20dimension:','blueprintSize','minecraft:emerald','Amelia','minecraft:mangrove_door','Player\x20','playerPlaceBlock','§c§lYou\x20cannot\x20enter\x20the\x20arena\x20while\x20wearing\x20armor!','playsound\x20arenavictory\x20@a\x20','minecraft:oak_planks','minimapCompatMode','Failed\x20to\x20save\x20citizen\x20hunger\x20data:','Error\x20in\x20handleArenaPlayerDeath:','set_india','minecraft:comparator','Loaded\x20knight\x20unit\x20data\x20successfully','Could\x20not\x20find\x20colony\x20data\x20for\x20teams','ownerId','set_blue','Automatically\x20fed\x20','Minute','desertpack/desert\x20statue','textures/ui/color_picker.png','jerrys_colonies:trophy_the_harvest','backupName','Error\x20in\x20arena\x20loading:','\x20successfully\x20deleted.\x20','§l§n','suddenDeath','jerrys_colonies:light_blue_territory_marker_block','Failed\x20to\x20play\x20arena\x20vocal\x20sound:','minecraft:jungle_door','colony_is_owner','\x20inactive\x20colonies.',':\x20x=','\x20permissions','Charlotte','minecraft:warped_trapdoor','\x27s\x20food\x20crate.\x20You\x20need\x20the\x20\x27Interact\x20Blocks\x27\x20permission.','Error\x20in\x20placeMarauderFlag:','substring','colony_member:','\x20has\x20no\x20non-primary\x20flags\x20to\x20steal.','Error\x20in\x20showRankManagementMenu:','[WAR]\x20Error\x20converting\x20enemy\x20knight:','§7Blueprint\x20has\x20been\x20returned.','unshift','minecraft:white_terracotta','§aYou\x20have\x20left\x20the\x20colony.','Colony\x20Citizens:\x20','[FOOD_CRATE]\x20INTEGRITY:\x20Crate\x20','minecraft:iron_boots','minecraft:pumpkin_pie','playerBreakBlock','\x0a§e+','cyan','\x20pending\x20chunk\x20load','Status:\x20','[Memory\x20Cleanup]\x20Removed\x20','maxDurability','\x27s\x20territory!\x20You\x20need\x20the\x20\x27Interact\x20Blocks\x27\x20permission.',',\x20Player\x20ID:\x20','Error\x20in\x20periodic\x20arena\x20cleanup:','Failed\x20to\x20restore\x20container\x20item\x20','addItem','minecraft:netherite_spear','paid','\x22\x20for\x20colony\x20','slider','[GRAVE]\x20Could\x20not\x20set\x20grave\x20rotation:','§cError\x20managing\x20citizens.\x20Please\x20try\x20again.','§e[Flag]\x20World\x20Flags\x202','set_solar','§cNeed\x20at\x20least\x201\x20player\x20on\x20each\x20team\x20to\x20start\x20the\x20match!','minecraft:wooden_spear','Sage','You\x20voted\x20for\x20','§e§lSeasonal\x20Trophy\x20will\x20be\x20awarded\x20when\x20you\x20use\x20the\x20arena\x20teleporter!','§cFailed\x20to\x20teleport\x20to\x20arena!','Miner','Failed\x20to\x20restore\x20container\x20item\x20nameTag,\x20skipping:','[MANAGE_CITIZENS]\x20Removing\x20colony\x20member...','hunter','§lBack','minecraft:golden_chestplate','playerInteractWithEntity','setTitle','manage_citizens','§cError\x20selecting\x20recipient:\x20','baker','You\x20already\x20own\x20the\x20colony:\x20','30\x20minutes','\x20lines','iran','Campbell','Germany','\x0a\x0aNearby\x20Unclaimed\x20Citizens:\x20','§7Are\x20you\x20sure\x20you\x20want\x20to\x20declare\x20war\x20on\x20§c','entity','Howdy!\x20Crops\x20aren\x27t\x20ready\x20yet.\x20Come\x20back\x20when\x20they\x27re\x20done\x20growing!','entityAttack','\x20-\x20Primary','claim_resources_','spawnItem','set_sweden','set_kenya','Vehicles\x20Pack','\x20seconds.','[ARENA]\x20Cleaned\x20up\x20','Error\x20showing\x20ballot\x20box\x20UI:','setJukebox','set_marauder','Could\x20not\x20find\x20color\x20event\x20property,\x20using\x20default\x20white','Fisherman','/structure\x20load\x20\x22','minecraft:bamboo_door','tp\x20@e[type=jerrys_colonies:colony_flag_entity,x=','\x22§r\x0a\x0a§7Hunger\x20Status:\x20','pakistan','Tailor\x20[Masc.]','itemId','Error\x20checking\x20colony\x20flag\x20distances\x20in\x20applyColonyRanks:','manualEventTriggered','flag\x20#','Teleport\x20error:','default','Generated\x20colony\x20tag:\x20','East','now','Select\x20an\x20item\x20to\x20send:','Assign\x20Knights\x20to\x20Unit','§dBaby\x20request\x20triggered\x20for\x20colony\x20',',\x20but\x20alerting\x20anyway\x20for\x20testing','south_africa','projectile','minecraft:leather_chestplate','textures/ui/arrow_left','set_greece','spawn_as_baby','Setting\x20colony\x20ID\x20tag:\x20','§cSet\x20to\x20Starving','\x20reconnected\x20outside\x20arena','Failed\x20to\x20load\x20baby\x20requests:','§a✓\x20','Amount\x20Due:\x20','getItem','Error\x20in\x20bomb\x20collision\x20check:\x20','Loser\x20colony\x20no\x20longer\x20has\x20non-primary\x20flags\x20to\x20steal','Error\x20in\x20color\x20selection:','Running\x20manual\x20marauder\x20attack\x20check...','minecraft:acacia_door','jerrys_colonies:purple_territory_marker_block','knightUnits','minecraft:bamboo_fence','\x20missing\x20crates\x20and\x20','east','No\x20colony\x20found\x20for\x20food\x20crate\x20location','Failed\x20to\x20update\x20texture\x20for\x20crate\x20at\x20','fire','\x20has\x20stolen\x20one\x20of\x20your\x20colony\x27s\x20flags\x20as\x20a\x20prize\x20for\x20winning\x20the\x20war!','Cleaned\x20up\x20','minecraft:pufferfish','90\x20min\x20(1.5h)','Error\x20moving\x20flag:','Friendly','startsWith','Patrol\x20Area','minecraft:netherite_leggings','jerrys_colonies:blueprint_desert_delux_house','Spain','Changed\x20stolen\x20flag\x20color\x20to\x20','Using\x20existing\x20colony\x20properties\x20-\x20Name:\x20','weakness','applyKnockback','flime','minecraft:cobblestone','§cPlagues\x20are\x20globally\x20disabled.','§7Using\x20marker\x20block:\x20','nether','§cError\x20managing\x20diplomacy.\x20Please\x20try\x20again.','Checking\x20for\x20elections...','minecraft:birch_fence_gate','Collection\x20Frequency','citizen.death.explosion','Stand\x20Still','!\x20You\x20are\x20now\x20a\x20member\x20of\x20this\x20colony.','ready','Greer','Failed\x20to\x20set\x20container\x20item\x20in\x20slot\x20','\x20in\x20colony\x20','set_canada','§cError\x20creating\x20colony.\x20Please\x20try\x20again.','\x20points','How\x27s\x20it\x20going?\x20My\x20lab\x27s\x20been\x20busy.\x20Want\x20some\x20chemical\x20goodies?','jerrys_colonies:blueprint_desert_tower','§aGlobal\x20settings\x20updated\x20(affects\x20all\x20colonies):','[GRAVE]\x20Error\x20parsing\x20grave\x20data:','minecraft:diamond_helmet','split','Yael','minecraft:prismarine_shard','Error\x20changing\x20flag\x20appearance\x20at\x20','maxFlags','Failed\x20to\x20sync\x20food\x20crate\x20states:','Removed\x20orphaned\x20flag\x20entity\x20for\x20deleted\x20colony\x20ID:\x20','\x20due\x20to\x20','\x20seconds\x20before\x20inviting\x20another\x20player\x20to\x20your\x20colony.','Global\x20Settings','Move\x20error:','colony1','jerrys_colonies:brown_territory_marker_block','.\x20Spawning\x20at\x20player\x20location.','minecraft:nautilus_shell','New\x20Colony\x20Name:','citizen.death.magic','30\x20min\x20(0.5h)','citizen.death.arrow','citizenName','pointValue','getTags','jerrys_colonies:trophy_christmas','Oh\x20hey!\x20I\x27m\x20still\x20logging,\x20but\x20I\x27ll\x20have\x20wood\x20for\x20ya\x20soon.','§e[Structure]\x20Plains\x20Pack','the\x20void','Tax\x20collection\x20initiated\x20for\x20colony\x20','/structure\x20delete\x20\x22','fcanada','Cancel','mailboxInventories','§6Manage:\x20','\x20for\x20inactivity:\x20','backupSize','\x20crates\x20with\x20',',\x20y:','TRIGGER:\x20Scheduled\x20plague\x20for\x20colony\x20','landProtectionEnabled','global_prices','Select\x20a\x20unit\x20to\x20arrange§r','%s\x20was\x20killed\x20trying\x20to\x20hurt\x20%s','Error\x20showing\x20food\x20crate\x20UI:','Error\x20checking\x20colony\x20flag\x20distances:','§6===\x20','start_war_mode_side_1','Together','Wake\x20Up','botanist','§7No\x20name\x20provided,\x20randomly\x20named:\x20§e','Set\x20as\x20Primary\x20Flag','White','\x20accepted\x20your\x20proposal!','Added\x20missing\x20democracy\x20properties\x20to\x20colony\x20','No\x20song\x20selected','set_vietnam','Error\x20in\x20flag\x20options\x20menu:','Mailbox\x20broken\x20at\x20','Builder','jerrys_colonies:blueprint_desert_statue','minecraft:crimson_button','[GRAVE]\x20Error\x20storing\x20grave\x20data:','\x20has\x20changed\x20relationship\x20with\x20','Error\x20showing\x20colony\x20browser:','nothing','playsound\x20random.bow\x20@a[r=16]\x20~\x20~\x20~\x200.5\x200.5','.\x20Next\x20marauder\x20attack:\x20','§f:\x20§b','Error\x20showing\x20baby\x20request\x20UI:','damage','§7All\x20food\x20crates\x20in\x20this\x20colony\x20share\x20§e','§cTeleport\x20cancelled!\x20You\x20moved\x20during\x20the\x20countdown.','§lTIE\x20GAME!\x0aFinal\x20Score:\x20','number','§cNo\x20valid\x20block\x20in\x20sight\x20for\x20blueprint\x20preview!','Could\x20not\x20play\x20construction\x20sound:','[PURCHASE_CITIZEN]\x20Max\x20NPCs\x20allowed:\x20','§aWelcome\x20to\x20the\x20Arena!','§cNo\x20unclaimed\x20citizens\x20found\x20nearby!','width','Population:\x0a','Rename\x20Colony','§cError\x20placing\x20bandit\x20flag.\x20Please\x20try\x20again.','getDynamicProperty','Back','\x20food\x20point','Error\x20applying\x20mining\x20fatigue:','\x201.0\x201.0','set_myanmar','§aEntering\x20the\x20Wild...','Hey!\x20Been\x20brewing\x20all\x20day.\x20Got\x20some\x20potions\x20and\x20ingredients\x20for\x20ya!','Quill','§cFood\x20crate\x20destroyed!\x20Lost\x20','\x20is\x20affected!','minecraft:chicken','Hi\x20there!\x20Following\x20some\x20interesting\x20paths\x20right\x20now.\x20Check\x20back\x20later!','set_intelligent','§7Sending\x20invitation\x20to\x20','hasTag','\x20to\x20colony\x20',':\x20Marauder\x20timer\x20was\x20at\x200,\x20added\x2010\x20minute\x20grace\x20period','itemStack','...','§lAll\x20Stand\x20Still','received_first_crown','§cUnknown\x20module\x20selected.','\x0a\x0a§aFull:\x20','Oh\x20hey!\x20I\x27m\x20still\x20fishing,\x20but\x20I\x20should\x20have\x20something\x20soon.','Confirm','prev_z','flag_packs_visible','count','minecraft:warped_door','Fallon','jerrys_colonies:black_territory_marker_block','§6Citizen\x20Hunger:\x20','§cYou\x20can\x20only\x20break\x20your\x20own\x20mailbox!','[ARENA]\x20Gave\x20Match\x20Manager\x20to\x20player\x20','Flag\x20rotation\x20set\x20successfully','.\x20The\x20side\x20with\x20the\x20most\x20kills\x20(players/NPCs)\x20wins!','textures/items/customblueprint','Error\x20renaming\x20colony:','citizen_gift_cooldowns','set_indonesia','\x20knights\x20in\x20§e','then','§c§lYou\x27re\x20out!\x20§7You\x27ve\x20used\x20all\x203\x20lives.\x20Watch\x20from\x20the\x20sidelines!','[PLAYER\x20JOIN]\x20No\x20players\x20found\x20after\x20max\x20attempts','textures/items/egg','Telginn','\x20old\x20error\x20entries','Pink','set_order','Taxation\x20table\x20found\x20colony:\x20','dropdown','minecraft:on_tame','§7Removed\x20colony\x20ranks\x20from\x20','rename_colony','[GUIDEBOOK]\x20Successfully\x20added\x20colony\x20ledger\x20to\x20inventory','minecraft:diamond','minecraft:cherry_pressure_plate','Location-based\x20teleport\x20command\x20failed:','desertpack/desert\x20arena','LocationInUnloadedChunkError','setDynamicProperty','citizen.death.void','§tHunter\x0a§4Combat\x20&\x20Hunting','builder_variant:','jerrys_colonies:vine_crown','[WAR]\x20Error\x20converting\x20knight:','sqrt','[ARENA]\x20getPreviousLocation\x20called\x20with\x20invalid\x20player\x20object','jerrys_colonies:totem_of_peace','Unnamed\x20Citizen','minecraft:variant','\x27.\x20This\x20has\x20been\x20reported\x20for\x20fixing.','Collect\x20Item','grave_','Tax\x20Item\x20ID','fpink','§cYou\x20need\x20a\x20colony\x20level\x20of\x20at\x20least\x2015\x20to\x20declare\x20war!\x20Your\x20current\x20level\x20is\x20','Veteran','flag_pack_basic','§cYou\x20cannot\x20place\x20blueprints\x20in\x20another\x20colony\x27s\x20territory!','What\x27s\x20up?\x20Made\x20too\x20much\x20stuff\x20today.\x20Want\x20some\x20building\x20materials?','No\x20flag\x20selected.\x20Select\x20an\x20option:','set_pakistan','Colony:\x20§6','§e[Structure]\x20Vehicles\x20Pack','china','0_degrees','wheat','§lUnit\x20Commands§r','pending_flag_steals','§cPlease\x20enter\x20a\x20match\x20ID!','October','fsweden',').\x20Only\x20world\x20admins\x20can\x20raise\x20the\x20limit','fgermany','minecraft:health','§r.','playsound\x20','Attempting\x20to\x20spawn\x20marauders\x20at\x20colony\x20','jerrys_colonies:trophy_sparkleburst','fholy','§7From:\x20§f','show','Last\x20Payment:\x20','\x20votes','§cError\x20opening\x20taxation\x20management.','[MATCH]\x20Deleted\x20empty\x20match\x20','Expected\x20colony\x20flag\x20item\x20not\x20found\x20in\x20selected\x20slot','§cYou\x20cannot\x20access\x20','§cPlease\x20enter\x20a\x20valid\x20number!','Error\x20opening\x20rank\x20editor.\x20Please\x20try\x20again.','None','Error\x20updating\x20colony\x20member\x20name\x20tags:','One\x20of\x20you\x20doesn\x27t\x20own\x20a\x20colony,\x20so\x20no\x20merge\x20occurred,\x20but\x20you\x20are\x20now\x20married!','fchina','\x20not\x20found\x20in\x20colonies\x20Map!','Noa','Tax\x20Records','Symbol','autoConfirmTimeout','\x20to\x20expand\x20your\x20colony!','\x20crates,\x20restored\x20','height','change_flag_color','§aExpand\x20Colony\x20Flag\x20Cost\x20(Amount)','playsound\x20arenavocals.intro\x20@a\x20','§5Enable\x20Plagues','Could\x20not\x20find\x20newly\x20created\x20colony\x20for\x20player\x20tags','Would\x20you\x20like\x20to\x20put\x20a\x20bounty\x20on\x20','minecraft:apple','§aPaid','\x20players\x20to\x20potentially\x20notify\x20about\x20attack','[FOOD_CRATE]\x20CRITICAL\x20ERROR\x20in\x20integrity\x20check:','§cCosmetic\x20flags\x20can\x20only\x20be\x20placed\x20on\x20fences!','minecraft:','Error\x20cleaning\x20citizen\x20gift\x20cooldowns:','Failed\x20to\x20teleport\x20to\x20default\x20spawn,\x20using\x20current\x20position','following','citizen_type:miner','effect\x20@s\x20slowness\x20999999\x202\x20true','Claim\x20Resources','Error\x20in\x20placeCosmeticFlag:','\x20remaining','Failed\x20to\x20give\x20arena\x20items:','colonyBId','duration','sleep',',\x20saved:\x20','A\x20rank\x20with\x20that\x20name\x20already\x20exists!','flag_pack_nations','[PLAYER\x20JOIN]\x20Player\x20is\x20no\x20longer\x20valid,\x20skipping\x20permission\x20sync','\x20total\x20points','colony_creation','§cYou\x20don\x27t\x20have\x20the\x20necessary\x20permissions\x20to\x20manage\x20taxes.','Error\x20teleporting\x20player\x20to\x20arena:','Hello!\x20Made\x20some\x20cool\x20mixtures\x20today.\x20Got\x20useful\x20stuff\x20if\x20you\x20want\x20it.','Food\x20crate\x20points\x20cleared\x20for\x20','createdAt','flight_blue','set_united_states','minecraft:iron_trapdoor','§cNo\x20colony\x20citizens\x20found\x20to\x20rally!','Whinny','Error\x20in\x20feedHungryCitizensInColony:','\x0aOnline\x20Players\x20Available:\x20','West','playerMailboxes','[ARENA]\x20Failed\x20to\x20restore\x20enchantment\x20','forder','Error\x20cleaning\x20up\x20entities:','§cMarauder\x20flags\x20can\x20only\x20be\x20placed\x20on\x20fences!','\x20minutes\x0a','\x20from\x20inventory','teleport','jerrys_colonies:filigree_crown','You\x20are\x20now\x20divorced\x20from\x20','\x20auto-confirmed\x20after\x2020\x20seconds.','§aMarauder\x20flag\x20placed!','setRotation','Rene','§cDemocracy\x20is\x20not\x20enabled\x20in\x20your\x20colony!','structure_pack_vehicles','minecraft:stone_spear','CRITICAL\x20ERROR\x20in\x20spawnMarauderAttack:\x20','textField','hurtEntity','minY','manageTaxes','expandColony','§aFed\x20all\x20','\x20(NPC)\x20has\x20been\x20removed\x20from\x20','Error\x20handling\x20knight\x20death\x20in\x20unit\x20system:','90_degrees','§cFailed\x20to\x20place\x20','Back\x20to\x20Citizen\x20Management','minecraft:blaze_powder','Oh\x20hey!\x20I\x27m\x20in\x20the\x20middle\x20of\x20baking.\x20Come\x20back\x20for\x20warm\x20treats!','\x20(Online)','Resuming\x20colony\x20timers\x20-\x20players\x20returned\x20to\x20world','\x20and\x20stripped\x20of\x20colony\x20rank.','Select\x20a\x20color\x20from\x20the\x20','§cYou\x20must\x20be\x20in\x20the\x20same\x20colony\x20as\x20this\x20citizen\x20to\x20collect\x20resources.','cooldowns','_interval','Select\x20a\x20colony\x20to\x20view\x20its\x20details:§r\x0a','fpower','Rank\x20name\x20cannot\x20be\x20empty!','§cError\x20opening\x20food\x20crate:\x20','Members:\x20\x0a','/fill\x20','classic',',\x20OwnerID:\x20','abs','Don\x27t\x20Pay','ffree','colony_perm_expandColony','jerrys_colonies:marauder_flag_entity','Colony\x20Flags:\x20',']\x20has\x20opened\x20a\x20public\x20arena\x20match!','scheduledTicks','spawnParticle','§6Set\x20to\x20Hungry','minecraft:warped_pressure_plate','\x20(ID:\x20','\x20is\x20now\x20hungry!','Power','Machinists\x20work\x20with\x20redstone\x20components\x20and\x20automation.','\x20set\x20minecraft:free\x20pos\x2050031.5\x20105.72\x2050022.50\x20rot\x200\x200','Seneca','flegion','Mainhand','Yes','Tag\x20error\x20details:\x20','textures/ui/icon_minecoin_9x9','§7Moved\x20','§cWarning:\x20','minecraft:birch_fence','event.war_declared','§cError\x20cancelling\x20placement!','\x0a\x0aThe\x20flag\x20will\x20be\x20removed\x20from\x20their\x20colony\x20and\x20added\x20to\x20yours.','minecraft:dark_oak_pressure_plate','§cError\x20updating\x20colony:\x20','[ARENA]\x20Cleared\x20inventory\x20for\x20player\x20','tp\x20@s\x2050000\x201100\x2050000','rotation','Not\x20scheduled','knight','\x20set\x20minecraft:free\x20pos\x2050031.5\x20117\x2050048.5\x20rot\x2020\x200','§cError\x20opening\x20ballot\x20box:\x20','Titan','Two\x20teams\x20enter\x20the\x20arena,','[FOOD_CRATE]\x20CRITICAL:\x20Invalid\x20calculation!\x20current=','§6Hungry','Tinkerer\x20[Masc.]','minecraft:heavy_weighted_pressure_plate','match','§cError\x20purchasing\x20citizen.\x20Please\x20try\x20again.','foodCrateLocations','slowness','§aYou\x20placed\x20a\x20bounty\x20on\x20','§cYou\x20must\x20be\x20looking\x20at\x20a\x20fence\x20to\x20place\x20a\x20marauder\x20flag!','textures/ui/toggle_on','§cUnit\x20name\x20cannot\x20be\x20empty!','Transfer\x20Ownership','\x20citizen(s)\x20transferred\x20to\x20','war_side_','\x20successfully\x20ate\x20food\x20from\x20crate','minecraft:grass','set_pink','wither','Offhand','Silo','minecraft:dark_oak_fence_gate','Nature','Order','\x0a\x0aOnline\x20Players:\x0a','§cAll\x20available\x20modules:\x20','\x20could\x20not\x20find\x20food,\x20remaining\x20at\x20hunger\x20level\x20','warn','Confirm\x20Delete\x20Rank','minecraft:dark_oak_fence','[ARENA]\x20No\x20player\x20properties\x20found\x20for\x20','getLore','Confirm\x20Vote','hope','Structure\x20restoration\x20error:','Set\x20','legion','mainhand','§7Debug:\x20Total\x20enabled\x20modules:\x20','Could\x20not\x20set\x20baby\x20state:','size','control','\x20to\x20slot\x20','Error\x20in\x20startMatch:','blueprint_button:','Error\x20getting\x20NPC\x20citizens:','road','fromEntries','[WAR]\x20Knight\x20in\x20unloaded\x20chunk,\x20will\x20convert\x20when\x20loaded:\x20','Error\x20handling\x20citizen\x20death\x20by\x20zombie:','displayName','Marriage\x20Proposal','§cThis\x20supply\x20chest\x20doesn\x27t\x20belong\x20to\x20you','§aBlueprint\x20returned\x20to\x20your\x20inventory.','§bMax\x20NPCs:\x20','\x0aVotes:\x20','\x20colony\x20ID:\x20','min\x20(','showTitle','minecraft:zombie','\x20points\x20to\x20','white','Select\x20a\x20unit\x20to\x20assign\x20knights\x20to§r',',\x20§eMax\x20Flags:\x20','fcyan','Error\x20opening\x20player\x20rank\x20assignment.\x20Please\x20try\x20again.','Error\x20claiming\x20citizens:','getEnchantments','§cNo\x20saved\x20location\x20found,\x20teleported\x20to\x20world\x20spawn','Desert\x20Tower','Osric','startDimension','sound','\x20(Player)\x20has\x20been\x20removed\x20from\x20','Could\x20not\x20find\x20color\x20event\x20property\x20for\x20new\x20colony,\x20using\x20default\x20white','Error\x20showing\x20player\x20selection\x20for\x20mail:','§cNo\x20citizens\x20found\x20in\x20colony\x20to\x20spawn\x20baby\x20near!','\x20===\x0a','Enter\x20a\x20new\x20name\x20for\x20this\x20flag','clear\x20@s\x20jerrys_colonies:totem_of_peace\x200\x201','§cFlag\x20color\x20change\x20cancelled.','§cYou\x20need\x20','Error\x20returning\x20flag\x20item\x20to\x20player:','§cError\x20placing\x20territory\x20markers:\x20','Status:\x20§eStanding\x20Still','set_purple','§7Current\x20Relation:\x20§b','35UWommJ','Player\x20already\x20has\x20colony\x20rank\x20tag:\x20','Knight','ally','\x20joined\x20team\x20§6','Poland','textures/ui/icon_multiplayer','notifiedPlayers','Hey!\x20Been\x20building\x20stuff\x20all\x20day.\x20Got\x20some\x20extra\x20materials\x20for\x20ya!','indexOf','titleraw\x20@s\x20title\x20{\x22rawtext\x22:[{\x22text\x22:\x22','Standalone\x20Crate\x0aFood\x20Points:\x20','Failed\x20to\x20apply\x20mining\x20fatigue\x20effect:','§cWarning:\x20Could\x20not\x20set\x20flag\x20color.','startLocation','HUNGRY','[WAR]\x20Successfully\x20converted\x20pending\x20enemy\x20knight\x20to\x20regular\x20knight','playsound\x20ui.challenge_complete\x20@s\x20~\x20~\x20~\x201\x201\x201','§cError\x20showing\x20color\x20selection.','jerrys_colonies:blueprint_button_down','flagTeleportEnabled',',\x20using\x20fallback','§cError\x20changing\x20flag\x20color.\x20Please\x20try\x20again.','itemName','citizen.death.lava','§aCollected\x20','members','Enter\x20match\x20name...','Confirm\x20Flag\x20Deletion','\x20to\x20prevent\x20memory\x20leak','minecraft:sticky_piston','timeLeft','testfor\x20@s[hasitem={item=','Synced\x20existing\x20knight\x20','Password:','runInterval','Diplomacy\x20UI\x20error:','[SYNC\x20PERMISSIONS]\x20','[WAR]\x20Converting\x20knights\x20to\x20enemy\x20knights\x20for\x20colony\x20','\x20food\x20points!','§cDelete\x20Colony','Oh\x20hey!\x20I\x27m\x20in\x20the\x20middle\x20of\x20something.\x20Check\x20back\x20soon.','flagLocations','360\x20min\x20(6h)','§7•\x20Create\x20new\x20matches','getMonth','rotate_90_degrees','\x20possible\x20flag\x20locations','§9Back','typeId','dark','Error\x20collecting\x20colony\x20taxes:','Error\x20transferring\x20citizens:',':\x20Players\x20nearby,\x20checking\x20scheduled\x20events...','intervalId','getGameMode','§5PLAGUE','body','received_guidebook','View\x20Mail','§cAdmin\x20Colony\x20Delete','useStructureBackup','989010yvzeke','[PLAYER\x20JOIN]\x20Error\x20during\x20player\x20join\x20processing:','jerrys_colonies:trumpet','run','desertpack/desert\x20barn','runTimeout','\x20flags.','\x20-\x20should\x20have\x20food:\x20','Wheat','icon','§tExplorer\x0a§4Navigation\x20&\x20Discovery','Tax\x20Management','§a.\x20You\x20are\x20still\x20a\x20member.','Lou','Colombia','kill','§cError\x20showing\x20move\x20flag\x20form!','§cYou\x20died!\x20§7Lives\x20remaining:\x20§e','[PURCHASE_CITIZEN]\x20Citizen\x20was\x20not\x20spawned,\x20issuing\x20refund','Collect\x20Taxes\x20Now','Knights\x20provide\x20protection\x20and\x20combat\x20support\x20for\x20the\x20colony.\x20They\x20can\x20follow\x20and\x20patrol\x20with\x20players.','Match\x20Name:','blueprints','colonyInactivityDays','froyal','§t§e§s§t§r','floor','§7Ended\x20war\x20with\x20','Manage\x20and\x20join\x20arena\x20matches','§cDeclare\x20War','minecraft:leather_leggings','§cYou\x20have\x20no\x20tamed\x20knights!','minecraft:repeater','Item\x20does\x20not\x20support\x20lore,\x20skipping','germany','Failed\x20to\x20check\x20arena\x20loaded\x20status:','setCurrentValue','set_control','selectedSlotIndex','Structure\x20Placement','Cancel\x20error:','jerrys_colonies:blueprint_button_confirm','\x0a§7Message:\x20§f\x22','[ARENA]\x20Failed\x20to\x20cache\x20location\x20to\x20world:\x20','Could\x20not\x20set\x20dynamic\x20property:','jerrys_colonies:supply_chest_entity','minecraft:spruce_log','Mel','Error\x20in\x20colony\x20flags\x20menu:','fcontrol',',\x20Color:\x20','flagTeleport','charAt','\x0a§eSlightly\x20Hungry:\x20','textures/ui/permissions_member_star','jerrys_colonies:blueprint_library','jerrys_colonies:colony_flag_block','§aPaid\x20','Teleport\x20to\x20Flags','§lAssign\x20to\x20','Error\x20showing\x20title\x20to\x20player\x20','Tax\x20payment\x20successful!\x20You\x20paid\x20','Failed\x20to\x20load\x20visited\x20colonies\x20data:','§aTaxation\x20configured!\x20Citizens\x20will\x20pay\x20','[WAR]\x20Converted\x20','[WAR\x20KILL]\x20','unknown\x20causes','Error\x20in\x20resumeColonyTimers:','\x20items!','Citizen','tp\x20','§c[Debug]\x20Error\x20getting\x20knight\x20state:\x20','Error\x20processing\x20citizen\x20during\x20colony\x20deletion:','minecraft:wood','startedAt','§cTeleport\x20cancelled!\x20You\x20changed\x20dimension.','Could\x20not\x20play\x20sound\x20for\x20player\x20','Rally\x20Citizens','Failed\x20to\x20consume\x20healing\x20tonic\x20via\x20command,\x20trying\x20inventory\x20method:','taxation','jerrys_colonies:ice_crown','§cRemove\x20Member','Error\x20cleaning\x20backup\x20area:','\x22\x20has\x20been\x20deleted\x20by\x20admin.','6000\x20min\x20(100h)','enchantments','endsWith','jerrys_colonies:has_food','§cError\x20processing\x20invitation.\x20Please\x20try\x20again.','\x20clear','June','§lPrivate\x20Matches','§cNo\x20other\x20player\x20members\x20available\x20to\x20transfer\x20ownership\x20to!','player_spouses','loserColonyId','Diplomacy','\x20problematic\x20colonies\x20that\x20could\x20not\x20be\x20saved.','§lCreate\x20Match','Error\x20in\x20leaveMatch:','fsymbol','Configure\x20Taxes','arena_item_count','Arena\x20king\x20playing\x20arena\x20animation\x20-\x20found\x20','minecraft:golden_sword','§eNo\x20inventory\x20space.\x20Blueprint\x20dropped\x20at\x20your\x20feet.','scoreboardInterval','[FOOD_CRATE]\x20Loaded\x20crate\x20at\x20','Myanmar','Next\x20marauder\x20attack\x20scheduled\x20in\x20','\x20food\x20points','\x20for\x20','trim','one\x20walks\x20out.','§cError\x20sending\x20invitation.\x20Please\x20try\x20again.','minecraft:pig','Could\x20not\x20register\x20knight:','set_symbol','§cThis\x20knight\x20doesn\x27t\x20belong\x20to\x20any\x20colony!','log','§8Back','Prices','a\x20falling\x20anvil','nextCollection','For\x20detailed\x20information\x20about\x20Jerry\x27s\x20Colonies,\x20visit:\x0a\x0a','§cError\x20showing\x20color\x20pack\x20selection.','§lOrganize\x20Units§r',':\x20Plague\x20timer\x20-\x20','Mexico','Scheduled\x20tax\x20reminder\x20for\x20','Miners\x20are\x20gather\x20stones,\x20ores,\x20and\x20other\x20natural\x20resources.','minecraft:item','Hey!\x20Working\x20on\x20a\x20big\x20project\x20right\x20now.\x20Come\x20back\x20later!','jerrys_colonies:mod_tool','[GUIDEBOOK]\x20No\x20inventory\x20component\x20found,\x20dropping\x20at\x20player\x20location','Loading\x20','reduce','minecraft:netherite_boots','cw1','Unknown\x20Colony','jerrys_colonies:food_crate','runCommandAsync','Error\x20dropping\x20bomb:\x20','pow','[MANAGE_CITIZENS]\x20Purchasing/Inviting\x20citizen...','startTime','hitEntity','structure\x20load\x20arena1\x20','§7•\x20Access\x20private\x20matches','update_activity','§4Set\x20to\x20Malnourished','§a§lWelcome\x20back!\x20Your\x20colony\x20won\x20a\x20war\x20against\x20','taxation_reminders','Error\x20in\x20showCreateMatchUI:','minecraft:bow','Error\x20saving\x20colony\x20data:','\x20(from\x20','Error\x20deleting\x20rank:','fbrown','§tFisherman\x0a§4Fishing\x20&\x20Aquatics','Bread','§aYou\x20left\x20the\x20match.','colony_flag','colonyA','not\x20in\x20a\x20chunk\x20currently\x20loaded','marketstand','§cCould\x20not\x20find\x20your\x20colony!','\x27s\x20food\x20crate.\x20Hunger:\x20','§7Select\x20how\x20long\x20the\x20war\x20will\x20last:','§cUnit\x20\x22','\x20dead\x20knights\x20from\x20colony\x20','Error\x20transferring\x20colony\x20ownership:','thailand','Unknown','§cYou\x20can\x20only\x20recruit\x20knights\x20from\x20your\x20own\x20colony!','prev_x','\x20are\x20now\x20divorced.','How\x27s\x20it\x20going?\x20The\x20oven\x27s\x20been\x20hot\x20all\x20day.\x20Want\x20some\x20tasty\x20baked\x20goods?','Error\x20checking\x20arena\x20restricted\x20area:','§cError\x20displaying\x20Player\x20ID','Error\x20checking\x20permission:','Lane','§0Cancel','jerrys_colonies:blueprint_','firan','minecraft:sweet_berries','§bTeleport\x20to\x20Colony','Button\x20spawn\x20error:','minecraft:acacia_pressure_plate','\x20sent\x20you\x20','royal','STARVING','\x20points)\x20but\x20not\x20in\x20memory\x20-\x20restoring','§cError\x20transferring\x20ownership.\x20Please\x20try\x20again.','Admin:\x20No\x20Colony\x20Selected','§cFlags\x20can\x20only\x20be\x20placed\x20on\x20fence\x20blocks!','§aExpand\x20Colony\x20Flag\x20Cost\x20(Item)','\x20facing\x20','\x20kills','\x20declined\x20your\x20colony\x20invitation.','\x20crates\x20in\x20memory\x20-\x20saving\x20now','\x20has\x20joined\x20','[ARENA]\x20Cleared\x20stored\x20coordinates\x20and\x20inventory\x20for\x20player\x20',',\x20z=','§aStructure\x20kept\x20in\x20place.','[DEBUG]\x20Killer\x20tags:\x20','Botanist\x20[Fem.]',',\x20y=','global_modules','to_enemy','Error\x20showing\x20bounty\x20confirmation\x20UI:','\x20used\x20Totem\x20of\x20Peace\x20for\x20colony\x20','textures/entity/citizen','lime','Back\x20to\x20Main\x20Menu','marauder','textures/ui/friend_glyph','\x0a§7','textures/ui/pencil_edit_icon.png','Deposit\x20Food','citizens','set_japan','bomb_collision','180_degrees','§cSound\x20error:\x20','[Inactivity]\x20Auto-deleting\x20inactive\x20colony:\x20','fspain','60\x20Minutes','\x20placement\x20cancelled.',')\x20from\x20','Registered\x20expansion\x20blueprint:\x20','[GUIDEBOOK]\x20Guidebook\x20item\x20created:','textures/ui/creative_icon','Mia','§cYour\x20colony\x20must\x20wait\x20','set_nature','minecraft:dark_oak_door','add','Welcome\x20to\x20The\x20Arena','§eThis\x20was\x20the\x20last\x20food\x20crate\x20for\x20§6','Failed\x20to\x20load\x20unit\x20data:','knight_patrol','textures/items/redstone_dust','§r\x20will\x20be\x20changed.','[ARENA]\x20No\x20saved\x20location\x20found\x20for\x20','Set\x20player\x20name\x20tag\x20to:\x20','[FOOD_CRATE]\x20Restored\x20','createdByColony','Button\x20position\x20update\x20error:','minecraft:cherry_door','[WAR]\x20Converting\x20enemy\x20knights\x20back\x20to\x20knights\x20for\x20colony\x20','give\x20@s\x20','§eWelcome\x20back\x20to\x20the\x20Arena!','Offline','toString','of\x20soldiers\x20ready\x20to\x20slash\x20and\x20bash','set_brown','§a\x20knights\x20in\x20square\x20formation!','Desert\x20Statue','\x20player(s).','§cYou\x20need\x20at\x20least\x20','Error\x20showing\x20mailbox\x20inventory:','\x20\x20-\x20','§aMail\x20sent\x20to\x20','Hey!\x20Just\x20finished\x20baking.\x20Got\x20some\x20fresh\x20bread\x20and\x20treats\x20for\x20ya!','[ARENA]\x20Restored\x20durability:\x20','Celebrate','successCount','jerrys_colonies:arena_teleporter','\x0aItems\x20in\x20mailbox:\x20','Error\x20handling\x20arena\x20camera\x20transitions:','Jail','Error\x20in\x20pauseColonyTimers:','[ARENA]\x20Failed\x20to\x20restore\x20container\x20data,\x20skipping:','minecraft:spider_eye','jerrys_colonies:trophy_sweet_treat','set_light_blue','§7?\x0a\x0aThis\x20will\x20last\x20','minecraft:iron_ore','§cNo\x20module\x20selected!','enabled','itemUse','Error\x20showing\x20mail\x20item\x20details:','minecraft:copper_ore','Sabin','minecraft:birch_pressure_plate','fnigeria','\x0a\x0a§cNext\x20Marauder\x20Attack:\x20','Failed\x20to\x20restore\x20durability,\x20skipping:','entries','Pending','\x20hungry\x20citizens\x20in\x20colony\x20','§cFlag\x20name\x20is\x20too\x20long.\x20Maximum\x2050\x20characters.','[FOOD_CRATE]\x20No\x20saved\x20data\x20found\x20-\x20preserving\x20existing\x20memory\x20state','Could\x20not\x20play\x20whistle\x20sound\x20for\x20bounty:\x20','Error\x20in\x20arena\x20scoreboard:','Error\x20in\x20instant\x20arena\x20teleport:','minecraft:carrot','jerrys_colonies:blueprint_wheat_farm','Neutral','effect\x20@s\x20levitation\x200\x200','hungerLevel','Marriage\x20complete!\x20Colonies\x20have\x20been\x20merged\x20successfully!','minecraft:oak_fence','\x20citizen','\x0a-\x20Total:\x20','citizen.death.starve','Error\x20applying\x20healing\x20tonic:','Error\x20processing\x20tax\x20payment:','[GRAVE]\x20Attempting\x20to\x20place\x20grave\x20for\x20citizen\x20at\x20','§cYou\x20must\x20be\x20looking\x20at\x20a\x20fence\x20to\x20place\x20a\x20cosmetic\x20flag!','[Inactivity]\x20Deleted\x20','You\x20are\x20already\x20a\x20member\x20of\x20the\x20colony:\x0a\x0a','sea','270_degrees','value','720\x20min\x20(12h)','Manage\x20Taxes','playerInteractWithBlock','event','\x20has\x20invited\x20you\x20to\x20join\x20the\x20colony:\x0a\x0a','linked_citizen:','Sup!\x20These\x20rocks\x20are\x20being\x20really\x20stubborn\x20today.\x20Try\x20me\x20again\x20soon.','§6Citizens:\x20','\x20days.\x20Marking\x20for\x20deletion.','Failed\x20to\x20load\x20citizen\x20hunger\x20data:','flag_color:','Aristocrat\x20[Masc.]','set_russia','§aSuccessfully\x20spawned\x20baby\x20citizen\x20\x22','set_black','citizenHungerEnabled','§7?\x0a\x0aLocation:\x20','selection','citizen.interact','Head','Australia','unrecognized','3299688bDgvYS','Colony\x20Invitation','citizen.death.wither','fpurple','minecraft:iron_chestplate','\x0a\x0aPopulation\x20Summary:\x0a-\x20Players:\x20','jerrys_colonies:tavern_sign','citizen_type:logger','interactBlocks','Move\x20Flag\x20Down','jerrys_colonies:guidebook','§cYou\x20need\x20to\x20place\x20your\x20own\x20mailbox\x20before\x20you\x20can\x20send\x20mail!','testfor\x20@s[hasitem={item=minecraft:bow,location=slot.weapon.mainhand}]','§aArea\x20restored\x20to\x20its\x20previous\x20state.','If\x20both\x20teams\x20are\x20tied\x20by\x20the\x20end','Colony\x20Membership\x20Conflict','being\x20slain\x20by\x20','Declare\x20War','§6===\x20All\x20Colonies\x20===\x0a','§cYour\x20colony\x27s\x20team\x20is\x20full!','textures/items/blueprint','Understand?\x20Great!','Test\x20Match','delete_this_entity','Invalid\x20target\x20flag\x20selected\x20for\x20marauder\x20attack','execute\x20positioned\x20','\x0a-\x20NPCs:\x20','Error\x20checking\x20for\x20orphaned\x20flags:','Creating\x20new\x20colony\x20-\x20Name:\x20','Rank\x20Management','\x20points§e.','jerrys_colonies:trophy_winner_winner_turkey_dinner','minecraft:cow','camera\x20','set_friendly','shulker_box','63490hlGDSs','Trying\x20to\x20spawn\x20balloon\x20at\x20position:\x20','orange','minecraft:gold_ore','§a[Zombified]','Error\x20checking\x20colony\x20at\x20location:','Error\x20in\x20loadArena1Structure:','Insufficient\x20items!\x20You\x20need\x20','No\x20player\x20nearby\x20to\x20propose\x20to!\x20Get\x20closer\x20to\x20another\x20player.','Because\x20there\x27s\x20no\x20turning\x20back\x20now','Sevaun','filter','\x20points\x20for\x20crate\x20at\x20','Thailand','Error\x20processing\x20flag\x20at\x20','Error\x20in\x20flag\x20interaction:','clear\x20@s\x20jerrys_colonies:healing_tonic\x200\x201','forge','Error\x20in\x20checkTavernSignSpawns:','together','textures/ui/gear','set_south_korea','depth','[PLAYER\x20JOIN]\x20=====\x20PLAYER\x20JOINED:\x20','[ARENA]\x20No\x20enchantable\x20component\x20found,\x20skipping\x20enchantments','July','become_cavalry','§cRejected','error','[ARENA]\x20Cached\x20location\x20to\x20world\x20storage\x20for\x20','§cA\x20colony\x20with\x20this\x20name\x20already\x20exists!','Could\x20not\x20update\x20knight\x20tags:','Error\x20finding\x20flag\x20entity\x20to\x20recolor:','minecraft:oak_door','-\x20NPCs:\x20','\x20(variant\x20','moveForward','\x0a\x0a§7Would\x20you\x20like\x20to\x20proceed?','findonesia','[Inactivity]\x20Colony\x20','§cYou\x20can\x20only\x20place\x20entities\x20within\x20your\x20own\x20colony\x27s\x20territory!','Using\x20direct\x20color\x20event\x20for\x20new\x20colony:\x20','waiting','jerrys_colonies:blueprint_house_chimney','§7and\x20learning\x20how\x20to\x20access\x20the\x20wiki.\x20Good\x20luck!','set_lime','isArray','Oh\x20hey!\x20I\x27m\x20still\x20out\x20hunting,\x20but\x20I\x20should\x20have\x20something\x20soon.','visited_colonies','Pat','Error\x20stack:','Azure','Paget','Manage\x20taxes\x20for\x20your\x20colony\x0a','jerrys_colonies:blueprint_desert_pyramid','Desert\x20Pack','[MATCH]\x20Cancelled\x20match\x20','Player\x20object:','Edit\x20Again','minecraft:glass','[ARENA]\x20Saving\x20location\x20for\x20','[ARENA]\x20Player\x20','Ori','§cThis\x20mailbox\x20is\x20unregistered,\x20but\x20you\x20already\x20have\x20a\x20mailbox.\x20You\x20can\x20only\x20own\x20one\x20mailbox\x20at\x20a\x20time.','falling_block','Oh\x20hey!\x20I\x27m\x20still\x20mining\x20right\x20now,\x20but\x20I\x27ll\x20have\x20stuff\x20for\x20ya\x20later.','§a\x20are\x20now\x20standing\x20still!','currentValue','moveLeft','[ARENA]\x20No\x20valid\x20location\x20found\x20for\x20','minX','\x20has\x20died§r','Could\x20not\x20get\x20equipment:','minecraft:jukebox','North','Test\x20Colony','We\x27ve\x20got\x20quite\x20a\x20lineup','minecraft:golden_leggings','Pakistan','§e.\x20§a','deadEntity','%s\x20was\x20squashed\x20by\x20a\x20falling\x20block','§c§lRestricted\x20area!\x20§7You\x27ve\x20been\x20moved\x20to\x20the\x20spectator\x20zone.','jerrys_colonies:colony_flag_entity','\x20air','Chunk\x20test\x20failed:','colony_perm_manageTaxes','Error\x20processing\x20citizen\x20during\x20flag\x20removal:','§cYou\x20must\x20confirm\x20the\x20purchase\x20by\x20checking\x20the\x20box.','playArenaIntroSound()\x20called!','Error\x20showing\x20colony\x20discovery\x20effect:','set_brazil','Select\x20a\x20player\x20to\x20place\x20a\x20bounty\x20on:','§aPlacing\x20a\x20new\x20flag\x20for\x20your\x20colony\x20§6','Purple','Canada','Taran','Sea','§eYou\x20are\x20now\x20the\x20match\x20creator!','Music','[ARENA]\x20Failed\x20to\x20parse\x20existing\x20cache,\x20creating\x20new\x20one','Level:\x20','[PURCHASE_CITIZEN]\x20Citizen\x20price:\x20','Failed\x20to\x20delete\x20backup\x20structure:','power','[FOOD_CRATE]\x20CRITICAL\x20FAILURE\x20saving\x20food\x20crate\x20data:','jerrys_colonies:player_id','minecraft:stone_button','You\x20currently\x20are\x20voting\x20for\x20nobody.','textures/items/clock_item',',\x20got\x20','Howdy!\x20Following\x20some\x20tracks\x20right\x20now.\x20Check\x20back\x20later\x20for\x20the\x20goods!','left','set_gray','Slightly\x20Hungry','\x22\x20and\x20owner:\x20\x22','every','Select\x20a\x20player\x20to\x20view\x20their\x20stats:§r','%s\x20was\x20impaled','[GRAVE]\x20Placed\x20grave\x20at\x20','Type\x20a\x20name\x20for\x20the\x20unit','Your\x20taxation\x20information\x0a\x0a','button2','taxAmount','undefined','Random','Hey!\x20Still\x20down\x20in\x20the\x20tunnels\x20looking\x20for\x20good\x20stuff.\x20Come\x20back\x20later!','Global\x20Settings\x20(Apply\x20to\x20All\x20Colonies)','§7The\x20baby\x20has\x20been\x20automatically\x20claimed\x20by\x20your\x20colony.','legs','View\x20Tax\x20Records','\x20has\x20been\x20trained\x20as\x20a\x20Knight!\x20Recruit\x20them\x20with\x20an\x20Iron\x20Ingot.','Traditional\x20Minecraft\x20colors','§6Enable\x20Democracy§r\x0a§cWARNING:\x20Democracy\x20cannot\x20be\x20disabled.\x20Players\x20can\x20vote\x20for\x20leaders\x20and\x20every\x2030\x20days\x20player\x20votes\x20will\x20be\x20counted\x20and\x20a\x20new\x20leader\x20elected\x20if\x20people\x20change\x20their\x20votes.§r','[FOOD_CRATE]\x20Failed\x20to\x20ensure\x20data\x20loaded\x20for\x20crate:','Failed\x20to\x20load\x20pending\x20flag\x20steals:','§tBuilder\x0a§4Construction','overdue','minecraft:lever','fyellow','Hi!\x20My\x20adventures\x20paid\x20off.\x20Want\x20to\x20see\x20what\x20treasures\x20I\x20found?','DISABLED','ceil','§cThis\x20match\x20is\x20no\x20longer\x20available\x20to\x20join.','jerrys_colonies:springfront','minecraft:beef','§5Unknown','colony\x20flag','You\x20placed\x20a\x20','§aArranged\x20§e','Sending\x20marauder\x20attack\x20alert\x20for\x20colony\x20','nextMarauderAttack','jerrys_colonies:trophy_heatwave','Could\x20not\x20find\x20sound\x20block\x20at\x20arena\x20location','Winner\x20','§7None\x20discovered\x20yet§r','minecraft:jungle_log','minecraft:beetroot','defensive_pact','fbrazil','\x20rank\x20not\x20found\x20-\x20permissions\x20cleared','\x20Victim:\x20','minecraft:crimson_trapdoor','and\x20let\x27s\x20get\x20ready\x20to:','getBlockFromViewDirection','mexico','minecraft:spruce_pressure_plate','New\x20colony\x20created:\x20','close','Error\x20updating\x20colony:','marauderTimeRemaining','Food\x20Crate','Warlord','durability','damagingEntity','explorer','§cYour\x20colony\x20has\x20reached\x20the\x20maximum\x20number\x20of\x20citizens\x20(','\x20to\x20purchase\x20a\x20citizen!','jerrys_colonies:bandit_flag','flight_gray','Your\x20Mail','\x20placement\x20confirmed!\x20Building...','Error\x20in\x20triggerPlague:','\x20arena\x20kings','\x0aOwner:\x20','fstrength','title\x20@s\x20subtitle\x20Colony\x20Discovered!','\x0a§7Location:\x20','\x20is\x20a\x20member\x20of\x20colony\x20','flag_color_change','Failed\x20to\x20spawn\x20zombie\x20at\x20citizen\x20death\x20location:','knight_stand','Set\x20Diplomatic\x20Relations',',\x20Pack:\x20','\x20is\x20not\x20online!','removeTag','Harper','Could\x20not\x20get\x20inventory:','Failed\x20to\x20restore\x20container\x20item\x20lore,\x20skipping:','§cCancel','jerrys_colonies:blueprint_house_farm','[PURCHASE_CITIZEN]\x20Error\x20spawning\x20citizen:','Mason','§cThis\x20is\x20not\x20your\x20blueprint!','§tMiner\x0a§4Mining\x20&\x20Minerals','setEquipment','Error\x20showing\x20citizen\x20tax\x20status:','Philippines','[FOOD_CRATE]\x20Player\x20','[WAR]\x20Successfully\x20converted\x20pending\x20knight\x20to\x20enemy\x20knight','addTag','manageBabies','minecraft:light_weighted_pressure_plate','§cTrigger\x20Hunger\x20Check','minecraft:birch_door','Error\x20setting\x20cosmetic\x20flag\x20rotation:','Could\x20not\x20remove\x20flag\x20entity:',',\x20value:\x20','\x20left\x20team\x20§6','Colony\x20','§7Are\x20you\x20sure\x20you\x20want\x20to\x20steal\x20this\x20flag\x20from\x20§6','textures/ui/plus','Rotate\x20error:','2000\x20min\x20(33.3h)','minecraft:cherry_fence_gate','[GRAVE]\x20Error\x20displaying\x20citizen\x20death\x20message:','§aTrumpet\x20song\x20set\x20to:\x20§e','minecraft:stone_pressure_plate','Duchess\x20[Fem.]','Square\x20Formation','textures/ui/trash','Taxation\x20is\x20currently\x20disabled','Disabled','United\x20States','Enter\x20match\x20ID...','recipientId','Assign\x20Rank:\x20','Delete\x20Rank','[FOOD_CRATE]\x20Data\x20saved\x20immediately\x20after\x20depositing\x20items\x20to\x20','§cInventory\x20full!\x20Clear\x20some\x20space\x20and\x20try\x20again.','minecraft:water_splash_particle_manual','citizen.death.trident','Manage\x20ranks\x20and\x20permissions\x20for\x20your\x20colony.\x0a\x0aRanks\x20Created:\x20','§cNo\x20citizens\x20found\x20in\x20this\x20colony.','Iran','Bounty\x20Board','citizen.death.fire','Are\x20you\x20sure\x20you\x20want\x20to\x20divorce\x20','textures/items/bread','toUpperCase','240\x20min\x20(4h)','§dFlag\x20Teleport:\x20','daily','Error\x20in\x20showMatchManagerUI:','minecraft:mangrove_pressure_plate','fnature','\x20for\x20§e','ethiopia','§cError\x20checking\x20knight\x20status:\x20','\x0aFood\x20Points:\x20','south','Emma','getEquipmentSlot','minecraft:movement','Failed\x20to\x20play\x20trumpet\x20sound:','time','jerrys_colonies:blueprint_barracks','jerrys_colonies:blueprint_desert_barn','\x0a§6Hungry:\x20','§cError\x20viewing\x20all\x20colonies.','become_archer','brokenBlockPermutation','§eRemoved\x20knight\x20from\x20','title\x20@s\x20title\x20','[ARENA]\x20Restoring\x20','\x20minutes\x20§7(PAUSED)','Robin','Fictional\x20Flags','Russia','[MANAGE_CITIZENS]\x20Claiming\x20nearby\x20citizens...','§cThere\x20is\x20already\x20a\x20bounty\x20on\x20this\x20player!','colony_name:','Black','jerrys_colonies:cross_crown','§cFailed\x20to\x20create\x20knight\x20entity!','[WAR]\x20Removing\x20stale\x20pending\x20conversion\x20for\x20knight\x20','Assign\x20Player\x20Ranks','\x27s\x20Stats','Enter\x20message','§aCitizen\x20Purchase\x20Item','textures/items/mod_tool',':\x20Initialized\x20marauder\x20attack\x20timer\x20to\x20','\x20false\x20memory','textures/ui/world_glyph_color','Sophia','Lenno','\x20is\x20offline.\x20Saving\x20pending\x20flag\x20steal\x20opportunity.','%s\x20was\x20pricked\x20to\x20death','§6Confirm\x20Removal','[FOOD_CRATE]\x20INTEGRITY:\x20Found\x20','textures/ui/dressing_room_banner','§a\x20are\x20now\x20following!','§cInactive\x20Colony\x20Delete:\x20','-\x20Location:\x20','\x20§rvs\x20§6','Error\x20in\x20citizen\x20naming\x20system:','§cEnable\x20Arena','citizen.death.generic','right','\x20collected\x20the\x20bounty\x20on\x20','§r\x0a','Market\x20Stand','§cWAR\x20-\x20','Could\x20not\x20set\x20name\x20for\x20citizen:','China','Loaded\x20trumpet\x20data\x20successfully','set_minute','maxNPCs','Error\x20in\x20placeBanditFlag:','Failed\x20to\x20clear\x20stored\x20inventory:','slice','total','Error\x20clearing\x20action\x20bar:','flag_pack_world_flags_2','Error\x20while\x20debugging\x20colony\x20data:','sin','jerrys_colonies:wreath_crown','Removed\x20flag\x20entity\x20after\x20colony\x20update\x20failure','Enter\x20password...','§cIncorrect\x20password!','Opponents','Error\x20restoring\x20player\x20inventory:','Noah','amount','Colony\x20data\x20saved:\x20','getViewDirection','Enemy','minecraft:dark_oak_button','Error\x20processing\x20elections:','View\x20Colony\x20Info','Free','getEffect','§cError\x20with\x20flag\x20entity:\x20','\x20run\x20stopsound\x20@a[r=100]\x20','jail','§cYou\x20cannot\x20interact\x20with\x20blocks\x20in\x20','§aTeleported\x20to\x20','minecraft:enchantable','\x20players)','Failed\x20to\x20clean\x20up\x20food\x20crate\x20data:','\x20Item','colonyAId','onScreenDisplay','\x20has\x20starved\x20to\x20death.','/summon\x20','Command\x20Knights','Logsplitter\x20[Fem.]','§6Set\x20Diplomatic\x20Relations\x20-\x20','\x0a\x0aAdding\x20an\x20additional\x20flag\x20to\x20expand\x20your\x20colony\x20will\x20cost:\x0a','Music\x20command\x20error:','§cNo\x20valid\x20block\x20in\x20sight\x20for\x20entity\x20placement!','[GUIDEBOOK]\x20Player\x20','jerrys_colonies:divine_crown','§aRallied\x20','Explorers\x20gather\x20less\x20common\x20and\x20more\x20various\x20items.','order','§cA\x20unit\x20with\x20that\x20name\x20already\x20exists!','getRotation','§l§6Remove\x20Unit§r','§cYou\x20need\x20admin\x20permissions\x20to\x20manage\x20colony\x20flags.','Allowing\x20interaction\x20with\x20','lastReported','flower','Jordon','Rotate\x20Flag\x2090°','permutation','\x20will\x20now\x20patrol\x20the\x20area!','Tax\x20Amount','§aBuilder\x20assigned\x20texture:\x20','[Jerry\x27s\x20Colonies]\x20','jerrys_colonies:colony_flag','set_dr_congo','\x22\x20delayed\x20by\x2072\x20hours.','§7Select\x20a\x20colony\x20to\x20teleport\x20to\x20its\x20flag\x20location.','Could\x20not\x20set\x20entity\x20tags:','Test\x20match\x20error:','playerName','Error\x20in\x20assignRanksMenu:','§aSuccessfully\x20created\x20colony\x20\x22','Citizen\x20Name\x20(leave\x20blank\x20for\x20random):','/10','May','Yo!\x20Found\x20some\x20good\x20stuff\x20down\x20in\x20the\x20mines\x20today.\x20Want\x20it?','§f\x20|\x20§c§l\x20SUDDEN\x20DEATH\x20§r§f|\x20§e','fpoland','§cError\x20joining\x20private\x20match:\x20','set_yellow','§aDeposited\x20','text','Harley','textures/ui/confirm','Error\x20showing\x20browse\x20players\x20UI:','getAllJukeboxes','pack_visibility','textures/ui/multiplayer_glyph_color','Could\x20not\x20teleport\x20builder:','set_power','High\x20Emperor','Could\x20not\x20play\x20war\x20over\x20sound:','Transfer\x20Ownership\x20-\x20','\x20days\x20IRL','funited_kingdom','§cNo\x20colony\x20flags\x20found\x20within\x20100\x20blocks.\x20Place\x20the\x20Blueprint\x20Workbench\x20within\x20100\x20blocks\x20of\x20any\x20colony\x20flag\x20to\x20use\x20it.','explosion','anvil','minecraft:diamond_leggings','reminders','Decline','marauderAttacksEnabled','minecraft:spruce_trapdoor','\x0aFlag\x20Color:\x20','textures/items/wheat','How\x27s\x20it\x20going?\x20The\x20forest\x20was\x20generous\x20today.\x20Want\x20some\x20lumber?','4v4','colorCode','war_cooldowns','Ava','\x20tied!','§c§lSUDDEN\x20DEATH!','§cError\x20configuring\x20taxes.','jerrys_colonies:blueprint_button_rotate','§eHunger\x20Management','Error\x20updating\x20colony\x20member\x20activity:\x20','Rejected','colony','Democracy\x20must\x20be\x20enabled\x20when\x20creating\x20a\x20new\x20colony\x20and\x20cannot\x20be\x20changed\x20later.','§cYour\x20colony\x20has\x20no\x20flag!','Enter\x20a\x20name\x20(leave\x20blank\x20for\x20random)','§cAn\x20error\x20occurred\x20while\x20trying\x20to\x20delete\x20the\x20flag.','Error\x20in\x20checkBabyRequests:','\x20to\x20the\x20colony!','\x0a§6Democracy:\x20§aEnabled\x0a','status','\x20from\x20storage','189160eItFDM','[PLAYER\x20JOIN]\x20ERROR:\x20Colony\x20','§6Rename\x20Colony','minecraft:hopper','§r\x20to\x20§a','\x20hasGuidebook:\x20','textures/ui/FriendsIcon','§eWarning:\x20This\x20food\x20crate\x20is\x20not\x20in\x20any\x20colony\x20territory.\x20Citizens\x20won\x27t\x20be\x20able\x20to\x20use\x20it.','Candlemaker\x20[Fem.]','(none)','Error\x20in\x20triggerArenaSpectatorAnimations:','Setting\x20flag\x20tags\x20with\x20name:\x20\x22','weekly','Blue','§cFailed\x20to\x20use\x20healing\x20tonic!','textures/ui/cancel','\x20for\x20player\x20','§7Flag\x20theft\x20canceled.','Chemist','§cNo\x20eligible\x20colonies\x20to\x20declare\x20war\x20on!\x20All\x20other\x20colonies\x20have\x20less\x20than\x20level\x2015.','fbandit','minecraft:iron_helmet','currentTick','Player\x20Kills:\x20','\x0aTotal\x20Players:\x20','custom_open','\x20is\x20colony\x20owner\x20-\x20all\x20permissions\x20granted','%s\x20has\x20died','toLowerCase','\x22\x20created\x20successfully!','fturkey','withState','jerrys_colonies:blueprint_button_right','§7Colony\x20Citizens:\x20','delete_inactive_','[FOOD_CRATE]\x20Emergency\x20backup\x20also\x20failed:','Could\x20not\x20play\x20whistle\x20sound\x20for\x20diplomacy:\x20','killsA','\x20-\x20player\x20offline','Unknown\x20Pack','[ARENA]\x20Failed\x20to\x20retrieve\x20cached\x20location:\x20','getState','§cError\x20processing\x20tax\x20payment.','minecraft:mangrove_fence','Next\x20election\x20in\x2030\x20days','Chest','Chemists\x20brew\x20potions\x20and\x20gather\x20magical\x20items.','§cError:\x20Invalid\x20song\x20selected.','\x20point\x20mismatches\x20-\x20forcing\x20sync','Error\x20playing\x20arena\x20crowd\x20sounds:','view_info','set_holy','§cError\x20viewing\x20tax\x20records.','isExpansion','head','§aFlag\x20rotated\x20-90°!','§r\x0aOwner:\x20','Adair','\x20(A).\x20New\x20killsB:\x20','[ARENA]\x20Retrieved\x20previous\x20location\x20for\x20','lastCollection','§aWelcome\x20to\x20','playerDeaths','Error\x20updating\x20rank.\x20Please\x20try\x20again.','Could\x20not\x20give\x20colony\x20crown\x20to\x20player:','§cNo\x20modules\x20are\x20enabled\x20in\x20the\x20mayor\x27s\x20table.','Explorer','Your\x20Tax\x20Status\x20-\x20','[PURCHASE_CITIZEN]\x20Purchase\x20not\x20confirmed\x20(checkbox\x20not\x20checked)','MALNOURISHED','type','Error\x20processing\x20flag\x20during\x20colony\x20deletion:','Name\x20the\x20Baby','Messenger\x20[Fem.]','Teleport\x20to\x20Colony','setTarget','open','§cOverdue','\x20-\x20§6','Steve','Error\x20removing\x20bandits\x20near\x20colony\x20flags:\x20','democracy','[GRAVE]\x20Successfully\x20set\x20block\x20type\x20to\x20grave','Error\x20showing\x20tax\x20payment\x20form.','Error\x20in\x20joinMatch:','Error\x20checking\x20upcoming\x20tax\x20payments:','minecraft:acacia_trapdoor','jerrys_colonies:trophy_love_and_war','Unknown\x20Player','[GRAVE]\x20Stored\x20data\x20for\x20grave\x20at\x20','§cError\x20processing\x20mail:\x20','\x20has\x20transferred\x20ownership\x20of\x20§6','push','Error\x20clearing\x20action\x20bars:','§cNo\x20valid\x20knights\x20found\x20in\x20unit!','updateSubtitle','FULL','\x20colony\x20flags\x20across\x20all\x20dimensions.','isSneaking','Failed\x20to\x20load\x20citizen\x20gift\x20cooldowns:','combat','Feet','§eTeleporting\x20back...','9xcWSkF','minecraft:iron_sword','desertpack/desert\x20base','[PURCHASE_CITIZEN]\x20Spawning\x20entity\x20jerrys_colonies:citizen','fintelligent','§a\x20knights','§4Trigger\x20Marauder\x20Attack','Ira','§6§l━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━','\x20has\x20invalid\x20data:','Confirm\x20purchase\x20for\x20','§cError\x20loading\x20public\x20matches:\x20','§cColony\x20not\x20found!','set_mexico','canceled','citizen_type:','minecraft:oak_trapdoor','ffrance','jerrys_colonies:blue_territory_marker_block','following:',':\x20Resumed\x20plague\x20timer\x20with\x20','structure_packs_visible','FAILED\x20(null)','\x20minutes\x20remaining','\x20died\x20on\x20','Error\x20checking\x20colony\x20flag\x20distances\x20for\x20blueprint\x20workbench:','Expansion\x20pack\x20','Automated\x20event\x20for\x20colony\x20','miner','%s\x20was\x20struck\x20by\x20lightning','minecraft:inventory','Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20the\x20rank\x20\x22','\x20in\x20save\x20(','desertpack/desert\x20tower','senderId','arenaEnabled','enemy','\x20set\x20minecraft:free\x20ease\x202\x20linear\x20pos\x2050032.54\x20113.62\x2050053.70\x20rot\x20-10\x2040','fminute','§cAn\x20error\x20occurred\x20while\x20offering\x20flag\x20stealing\x20options.','citizen.death.cactus','§dEnable\x20Flag\x20Teleport','Liam','cause','Unique\x20fictional\x20faction\x20and\x20group\x20flags','Error\x20assigning\x20player\x20rank:','Choose\x20a\x20formation§r','Error\x20handling\x20citizen\x20starvation\x20death:','fphilippines','Error\x20in\x20showPublicMatchesUI:','minAmount','§cNo\x20valid\x20flag\x20locations\x20for\x20this\x20colony.','§cError\x20opening\x20mailbox:\x20','yellow','§f\x20|\x20§e','\x20flag\x20distances:','Error\x20showing\x20mailbox\x20UI:','Brazil','lastPayment','citizen.death.drowning','Error\x20applying\x20hunger\x20effects:','Hi!\x20My\x20workshop\x27s\x20been\x20sparking.\x20Got\x20some\x20neat\x20devices\x20here!','Delete\x20Flag\x20and\x20Get\x20Flag\x20Item\x20Back','§aFlag\x20deleted\x20and\x20item\x20dropped.','§cArena:\x20','Tax\x20Amount:\x20','become_melee','§cError\x20creating\x20match:\x20','neutral','remove','§7?','Colony\x20Members','Colony\x20creation\x20cancelled.','89684nxHlVI','jerrys_colonies:commander_sword','§cCould\x20not\x20access\x20your\x20inventory!','Error\x20deleting\x20rank.\x20Please\x20try\x20again.','block','war_side_2','\x20colony\x20members\x20and\x20others\x20for\x20testing','maxZ','logger','west','food_crate_data_backup','lightning','§aExpansion\x20Pack\x20Loaded:\x20§e','Colony\x20Ledger','set_flower','opponent','\x20after\x20all\x20players\x20left','Next\x20Collection:\x20','Failed\x20to\x20load\x20player\x20spouses:','§cError\x20opening\x20send\x20mail:\x20','pendingDeliveries','plague_particles','green','Primary\x20Flag','Failed\x20to\x20parse\x20global\x20settings:','Could\x20not\x20update\x20citizen\x20tags:','minecraft:chainmail_chestplate','minecraft:jungle_trapdoor','Failed\x20to\x20save\x20trumpet\x20data:','thorns','end_war_mode_side_1','Showing\x20upcoming\x20tax\x20payment\x20notification\x20to\x20','set_nigeria','setPermutation','Taxes:\x20Disabled','set_bandit','jerrys_colonies:trophy_cinco_de_mayo','Error\x20rotating\x20flag:','Players:\x20','§cNo\x20colony\x20flags\x20found\x20within\x20100\x20blocks.\x20Place\x20a\x20Mayor\x27s\x20Table\x20within\x20100\x20blocks\x20of\x20any\x20colony\x20flag\x20to\x20use\x20it.','structure_pack_plains','Howdy!\x20Brewing\x20some\x20complex\x20stuff\x20right\x20now.\x20Check\x20back\x20later!','§7Found\x20and\x20removed\x20','none','Failed\x20to\x20remove\x20duplicate\x20crown:','minecraft:bamboo_pressure_plate','fred','jerrys_colonies:match_manager','No\x20player\x20members\x20yet','textures/items/potion_bottle_heal.png','Error\x20checking\x20pending\x20flag\x20steal:','Loaded\x20','Select\x20a\x20blueprint\x20pack\x20to\x20view\x20structures','Failed\x20to\x20clear\x20stored\x20player\x20location\x20and\x20inventory:','name','386113VHqABO','§cTest\x20error:\x20','Error\x20showing\x20send\x20mail\x20UI:','baby_requests','Error\x20processing\x20colony\x20invitation:','§n§p§c§r','OFF','§cAn\x20error\x20occurred\x20while\x20trying\x20to\x20view\x20colony\x20flags.','\x20(type:\x20','§c§lBack','\x20votes)','Loggers\x20gather\x20logs\x20and\x20various\x20wooden\x20items\x20from\x20forests.','§cUnknown','§cTax\x20item\x20cannot\x20be\x20empty!','§tKnight\x0a§4Protection\x20&\x20Combat','Team\x202','%s\x20was\x20shot','textures/ui/arrow_down','You\x20have\x20left\x20','citizen','\x0a§6Democracy:\x20§cDisabled','button1','minecraft:crimson_pressure_plate',',\x20event:\x20','§7The\x20citizen\x20has\x20been\x20automatically\x20claimed\x20by\x20your\x20colony.','§7Select\x20an\x20action:','Admin:\x20','Claim\x20Nearby\x20Citizens','password','[FOOD]\x20Citizen\x20','§7Select\x20a\x20colony\x20to\x20set\x20relations\x20with:','§cAn\x20error\x20occurred\x20while\x20stealing\x20the\x20flag.\x20The\x20operation\x20might\x20have\x20failed.','playerLeave','minecraft:shield','%s\x20starved\x20to\x20death','Select\x20an\x20action\x20for\x20colony:\x20§6','§e[Flag]\x20World\x20Flags','§l§g[Arena\x20Princess]§r\x20','§a[TEST]\x20Fake\x20match\x20started!','480\x20min\x20(8h)','\x20points§7.','Expansion\x20Pack\x20Loaded:\x20','Error\x20cleaning\x20player\x20tags:','forange','\x20knights)','Are\x20you\x20sure\x20you\x20want\x20to\x20vote\x20for\x20§e','minecraft:skin_id','Arwynn','Flag\x20#','Error\x20managing\x20citizens:','§6War\x20Prize\x20-\x20Steal\x20a\x20Flag','[GRAVE]\x20Block\x20at\x20location\x20is:\x20','textures/ui/icon_multiplayer.png','struct','nameTag','teamSize','turkey','jerrys_colonies:mailbox','§7Selected\x20module:\x20','set_france','india','clear','Error\x20updating\x20citizens\x20in\x20dimension:','\x20->\x20','§aGlobal\x20modules\x20and\x20pack\x20visibility\x20updated\x20for\x20all\x20players.','playerJoin','Faye','getDate','Structure\x20load\x20returned\x200\x20success\x20count.\x20Result:\x20','farmersdelight:','cactus','Enter\x20colony\x20name...','Select\x20Skin:','Error\x20in\x20periodic\x20memory\x20cleanup:','poland','Send\x20Mail','\x20rank-based\x20permissions\x20set\x20-\x20commandKnights:\x20','jukeboxes','set_together','§cNo\x20colonies\x20found\x20to\x20teleport\x20to.','Using\x20direct\x20color\x20event\x20for\x20existing\x20colony:\x20','Error\x20in\x20showFoodCrateUI:','\x20points§e\x20preserved\x20for\x20next\x20crate.','§cFlag\x20name\x20cannot\x20be\x20empty.','§cNo\x20other\x20players\x20have\x20mailboxes\x20yet!','Error\x20loading\x20mailbox\x20data:','Removed\x20dead\x20knight\x20','Food\x20crate\x20system\x20initialized\x20-\x20textures\x20will\x20update\x20on\x20interaction','jerrys_colonies:bounty_board','textures/ui/check','\x20(Level\x20','Gray','minecraft:cookie','Are\x20you\x20sure\x20you\x20want\x20to\x20§cDELETE\x20the\x20colony:\x20\x22','\x20items\x20for\x20player\x20','§cNo\x20colony\x20found\x20within\x20100\x20blocks\x20of\x20this\x20Mayor\x20Table.','citizen_type:hunter','light_gray','lastMemberActivity','§aLand\x20Protection:\x20','§cFailed\x20to\x20spawn\x20control\x20buttons!','Found\x20','§7Debug:\x20Enabled\x20module\x20IDs:\x20','isSolid','§cWarning:\x20Could\x20not\x20save\x20colony\x20data.\x20Your\x20flag\x20was\x20placed\x20but\x20might\x20not\x20function\x20correctly\x20until\x20data\x20is\x20saved.','Horserace','jerrys_colonies:trophy_thunderstrike','§aYou\x20are\x20now\x20the\x20owner\x20of\x20§6','View\x20Colony\x20Members','brazil','§7Match\x20ID:\x20','60\x20minutes','Colony\x20Population:\x0a-Players:\x20','Send\x20','minecraft:netherite_helmet','Error\x20in\x20bounty\x20death\x20handler:','\x20paid\x20taxes:\x20','ranks','minecraft:pale_oak_fence','§bMiniMap\x20Comp.\x20Mode:\x20','Manage\x20Babies','Weekly','[GUIDEBOOK]\x20Inventory\x20component\x20found,\x20adding\x20items...','Hey!\x20Still\x20working\x20on\x20some\x20stuff.\x20Come\x20back\x20in\x20a\x20bit!','nap','[PURCHASE_CITIZEN]\x20Citizen\x20successfully\x20configured','arena_temp_item_','Failed\x20to\x20update\x20crate\x20textures\x20after\x20consumption:','Enter\x20rank\x20name','Vehicles\x20Pack\x20registered\x20with\x201\x20blueprint','Added\x20missing\x20nextPlague\x20property\x20to\x20colony\x20','§cMarauder\x20attacks\x20are\x20globally\x20disabled.','packId','Invalid\x20expansion\x20blueprint\x20from\x20','§cNo\x20other\x20players\x20found','packName','[FOOD_CRATE]\x20Error\x20in\x20validateFoodCrateStates:','Error\x20showing\x20other\x20player\x20stats\x20UI:','SLIGHTLY_HUNGRY','Forge','colonyB','Player\x20is\x20no\x20longer\x20the\x20owner\x20of\x20the\x20winning\x20colony','machinist','minecraft:iron_door','[FOOD_CRATE]\x20✓\x20VERIFIED\x20save\x20of\x20','maxSize','Error\x20setting\x20flag\x20color:','[Tavern\x20Spawn]\x20Spawned\x20citizen\x20at\x20tavern\x20sign\x20at\x20','View\x20Colony\x20Flags','§cCannot\x20place\x20flag\x20here!','hasItem','\x0a\x0aDo\x20you\x20want\x20to\x20join\x20this\x20colony?','Setting\x20flag\x20color\x20using\x20event:\x20','ftanzania','Nigeria','[ARENA]\x20Restored\x20nameTag:\x20','Error\x20clearing\x20player\x20inventory:','moveRight','No\x20player\x20members\x20online','Could\x20not\x20trigger\x20builder\x20variant\x20event:\x20','Error\x20in\x20updateWarSideTags:','effect\x20@s\x20clear','Rank\x20Name','\x22\x20deleted\x20successfully!','\x20balloons\x20at\x20colony\x20','jerrys_colonies:dark_crown','Delete\x20This\x20Rank','\x20at\x20coordinates:\x20','entitySpawn','getEquipment','saved_colonies','setblock\x20','minecraft:air','values','Divorce','§7You\x20declined\x20the\x20invitation\x20to\x20join\x20','Additional\x20flags\x20from\x20countries\x20around\x20the\x20world','Skipping\x20hunger\x20processing\x20for\x20citizen\x20','dimension','minecraft:acacia_button','§aBandit\x20flag\x20placed!','minecraft:is_tamed','§cYou\x20must\x20be\x20a\x20member\x20of\x20a\x20colony\x20to\x20vote!','padStart','Ballot\x20boxes\x20can\x20only\x20be\x20placed\x20in\x20colonies\x20with\x20democracy\x20enabled!','minecraft:mangrove_trapdoor','\x20none','nextPlague','timeoutId','Error\x20managing\x20flag\x20entity\x20during\x20theft:','minecraft:bamboo_trapdoor','textures/items/emerald','findIndex','§bSet\x20Prices','Create\x20and\x20manage\x20knight\x20units§r','Error\x20editing\x20rank\x20details:','jerrys_colonies:wedding_ring','\x20old\x20stored\x20coordinate\x20sets\x20to\x20prevent\x20memory\x20leaks','Error\x20in\x20showBallotBoxUI:','§7You\x20already\x20have\x20an\x20active\x20blueprint\x20placement!','§r:\x20','§lCreate\x20Deathmatch','300\x20days\x20IRL','[ARENA]\x20Could\x20not\x20clear\x20coordinates\x20for\x20','§a[Zombified]§r\x20','citizen_type:knight','Farmhouse','No\x20Rank','Oh\x20hey!\x20I\x27m\x20in\x20the\x20middle\x20of\x20an\x20experiment.\x20Come\x20back\x20soon!','[WAR]\x20Error\x20processing\x20pending\x20conversion:','\x0aColony:\x20','\x20(occurred\x20','Full','cow','minecraft:crimson_fence','\x20days\x0a','Taxes:\x20Enabled','shulker_contents','§cConfirm\x20War\x20Declaration','jerrys_colonies:mayor_table','jerrys_colonies:luxerious_crown','Flag\x20entity\x20not\x20found\x20or\x20not\x20valid','\x20food\x20items\x20for\x20','\x20cosmetic\x20flags\x20to\x20team\x20colors','fisherman','cost','getBlock','minecraft:cherry_button','Failed\x20to\x20initiate\x20teleport:','minecraft:gunpowder','killsB','_colony_id:','minecraft:warped_fence','No\x20Colony','playsound\x20random.orb\x20@a[r=10]\x20','citizen_type:baker','war_side_1','Sabill','§b[Diplomacy]\x20','§cFailed\x20to\x20set\x20up\x20teleport.\x20Error:\x20','\x20set\x20minecraft:free\x20ease\x207\x20in_expo\x20pos\x2050031.5\x20115.2\x2050054.5\x20rot\x2020\x200','getLanguageCode','§cError\x20opening\x20bounty\x20board:\x20','Back\x20to\x20Ranks\x20List','jerrys_colonies:hot_air_balloon','Could\x20not\x20return\x20flag\x20item:','playerId','jerrys_colonies:blueprint_jail','citizen_type:fisherman','tp\x20@s\x200\x20100\x200','§cFailed\x20to\x20play\x20sound.\x20Make\x20sure\x20sound\x20files\x20are\x20installed.','citizen_type:chemist','drop','\x20to\x20expand\x20your\x20colony.','§cError\x20sending\x20mail:\x20','foodCrateLocation','Store\x20food\x20items\x20to\x20convert\x20them\x20to\x20food\x20points.\x0a\x0a','What\x27s\x20up?\x20Got\x20some\x20shiny\x20rocks\x20and\x20metals\x20for\x20ya\x20if\x20you\x20want\x20\x27em.','Managing\x20diplomatic\x20relations\x20with\x20other\x20colonies.\x0a\x0a§6Other\x20Colonies:\x20','some','toFixed','\x20has\x20invited\x20you\x20to\x20join\x20their\x20colony!','minute','Non-Aggression\x20Pact','manageCitizens','mod_settings','[WAR]\x20Error\x20during\x20pending\x20conversion:','max','Olivia','\x20in\x20memory\x20(','\x20already\x20has\x20received_guidebook\x20tag,\x20skipping','set_new_zealand','Error\x20ending\x20war\x20during\x20colony\x20deletion:','Close','titleraw\x20@s\x20title\x20{\x22rawtext\x22:[{\x22text\x22:\x22§cWAR\x20DECLARED\x22}]}','[ARENA]\x20Used\x20fallback\x20storage\x20for\x20container\x20data','§cColony\x20\x22','minecraft:netherite_chestplate','\x20(B)\x20killed\x20','spain','§aFlag\x20rotated\x2090°!','\x20\x20-\x20Empty\x0a','set_dark','has','songs','Hey\x20there!\x20Plants\x20are\x20doing\x20great\x20today.\x20Want\x20some\x20fresh\x20crops?','§7The\x20markings\x20on\x20this\x20gravestone\x20have\x20been\x20lost\x20to\x20the\x20sands\x20of\x20time','farmhouse','Citizens\x20want\x20to\x20have\x20a\x20child.','Configure\x20Taxes\x20-\x20','source','Yes,\x20expand\x20my\x20colony','Executing\x20triggerPlague\x20for\x20colony\x20','§cThis\x20colony\x20already\x20has\x20a\x20pending\x20baby\x20request!','minecraft:diamond_spear','textures/item/diamond_sword','<loading_anim>','.\x20You\x20can\x20now\x20create\x20a\x20new\x20colony.','Beck','textures/items/colony_flag','§r\x20as\x20the\x20colony\x20leader?\x0a\x0a',')\x20died\x20from\x20starvation','Avery','Hi!\x20The\x20garden\x27s\x20been\x20awesome.\x20Got\x20some\x20good\x20food\x20if\x20you\x20want\x20it.','YES','isPrivate','Hey!\x20Still\x20out\x20exploring\x20new\x20places.\x20Lots\x20more\x20to\x20discover!','§7DISABLED','set_spain','[FOOD_CRATE]\x20No\x20valid\x20crates\x20loaded,\x20preserving\x20existing\x20data\x20in\x20memory','\x20(B).\x20New\x20killsA:\x20','§cPlease\x20enter\x20a\x20colony\x20name!','\x20citizens\x20reassigned.','[PURCHASE_CITIZEN]\x20Custom\x20name:\x20\x22','[Init]\x20Loaded\x20','frussia','Place\x20Blueprints','colony_perm_diplomacy','catch','colonyName','Hey!\x20Been\x20tinkering\x20all\x20day.\x20Got\x20some\x20redstone\x20gadgets\x20for\x20ya!','[DEBUG]\x20Victim\x20tags:\x20','Spouse:\x20','\x20and\x20','\x20hours,\x20','Error\x20managing\x20diplomacy:','target\x20@s\x20clear','\x20completed','deathCause','player','Machinist','rejected','Please\x20choose\x20an\x20option\x20below:','Error\x20details:','Construction\x20(Blueprint\x20Workbench)','1000\x20min\x20(16.7h)','textures/ui/icon_setting','\x20placed.\x0a§7Select\x20a\x20flag\x20to\x20manage\x20it.','minecraft:gold_ingot','\x20from\x20','\x20for\x20citizen:\x20','Error\x20deleting\x20colony:','Hello!\x20Been\x20out\x20in\x20the\x20woods\x20all\x20day.\x20Got\x20some\x20nice\x20stuff\x20if\x20you\x20want\x20it.','\x22\x20for\x20','lore','fegypt','\x20was\x20re-elected\x20as\x20leader!\x20(','\x20with\x20flag\x20at\x20','[FOOD_CRATE]\x20WARNING:\x20Post-save\x20verification\x20failed\x20for\x20colony\x20','createdBy','winnerColonyId','subscribe','60\x20min\x20(1h)','§e[TEST]\x20Starting\x20fake\x20arena\x20match...','[MANAGE_CITIZENS]\x20Inviting\x20player...','§5A\x20plague\x20has\x20struck\x20your\x20colony!\x20All\x20citizens\x20are\x20weakened\x20for\x2020\x20minutes.','\x20-\x20using\x20spawn\x20point','\x20will\x20now\x20follow\x20you!','chimney','§r\x20as\x20a\x20prize\x20for\x20winning\x20the\x20war!','§cInventory\x20full!\x20Blueprint\x20dropped\x20on\x20ground.','Unnamed\x20Knight','[FOOD_CRATE]\x20CRITICAL\x20ERROR\x20loading\x20food\x20crate\x20data:','\x0aMembers:\x20',',\x20Democracy:\x20','\x20working\x20for\x20the\x20colony.\x0a\x0a§7Hunger\x20Status:\x20','§tBotanist\x0a§4Farming\x20&\x20Plants','set_hope','fnew_zealand','itemUseOn','set_italy','§cError\x20placing\x20cosmetic\x20flag.\x20Please\x20try\x20again.','Error\x20in\x20checkCitizenHunger:','symbol','substr','Colony\x20Players:\x20','Manual\x20event\x20trigger\x20flag\x20set\x20for\x20colony\x20','United\x20Kingdom','\x20invalid\x20plague\x20particle\x20timers','setItem','Error\x20updating\x20knights\x20in\x20dimension:','Conqueror','I\x20have\x20resources\x20ready\x20for\x20you!','minecraft:fence','You\x20haven\x27t\x20voted\x20yet'];_0x414c=function(){return _0x537734;};return _0x414c();}async function showCitizenInteractionForm(_0x2118e4,_0x7e9d37){const _0x170423=_0x1d2622;_0x2118e4['playSound'](_0x170423(0x77b),{'location':_0x7e9d37['location'],'volume':0x1,'pitch':0x1});let _0xfc9aef=_0x170423(0x6da),_0x57f171=null;for(const _0x42a5a2 of[_0x170423(0x9e2),_0x170423(0x3d7),_0x170423(0x35d),_0x170423(0x852),_0x170423(0x47a),_0x170423(0x3de),_0x170423(0xb26),_0x170423(0xd00),_0x170423(0xad4),_0x170423(0xa17),_0x170423(0x594)]){if(_0x7e9d37['hasTag'](_0x170423(0x9d5)+_0x42a5a2)){_0x57f171=_0x42a5a2,_0xfc9aef=_0x42a5a2[_0x170423(0x662)](0x0)[_0x170423(0x89c)]()+_0x42a5a2[_0x170423(0x8e3)](0x1);break;}}const _0x458152=getCitizenHungerLevel(_0x7e9d37['id']),_0xbf43f1=getHungerStatusDisplay(_0x458152),_0x4df49a=_0x2118e4['id']+'-'+_0x7e9d37['id'],_0x1e411f=citizenGiftCooldowns[_0x170423(0xc0a)](_0x4df49a)||0x0,_0x330aee=Date['now'](),_0x4a1c42=_0x330aee-_0x1e411f>=CITIZEN_GIFT_COOLDOWN_MS,_0x392b0f=new ActionFormData();_0x392b0f['title'](_0x170423(0xa4b)+_0xfc9aef);if(_0x57f171===_0x170423(0x594)){const _0x5a9e51=_0x7e9d37[_0x170423(0x299)](_0x170423(0xafb))!==undefined;let _0x317142=_0x170423(0x527),_0x2184a4=![],_0x15a7f0=![],_0x4fa83b=![];try{const _0x45b7ed=_0x7e9d37['getComponent']('minecraft:movement');_0x45b7ed&&(_0x2184a4=_0x45b7ed[_0x170423(0x7e6)]<0.01);if(!_0x2184a4){const _0x398a9b=_0x7e9d37[_0x170423(0x460)]();_0x398a9b['includes'](_0x170423(0x133))?(_0x4fa83b=!![],_0x317142='patrolling'):(_0x15a7f0=!![],_0x317142=_0x170423(0x527));}else _0x317142='sitting';}catch(_0x2fdfc3){_0x2118e4['sendMessage'](_0x170423(0x675)+_0x2fdfc3);}let _0x44a69e='Ready\x20for\x20orders,\x20commander!\x0a\x0aHunger\x20Status:\x20'+_0xbf43f1+'\x0a';if(_0x5a9e51){if(_0x2184a4)_0x44a69e+=_0x170423(0x5ed);else _0x4fa83b?_0x44a69e+=_0x170423(0xc19):_0x44a69e+='Status:\x20§bFollowing\x20You';}else _0x44a69e+='Status:\x20Use\x20Iron\x20Ingot\x20to\x20Recruit';_0x392b0f['body'](_0x44a69e);if(_0x5a9e51){if(_0x2184a4)_0x392b0f['button']('Follow\x20Me!'),_0x392b0f[_0x170423(0x31f)](_0x170423(0x42b));else _0x4fa83b?(_0x392b0f[_0x170423(0x31f)]('Follow\x20Me!'),_0x392b0f['button']('Stand\x20Still')):(_0x392b0f['button'](_0x170423(0x42b)),_0x392b0f['button'](_0x170423(0x43d)));}_0x392b0f[_0x170423(0x31f)](_0x170423(0xb57));}else{let _0xf84f58='Hello!\x20I\x27m\x20a\x20'+_0xfc9aef[_0x170423(0x97b)]()+_0x170423(0xbb3)+_0xbf43f1+'\x0a\x0a';_0x4a1c42?_0xf84f58+=_0x170423(0xbc4):_0xf84f58+='I\x27m\x20still\x20working\x20on\x20gathering\x20resources.',_0x392b0f[_0x170423(0x629)](_0xf84f58),_0x4a1c42&&_0x392b0f[_0x170423(0x31f)]('Claim\x20Resources'),_0x392b0f['button']('Close');}const _0x1a7bfa=await _0x392b0f[_0x170423(0x504)](_0x2118e4);if(_0x1a7bfa[_0x170423(0x9d4)])return;if(_0x57f171===_0x170423(0x594)){const _0x59ab81=_0x7e9d37[_0x170423(0x299)]('minecraft:is_tamed')!==undefined;let _0x2165c3=![],_0x458bde=![];try{const _0xbf7ec4=_0x7e9d37[_0x170423(0x299)](_0x170423(0x8aa));_0xbf7ec4&&(_0x2165c3=_0xbf7ec4[_0x170423(0x7e6)]<0.01);const _0x51b36=_0x7e9d37['getTags']();_0x51b36[_0x170423(0x22d)](_0x170423(0x133))&&(_0x458bde=!![]);}catch(_0x4251c8){_0x2118e4[_0x170423(0x34f)](_0x170423(0x8a5)+_0x4251c8);}if(_0x59ab81&&_0x1a7bfa[_0x170423(0x77a)]!==undefined){if(_0x2165c3){if(_0x1a7bfa[_0x170423(0x77a)]===0x0)_0x7e9d37[_0x170423(0x866)](_0x170423(0x133)),_0x7e9d37[_0x170423(0xbd0)](_0x170423(0x862)),_0x2118e4[_0x170423(0x34f)]('§a'+(_0x7e9d37[_0x170423(0xa7c)]||_0x170423(0x5f2))+_0x170423(0xbab));else _0x1a7bfa['selection']===0x1&&(_0x7e9d37[_0x170423(0x875)](_0x170423(0x133)),_0x7e9d37[_0x170423(0xbd0)](_0x170423(0x71e)),_0x2118e4[_0x170423(0x34f)]('§a'+(_0x7e9d37[_0x170423(0xa7c)]||_0x170423(0x5f2))+_0x170423(0x91b)));}else{if(_0x458bde){if(_0x1a7bfa['selection']===0x0)_0x7e9d37['removeTag'](_0x170423(0x133)),_0x7e9d37[_0x170423(0xbd0)](_0x170423(0x862)),_0x2118e4['sendMessage']('§a'+(_0x7e9d37['nameTag']||_0x170423(0x5f2))+_0x170423(0xbab));else _0x1a7bfa[_0x170423(0x77a)]===0x1&&(_0x7e9d37[_0x170423(0x866)](_0x170423(0x133)),_0x7e9d37[_0x170423(0xbd0)](_0x170423(0x24f)),_0x2118e4[_0x170423(0x34f)]('§a'+(_0x7e9d37[_0x170423(0xa7c)]||'Knight')+_0x170423(0xcdc)));}else{if(_0x1a7bfa[_0x170423(0x77a)]===0x0)_0x7e9d37[_0x170423(0x875)](_0x170423(0x133)),_0x7e9d37[_0x170423(0xbd0)](_0x170423(0x71e)),_0x2118e4[_0x170423(0x34f)]('§a'+(_0x7e9d37['nameTag']||_0x170423(0x5f2))+_0x170423(0x91b));else _0x1a7bfa['selection']===0x1&&(_0x7e9d37[_0x170423(0x866)]('knight_mode:patrol'),_0x7e9d37['triggerEvent'](_0x170423(0x24f)),_0x2118e4[_0x170423(0x34f)]('§a'+(_0x7e9d37[_0x170423(0xa7c)]||'Knight')+_0x170423(0xcdc)));}}}}else _0x4a1c42&&_0x1a7bfa[_0x170423(0x77a)]===0x0&&giveCitizenGift(_0x2118e4,_0x7e9d37);}async function showCitizenTypeSelectionUI(_0xb5a962,_0x5525ab){const _0x5444e8=_0x1d2622;_0xb5a962[_0x5444e8(0x285)]('citizen.interact',{'location':_0x5525ab[_0x5444e8(0x1f2)],'volume':0x1,'pitch':0x1});const _0x39686a=new ActionFormData()[_0x5444e8(0xd1)](_0x5444e8(0xbf9))[_0x5444e8(0x629)]('§7Choose\x20a\x20role\x20for\x20this\x20citizen.\x0a\x0a§cWARNING:\x20§eOnce\x20assigned,\x20a\x20role\x20cannot\x20be\x20changed.')['button'](_0x5444e8(0x86f),_0x5444e8(0xc12))['button'](_0x5444e8(0x4dc),_0x5444e8(0xf7))[_0x5444e8(0x31f)](_0x5444e8(0x82b),'textures/blocks/brick')[_0x5444e8(0x31f)](_0x5444e8(0x638),_0x5444e8(0x149))[_0x5444e8(0x31f)](_0x5444e8(0xbb4),_0x5444e8(0x948))[_0x5444e8(0x31f)]('§tBaker\x0a§4Food\x20&\x20Baking',_0x5444e8(0x89b))[_0x5444e8(0x31f)](_0x5444e8(0x6cc),_0x5444e8(0x2e9))[_0x5444e8(0x31f)]('§tChemist\x0a§4Potions\x20&\x20Brewing',_0x5444e8(0xa40))[_0x5444e8(0x31f)]('§tMachinist\x0a§4Redstone\x20&\x20Mechanics',_0x5444e8(0x71f))['button'](_0x5444e8(0xc98),'textures/items/iron_axe')[_0x5444e8(0x31f)](_0x5444e8(0xa54),_0x5444e8(0xde)),_0x3d1b6e=await _0x39686a[_0x5444e8(0x504)](_0xb5a962);if(_0x3d1b6e[_0x5444e8(0x9d4)])return;let _0x43c6e2='',_0x37d589='';switch(_0x3d1b6e[_0x5444e8(0x77a)]){case 0x0:_0x43c6e2=_0x5444e8(0x9e2),_0x37d589=_0x5444e8(0x3d4);break;case 0x1:_0x43c6e2=_0x5444e8(0x3d7),_0x37d589=_0x5444e8(0x1c5);break;case 0x2:_0x43c6e2=_0x5444e8(0x35d),_0x37d589=_0x5444e8(0x484);break;case 0x3:_0x43c6e2=_0x5444e8(0x852),_0x37d589=_0x5444e8(0x9a1);break;case 0x4:_0x43c6e2=_0x5444e8(0x47a),_0x37d589=_0x5444e8(0x34e);break;case 0x5:_0x43c6e2=_0x5444e8(0x3de),_0x37d589=_0x5444e8(0x1a4);break;case 0x6:_0x43c6e2=_0x5444e8(0xb26),_0x37d589=_0x5444e8(0x3f6);break;case 0x7:_0x43c6e2=_0x5444e8(0xd00),_0x37d589=_0x5444e8(0x971);break;case 0x8:_0x43c6e2=_0x5444e8(0xad4),_0x37d589=_0x5444e8(0xb90);break;case 0x9:_0x43c6e2=_0x5444e8(0xa17),_0x37d589=_0x5444e8(0x363);break;case 0xa:_0x43c6e2='knight',_0x37d589=_0x5444e8(0x5f2);break;}if(_0x43c6e2===_0x5444e8(0x594))try{const _0xceb01b=_0x5525ab[_0x5444e8(0x1f2)],_0x2f3813=_0x5525ab['dimension'],_0x14889f=_0x5525ab[_0x5444e8(0x460)](),_0x15b402=_0x5525ab['nameTag']||_0x5444e8(0x673),_0x2bebd2=_0x5525ab['getComponent'](_0x5444e8(0x328)),_0x4a0566=_0x5525ab['getComponent']('inventory'),_0x4ebb6e={};if(_0x2bebd2)try{const _0x5868cc=[_0x5444e8(0x77c),'Chest',_0x5444e8(0xbda),_0x5444e8(0x9c4),_0x5444e8(0x584),_0x5444e8(0x5ac)];for(const _0x4324e8 of _0x5868cc){const _0x48753c=_0x2bebd2[_0x5444e8(0x8a9)](_0x4324e8),_0x42585a=_0x48753c[_0x5444e8(0x416)]();_0x42585a&&(_0x4ebb6e[_0x4324e8]=_0x42585a);}}catch(_0x17fb7a){console['warn'](_0x5444e8(0x7eb),_0x17fb7a);}const _0x392372=[];if(_0x4a0566&&_0x4a0566[_0x5444e8(0x26e)])try{const _0x44d119=_0x4a0566['container'];for(let _0x2e06ad=0x0;_0x2e06ad<_0x44d119[_0x5444e8(0x5c1)];_0x2e06ad++){const _0x3ab9c4=_0x44d119[_0x5444e8(0x416)](_0x2e06ad);_0x3ab9c4&&_0x392372[_0x5444e8(0x9bb)]({'slot':_0x2e06ad,'item':_0x3ab9c4});}}catch(_0x2eeed0){console[_0x5444e8(0x5b4)](_0x5444e8(0x868),_0x2eeed0);}const _0x1c382b=_0x2f3813['spawnEntity'](_0x5444e8(0xca9),_0xceb01b);if(_0x1c382b){for(const _0xe2a9ec of _0x14889f){!_0xe2a9ec[_0x5444e8(0x42a)]('variant_')&&!_0xe2a9ec[_0x5444e8(0x22d)]('wave')&&!_0xe2a9ec[_0x5444e8(0x22d)](_0x5444e8(0x530))&&_0x1c382b[_0x5444e8(0x875)](_0xe2a9ec);}_0x1c382b[_0x5444e8(0x875)]('citizen_type:knight'),_0x1c382b[_0x5444e8(0xa7c)]='['+_0x37d589+']\x20'+_0x15b402,_0x1c382b[_0x5444e8(0x33d)](_0x5444e8(0xcd4),0x1312d00,{'amplifier':0x1,'showParticles':![]});const _0x833beb=getCitizenHungerLevel(_0x5525ab['id']);_0x833beb!==undefined&&setCitizenHungerLevel(_0x1c382b['id'],_0x833beb);const _0x462169=_0x14889f[_0x5444e8(0x2d0)](_0x16f36f=>_0x16f36f[_0x5444e8(0x42a)](_0x5444e8(0x30d)))?.[_0x5444e8(0x44b)](':')[0x1];if(_0x462169&&colonies[_0x5444e8(0xb61)](_0x462169)){const _0x803523=colonies[_0x5444e8(0xc0a)](_0x462169);if(!_0x803523['knights'])_0x803523[_0x5444e8(0x2ad)]=[];_0x803523[_0x5444e8(0x2ad)][_0x5444e8(0x9bb)]({'id':_0x1c382b['id'],'name':_0x1c382b[_0x5444e8(0xa7c)],'dimension':_0x2f3813['id']}),saveColonyData();}_0x5525ab[_0x5444e8(0xa0b)](),_0xb5a962[_0x5444e8(0x34f)]('§a'+_0x15b402+_0x5444e8(0x826));}else{_0xb5a962[_0x5444e8(0x34f)](_0x5444e8(0x8bf));return;}}catch(_0x19ae49){console[_0x5444e8(0x7bf)](_0x5444e8(0xc29),_0x19ae49),_0xb5a962['sendMessage']('§cError\x20creating\x20knight:\x20'+_0x19ae49[_0x5444e8(0x72b)]());return;}else{_0x5525ab[_0x5444e8(0x875)](_0x5444e8(0x9d5)+_0x43c6e2);if(_0x43c6e2===_0x5444e8(0x35d)){const _0x20bbd9=Math[_0x5444e8(0x247)]()<0.5?'cw0':_0x5444e8(0x6b7);_0x5525ab['addTag'](_0x5444e8(0x4dd)+_0x20bbd9);try{_0x5525ab['triggerEvent'](_0x5444e8(0x1ad)+_0x20bbd9),_0xb5a962[_0x5444e8(0x34f)](_0x5444e8(0x91d)+_0x20bbd9);}catch(_0x3baefd){console[_0x5444e8(0x5b4)](_0x5444e8(0xae5)+_0x3baefd);}}const _0x256796=_0x5525ab[_0x5444e8(0xa7c)]||_0x5444e8(0x673);_0x5525ab[_0x5444e8(0xa7c)]='['+_0x37d589+']\x20'+_0x256796;}showCitizenRoleInfo(_0xb5a962,_0x43c6e2);}const pendingTeleports=new Map(),CITIZEN_ROLE_ITEMS={'miner':[{'id':_0x1d2622(0x743),'minAmount':0x2,'maxAmount':0x8},{'id':_0x1d2622(0x27b),'minAmount':0x3,'maxAmount':0xa},{'id':_0x1d2622(0x7a6),'minAmount':0x1,'maxAmount':0x4},{'id':_0x1d2622(0x4d5),'minAmount':0x1,'maxAmount':0x2},{'id':'minecraft:emerald','minAmount':0x1,'maxAmount':0x3},{'id':'minecraft:redstone','minAmount':0x3,'maxAmount':0x8},{'id':'minecraft:lapis_lazuli','minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x748),'minAmount':0x3,'maxAmount':0x9},{'id':_0x1d2622(0x131),'minAmount':0x5,'maxAmount':0x10}],'hunter':[{'id':_0x1d2622(0xc07),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x834),'minAmount':0x2,'maxAmount':0x14},{'id':_0x1d2622(0x4a8),'minAmount':0x2,'maxAmount':0x14},{'id':'minecraft:feather','minAmount':0x3,'maxAmount':0x8},{'id':_0x1d2622(0x345),'minAmount':0x2,'maxAmount':0x5},{'id':'minecraft:rabbit','minAmount':0x1,'maxAmount':0x4},{'id':'minecraft:porkchop','minAmount':0x2,'maxAmount':0x14},{'id':'minecraft:mutton','minAmount':0x2,'maxAmount':0x19},{'id':'minecraft:string','minAmount':0x3,'maxAmount':0x6},{'id':_0x1d2622(0xef),'minAmount':0x5,'maxAmount':0x10}],'builder':[{'id':'minecraft:brick','minAmount':0x14,'maxAmount':0x40},{'id':_0x1d2622(0x2c3),'minAmount':0x20,'maxAmount':0x40},{'id':_0x1d2622(0x7de),'minAmount':0x6,'maxAmount':0xc},{'id':_0x1d2622(0xbed),'minAmount':0x20,'maxAmount':0x40},{'id':'minecraft:iron_ingot','minAmount':0x1,'maxAmount':0x3},{'id':_0x1d2622(0x1b6),'minAmount':0x20,'maxAmount':0x40},{'id':_0x1d2622(0x356),'minAmount':0x10,'maxAmount':0x40},{'id':_0x1d2622(0x3b4),'minAmount':0x20,'maxAmount':0x40}],'explorer':[{'id':_0x1d2622(0x277),'minAmount':0x1,'maxAmount':0x1},{'id':_0x1d2622(0x275),'minAmount':0x1,'maxAmount':0x2},{'id':_0x1d2622(0x10c),'minAmount':0x2,'maxAmount':0x8},{'id':'minecraft:phantom_membrane','minAmount':0x1,'maxAmount':0x2},{'id':_0x1d2622(0x561),'minAmount':0x1,'maxAmount':0x4},{'id':_0x1d2622(0x211),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x44d),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x459),'minAmount':0x1,'maxAmount':0x1}],'botanist':[{'id':_0x1d2622(0xc76),'minAmount':0x3,'maxAmount':0xa},{'id':_0x1d2622(0x346),'minAmount':0x3,'maxAmount':0x8},{'id':_0x1d2622(0x756),'minAmount':0x3,'maxAmount':0x8},{'id':_0x1d2622(0x307),'minAmount':0x3,'maxAmount':0x8},{'id':_0x1d2622(0x840),'minAmount':0x3,'maxAmount':0x8},{'id':'minecraft:beetroot_seeds','minAmount':0x3,'maxAmount':0xa},{'id':'minecraft:melon_slice','minAmount':0x3,'maxAmount':0x8},{'id':_0x1d2622(0x152),'minAmount':0x1,'maxAmount':0x3},{'id':_0x1d2622(0x51f),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x6e6),'minAmount':0x3,'maxAmount':0x8}],'baker':[{'id':_0x1d2622(0xcf7),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0xbcc),'minAmount':0x1,'maxAmount':0x1},{'id':_0x1d2622(0xaa2),'minAmount':0x4,'maxAmount':0x10},{'id':_0x1d2622(0x3b9),'minAmount':0x1,'maxAmount':0x3},{'id':'minecraft:sugar','minAmount':0x3,'maxAmount':0x8},{'id':'minecraft:egg','minAmount':0x2,'maxAmount':0x6}],'fisherman':[{'id':_0x1d2622(0xc6b),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x167),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0xc7e),'minAmount':0x1,'maxAmount':0x2},{'id':_0x1d2622(0x426),'minAmount':0x1,'maxAmount':0x2},{'id':'minecraft:ink_sac','minAmount':0x1,'maxAmount':0x3}],'chemist':[{'id':_0x1d2622(0x2f4),'minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x561),'minAmount':0x1,'maxAmount':0x4},{'id':_0x1d2622(0x73f),'minAmount':0x1,'maxAmount':0x3},{'id':_0x1d2622(0x2da),'minAmount':0x1,'maxAmount':0x2},{'id':'minecraft:magma_cream','minAmount':0x1,'maxAmount':0x3},{'id':_0x1d2622(0x15c),'minAmount':0x1,'maxAmount':0x2},{'id':_0x1d2622(0xb2b),'minAmount':0x2,'maxAmount':0x5},{'id':_0x1d2622(0x21c),'minAmount':0x1,'maxAmount':0xa}],'machinist':[{'id':'minecraft:redstone','minAmount':0x10,'maxAmount':0x20},{'id':'minecraft:redstone_torch','minAmount':0x2,'maxAmount':0x8},{'id':_0x1d2622(0x60e),'minAmount':0x1,'maxAmount':0x2},{'id':'minecraft:piston','minAmount':0x1,'maxAmount':0x2},{'id':_0x1d2622(0x34b),'minAmount':0x1,'maxAmount':0x1},{'id':_0x1d2622(0xccc),'minAmount':0x1,'maxAmount':0x1},{'id':'minecraft:dropper','minAmount':0x1,'maxAmount':0x1},{'id':_0x1d2622(0x962),'minAmount':0x1,'maxAmount':0x1},{'id':_0x1d2622(0x64e),'minAmount':0x1,'maxAmount':0x2},{'id':_0x1d2622(0x393),'minAmount':0x1,'maxAmount':0x2}],'logger':[{'id':_0x1d2622(0xcfb),'minAmount':0x3,'maxAmount':0x1e},{'id':_0x1d2622(0x65c),'minAmount':0x3,'maxAmount':0x1e},{'id':_0x1d2622(0x2e1),'minAmount':0x3,'maxAmount':0x1e},{'id':_0x1d2622(0x83f),'minAmount':0x3,'maxAmount':0x1e},{'id':'minecraft:acacia_log','minAmount':0x3,'maxAmount':0x1e},{'id':_0x1d2622(0x151),'minAmount':0x3,'maxAmount':0x1e},{'id':'minecraft:stripped_oak_log','minAmount':0x2,'maxAmount':0x6},{'id':_0x1d2622(0x38e),'minAmount':0x4,'maxAmount':0x10},{'id':_0x1d2622(0xd6),'minAmount':0x5,'maxAmount':0x10}],'knight':[]},citizenGiftCooldowns=new Map(),CITIZEN_GIFT_COOLDOWN_MS=0x28*0x3c*0x3e8,pendingProposals=new Map(),playerSpouses=new Map(),COLONY_RADIUS=0x64;let FLAG_TELEPORT_ENABLED=!![];const MAILBOX_DELIVERY_BASE_TIME=0x1e*0x3c*0x3e8,MAILBOX_DELIVERY_BASE_DISTANCE=0x3e8,MAILBOX_MAX_ITEMS_PER_DELIVERY=0x40,playerMailboxes=new Map(),pendingDeliveries=new Map(),mailboxInventories=new Map();let nextDeliveryId=0x0;function saveCitizenGiftCooldowns(){const _0x3914e0=_0x1d2622;try{const _0x3139b4={};for(const [_0x2aadd3,_0x124072]of citizenGiftCooldowns[_0x3914e0(0x74e)]()){_0x3139b4[_0x2aadd3]=_0x124072;}world[_0x3914e0(0x4da)](_0x3914e0(0x4c4),JSON[_0x3914e0(0x1db)](_0x3139b4));}catch(_0x1c0ec8){console[_0x3914e0(0x7bf)](_0x3914e0(0x251),_0x1c0ec8);}}function saveModSettings(){const _0x2b2b84=_0x1d2622;try{const _0x10743a={'flagTeleportEnabled':FLAG_TELEPORT_ENABLED};world[_0x2b2b84(0x4da)](_0x2b2b84(0xb4f),JSON[_0x2b2b84(0x1db)](_0x10743a));}catch(_0x47b735){console[_0x2b2b84(0x7bf)]('Failed\x20to\x20save\x20mod\x20settings:',_0x47b735);}}function loadModSettings(){const _0x4029ef=_0x1d2622;try{const _0x472f5d=world[_0x4029ef(0x49d)](_0x4029ef(0xb4f));if(_0x472f5d){const _0x1a160d=JSON[_0x4029ef(0xc35)](_0x472f5d);FLAG_TELEPORT_ENABLED=_0x1a160d['flagTeleportEnabled']??!![];}else FLAG_TELEPORT_ENABLED=!![],saveModSettings();}catch(_0x10a42d){console[_0x4029ef(0x7bf)]('Failed\x20to\x20load\x20mod\x20settings:',_0x10a42d),FLAG_TELEPORT_ENABLED=!![];}}function loadCitizenGiftCooldowns(){const _0xa1ceca=_0x1d2622;try{const _0x3cafa1=world[_0xa1ceca(0x49d)](_0xa1ceca(0x4c4));if(_0x3cafa1){const _0x538c01=JSON[_0xa1ceca(0xc35)](_0x3cafa1);citizenGiftCooldowns[_0xa1ceca(0xa83)]();for(const [_0x58ae17,_0x31bee3]of Object[_0xa1ceca(0x74e)](_0x538c01)){citizenGiftCooldowns['set'](_0x58ae17,_0x31bee3);}}else world[_0xa1ceca(0x4da)](_0xa1ceca(0x4c4),JSON[_0xa1ceca(0x1db)]({}));}catch(_0x53ed72){console[_0xa1ceca(0x7bf)](_0xa1ceca(0x9c2),_0x53ed72);}}let taxationReminders=new Map();function saveTaxationReminders(){const _0x52e288=_0x1d2622;try{const _0x2752f0=Object[_0x52e288(0x5c8)](taxationReminders);world[_0x52e288(0x4da)]('taxation_reminders',JSON['stringify'](_0x2752f0));}catch(_0x4f2e1a){console['error'](_0x52e288(0x17d),_0x4f2e1a);}}function loadTaxationReminders(){const _0x399f08=_0x1d2622;try{const _0x613387=world[_0x399f08(0x49d)]('taxation_reminders');if(_0x613387){const _0x27b61e=JSON[_0x399f08(0xc35)](_0x613387);for(const [_0x420409,_0x44b8fd]of Object[_0x399f08(0x74e)](_0x27b61e)){taxationReminders[_0x399f08(0x336)](_0x420409,_0x44b8fd);}}else world[_0x399f08(0x4da)](_0x399f08(0x6c5),JSON[_0x399f08(0x1db)]({}));}catch(_0x545988){console[_0x399f08(0x7bf)]('Failed\x20to\x20load\x20taxation\x20reminders:',_0x545988);}}function getRandomCitizenGift(_0x1fe62c){const _0x5eb62c=_0x1d2622,_0x2b8034=CITIZEN_ROLE_ITEMS[_0x1fe62c];if(!_0x2b8034||_0x2b8034['length']===0x0)return null;const _0x598fcb=_0x2b8034[Math[_0x5eb62c(0x648)](Math[_0x5eb62c(0x247)]()*_0x2b8034[_0x5eb62c(0xcd6)])],_0x17ff1a=Math[_0x5eb62c(0x648)](Math[_0x5eb62c(0x247)]()*(_0x598fcb[_0x5eb62c(0x12b)]-_0x598fcb['minAmount']+0x1))+_0x598fcb[_0x5eb62c(0x9f8)];return{'id':_0x598fcb['id'],'amount':_0x17ff1a};}function giveCitizenGift(_0x3132d4,_0x4cf085){const _0x1f8334=_0x1d2622;let _0x2fcc4a=null;for(const _0x2eb24f of[_0x1f8334(0x9e2),'hunter',_0x1f8334(0x35d),_0x1f8334(0x852),_0x1f8334(0x47a),'baker',_0x1f8334(0xb26),_0x1f8334(0xd00),_0x1f8334(0xad4),_0x1f8334(0xa17),_0x1f8334(0x594)]){if(_0x4cf085[_0x1f8334(0x4ac)](_0x1f8334(0x9d5)+_0x2eb24f)){_0x2fcc4a=_0x2eb24f;break;}}if(!_0x2fcc4a)return;if(_0x2fcc4a===_0x1f8334(0x594))return;const _0xbffaa9=_0x3132d4['id']+'-'+_0x4cf085['id'],_0x6db3bb=citizenGiftCooldowns[_0x1f8334(0xc0a)](_0xbffaa9)||0x0,_0x3a5277=Date[_0x1f8334(0x405)]();if(_0x3a5277-_0x6db3bb<CITIZEN_GIFT_COOLDOWN_MS)return;const _0x4882d5=getRandomCitizenGift(_0x2fcc4a);if(!_0x4882d5)return;const _0x2fcaa3=_0x3132d4[_0x1f8334(0x299)](_0x1f8334(0xd17))[_0x1f8334(0x26e)];let _0x333d86;try{_0x333d86=new ItemStack(_0x4882d5['id'],_0x4882d5[_0x1f8334(0x8f0)]);}catch(_0x4b1a3a){console[_0x1f8334(0x7bf)](_0x1f8334(0x1be)+_0x4882d5['id']+'\x27\x20for\x20citizen\x20type\x20\x27'+_0x2fcc4a+'\x27:',_0x4b1a3a),_0x3132d4[_0x1f8334(0x34f)](_0x1f8334(0x1b8)+_0x4882d5['id']+_0x1f8334(0x4e5)),citizenGiftCooldowns[_0x1f8334(0x336)](_0xbffaa9,_0x3a5277),saveCitizenGiftCooldowns();return;}const _0x2916a4=_0x4882d5['id'][_0x1f8334(0x15a)](_0x1f8334(0x524),'')[_0x1f8334(0x15a)](/_/g,'\x20');citizenGiftCooldowns[_0x1f8334(0x336)](_0xbffaa9,_0x3a5277),saveCitizenGiftCooldowns();const _0x58bd04=citizenExclamations[_0x1f8334(0xc0a)](_0x4cf085['id']);if(_0x58bd04)try{if(_0x58bd04[_0x1f8334(0x25f)]()){try{_0x58bd04['applyDamage'](0x3e8);}catch(_0x34c616){}_0x58bd04[_0x1f8334(0x63d)]();try{_0x58bd04['teleport']({'x':0x0,'y':-0xc8,'z':0x0});}catch(_0x41ce6e){}}}catch(_0x5bce0a){}citizenExclamations['delete'](_0x4cf085['id']);const _0xfc8a46=_0x2fcaa3['addItem'](_0x333d86);if(!_0xfc8a46){const _0x6c24cf=_0x3132d4[_0x1f8334(0x1f2)],_0x1f8c0d=_0x3132d4[_0x1f8334(0xaf8)];_0x1f8c0d[_0x1f8334(0x3ec)](_0x333d86,{'x':_0x6c24cf['x'],'y':_0x6c24cf['y'],'z':_0x6c24cf['z']});}}const citizenExclamations=new Map();function cleanupStrayExclamations(){const _0x53214c=_0x1d2622,_0x1bb24c=[world['getDimension']('overworld'),world[_0x53214c(0xbc8)](_0x53214c(0x437)),world[_0x53214c(0xbc8)](_0x53214c(0x18d))],_0x335e2a=new Map();let _0x4c6629=0x0;function _0x29d0fb(){const _0x500be9=_0x53214c;if(_0x4c6629>=_0x1bb24c[_0x500be9(0xcd6)]){_0x204c92();return;}try{const _0x166d91=_0x1bb24c[_0x4c6629],_0x11da4f=getAllCitizenEntities(_0x166d91);for(const _0x441138 of _0x11da4f){_0x441138&&_0x441138['isValid']()&&_0x335e2a[_0x500be9(0x336)](_0x441138['id'],_0x441138);}}catch(_0x4cf874){}_0x4c6629++,system['run'](_0x29d0fb);}function _0x204c92(){const _0x2700a6=_0x53214c,_0x48c471=new Set();for(const _0x1989f5 of _0x1bb24c){try{const _0x4ac368=_0x1989f5[_0x2700a6(0xc8f)]({'type':_0x2700a6(0x311)});for(const _0x561d44 of _0x4ac368){try{let _0x5f2b24=null;for(const _0x3567de of _0x561d44[_0x2700a6(0x460)]()){if(_0x3567de[_0x2700a6(0x42a)](_0x2700a6(0x76e))){_0x5f2b24=_0x3567de[_0x2700a6(0x15a)](_0x2700a6(0x76e),'');break;}}if(!_0x5f2b24||!_0x335e2a['has'](_0x5f2b24)){_0x561d44['kill']();continue;}if(_0x48c471[_0x2700a6(0xb61)](_0x5f2b24)){_0x561d44[_0x2700a6(0x63d)]();continue;}_0x48c471[_0x2700a6(0x71a)](_0x5f2b24),citizenExclamations[_0x2700a6(0x336)](_0x5f2b24,_0x561d44);}catch(_0x9321f0){try{_0x561d44[_0x2700a6(0x63d)]();}catch(_0x36c3be){}}}}catch(_0x46f338){continue;}}const _0x492d2d=new Map();for(const [_0x1f5476,_0x63e87]of citizenExclamations[_0x2700a6(0x74e)]()){_0x63e87&&_0x63e87['isValid']()&&_0x335e2a[_0x2700a6(0xb61)](_0x1f5476)&&_0x492d2d['set'](_0x1f5476,_0x63e87);}citizenExclamations['clear']();for(const [_0x2c86d2,_0x5b69b5]of _0x492d2d[_0x2700a6(0x74e)]()){citizenExclamations[_0x2700a6(0x336)](_0x2c86d2,_0x5b69b5);}}system['run'](_0x29d0fb);}function updateExclamationPositions(){const _0x96ea10=_0x1d2622,_0x199abd=[world[_0x96ea10(0xbc8)](_0x96ea10(0x182)),world[_0x96ea10(0xbc8)](_0x96ea10(0x437)),world[_0x96ea10(0xbc8)](_0x96ea10(0x18d))],_0x327af7=new Map();try{for(const _0x42cb39 of _0x199abd){try{const _0x2be80b=getAllCitizenEntities(_0x42cb39);for(const _0x26165d of _0x2be80b){_0x26165d&&_0x26165d['isValid']()&&_0x327af7['set'](_0x26165d['id'],_0x26165d);}}catch(_0x1bc380){continue;}}}catch(_0x3b373c){console[_0x96ea10(0x7bf)]('Error\x20building\x20citizen\x20lookup\x20map:',_0x3b373c);return;}const _0x158fd1=new Map();for(const [_0x1d72b6,_0x33901f]of citizenExclamations[_0x96ea10(0x74e)]()){try{if(!_0x33901f||!_0x33901f[_0x96ea10(0x25f)]())continue;const _0x42309d=_0x327af7[_0x96ea10(0xc0a)](_0x1d72b6);if(_0x42309d&&_0x42309d[_0x96ea10(0x25f)]())try{const _0x40a1e3=_0x42309d['location'];_0x33901f[_0x96ea10(0x54b)]({'x':_0x40a1e3['x'],'y':_0x40a1e3['y']+2.5,'z':_0x40a1e3['z']}),_0x158fd1[_0x96ea10(0x336)](_0x1d72b6,_0x33901f);}catch(_0x37af5f){}else try{_0x33901f[_0x96ea10(0x63d)]();}catch(_0x20232f){}}catch(_0x9781d2){}}citizenExclamations[_0x96ea10(0xa83)]();for(const [_0x4ad440,_0x531ba2]of _0x158fd1[_0x96ea10(0x74e)]()){citizenExclamations['set'](_0x4ad440,_0x531ba2);}}function updateCitizenExclamations(){const _0x397366=_0x1d2622;try{const _0x45cb87=[world['getDimension']('overworld'),world[_0x397366(0xbc8)]('nether'),world[_0x397366(0xbc8)](_0x397366(0x18d))],_0x4ab4aa=Date[_0x397366(0x405)](),_0x1d42c9=0xf;let _0x426157=0x0;!updateCitizenExclamations['positionUpdateCounter']&&(updateCitizenExclamations[_0x397366(0x207)]=0x0);updateCitizenExclamations[_0x397366(0x207)]++;updateCitizenExclamations[_0x397366(0x207)]%0x3===0x0&&updateExclamationPositions();for(const _0xd409 of _0x45cb87){if(_0x426157>=_0x1d42c9)break;try{const _0x2f243e=getAllCitizenEntities(_0xd409);for(const _0x3271d8 of _0x2f243e){try{if(_0x426157>=_0x1d42c9)break;if(!_0x3271d8||!_0x3271d8[_0x397366(0x25f)]())continue;let _0x3dcc3e=![],_0xde36f0=![];for(const _0x301de6 of[_0x397366(0x9e2),'hunter','builder','explorer',_0x397366(0x47a),_0x397366(0x3de),_0x397366(0xb26),_0x397366(0xd00),_0x397366(0xad4),_0x397366(0xa17),_0x397366(0x594)]){if(_0x3271d8[_0x397366(0x4ac)](_0x397366(0x9d5)+_0x301de6)){_0x3dcc3e=!![];_0x301de6==='knight'&&(_0xde36f0=!![]);break;}}if(!_0x3dcc3e)continue;if(_0xde36f0)continue;let _0x48d152=!![],_0x2a4cf0=![];for(const [_0x15f688,_0x433fde]of citizenGiftCooldowns[_0x397366(0x74e)]()){if(_0x15f688[_0x397366(0x684)]('-'+_0x3271d8['id'])){_0x2a4cf0=!![];if(_0x4ab4aa-_0x433fde<CITIZEN_GIFT_COOLDOWN_MS){_0x48d152=![];break;}}}_0x48d152=_0x48d152||!_0x2a4cf0;if(_0x48d152){let _0x4df252=![];try{const _0xf91fc3=_0xd409[_0x397366(0xc8f)]({'type':'jerrys_colonies:supply_chest_entity','location':_0x3271d8[_0x397366(0x1f2)],'maxDistance':0x1e});if(_0xf91fc3[_0x397366(0xcd6)]>0x0){const _0x2ae238=_0xf91fc3[0x0];let _0x400452=null;for(const _0x121ba5 of[_0x397366(0x9e2),_0x397366(0x3d7),_0x397366(0x35d),_0x397366(0x852),'botanist',_0x397366(0x3de),_0x397366(0xb26),_0x397366(0xd00),_0x397366(0xad4),_0x397366(0xa17)]){if(_0x3271d8[_0x397366(0x4ac)](_0x397366(0x9d5)+_0x121ba5)){_0x400452=_0x121ba5;break;}}if(_0x400452){const _0x29f9bb=getRandomCitizenGift(_0x400452);if(_0x29f9bb)try{const _0x45f3d5=new ItemStack(_0x29f9bb['id'],_0x29f9bb[_0x397366(0x8f0)]),_0x357e91=_0x2ae238[_0x397366(0x299)]('inventory')?.[_0x397366(0x26e)];if(_0x357e91)try{_0x357e91['addItem'](_0x45f3d5),_0x4df252=!![];const _0x31090b=Date[_0x397366(0x405)](),_0x59e41e=world[_0x397366(0x241)]();for(const _0x1ad125 of _0x59e41e){const _0x1fdbc1=_0x1ad125['id']+'-'+_0x3271d8['id'];citizenGiftCooldowns[_0x397366(0x336)](_0x1fdbc1,_0x31090b);}saveCitizenGiftCooldowns();const _0x5f283d=citizenExclamations[_0x397366(0xc0a)](_0x3271d8['id']);_0x5f283d&&_0x5f283d['isValid']()&&_0x5f283d[_0x397366(0x63d)](),citizenExclamations[_0x397366(0xbcb)](_0x3271d8['id']);}catch(_0x106e31){}}catch(_0x13b537){}}}}catch(_0x319752){}if(!_0x4df252){if(!citizenExclamations[_0x397366(0xb61)](_0x3271d8['id'])){let _0x17dbd7=null;try{const _0x1a9f20=_0xd409[_0x397366(0xc8f)]({'type':_0x397366(0x311),'location':_0x3271d8[_0x397366(0x1f2)],'maxDistance':0x5});for(const _0xd3c755 of _0x1a9f20){if(_0xd3c755[_0x397366(0x460)]()['includes'](_0x397366(0x76e)+_0x3271d8['id'])){_0x17dbd7=_0xd3c755;break;}}}catch(_0x4a85b1){}if(_0x17dbd7)citizenExclamations[_0x397366(0x336)](_0x3271d8['id'],_0x17dbd7);else{const _0x36eddf=_0x3271d8[_0x397366(0x1f2)],_0xc7509a={'x':_0x36eddf['x'],'y':_0x36eddf['y']+2.5,'z':_0x36eddf['z']};try{const _0x80c85d=_0xd409[_0x397366(0x26c)](_0x397366(0x311),_0xc7509a);_0x80c85d['nameTag']='',_0x80c85d[_0x397366(0x875)](_0x397366(0x76e)+_0x3271d8['id']),citizenExclamations[_0x397366(0x336)](_0x3271d8['id'],_0x80c85d);}catch(_0x32326d){}}}}}else{const _0x10d68d=citizenExclamations[_0x397366(0xc0a)](_0x3271d8['id']);_0x10d68d&&_0x10d68d[_0x397366(0x25f)]()&&_0x10d68d['kill'](),citizenExclamations[_0x397366(0xbcb)](_0x3271d8['id']);}_0x426157++;}catch(_0x3e8dd3){}}}catch(_0x5263bd){}}}catch(_0x4bf846){logErrorOnce('update_exclamations','Error\x20in\x20updateCitizenExclamations:\x20'+_0x4bf846);}}system['runTimeout'](()=>{loadCitizenGiftCooldowns();},0x5),system['runTimeout'](()=>{loadModSettings();},0xa),system['runTimeout'](()=>{loadCitizenHungerData();},0xf),system[_0x1d2622(0x633)](()=>{loadPlayerSpouses();},0x14),system['runTimeout'](()=>{loadBabyRequests();},0x19),system[_0x1d2622(0x633)](()=>{const _0x46b642=_0x1d2622;cleanupStrayExclamations(),console[_0x46b642(0x6a4)](_0x46b642(0xcb));},0x3c);let performanceWarningCount=0x0;const MAX_PERFORMANCE_WARNINGS=0x3;function logPerformanceWarning(_0x22d21a){const _0x1558dd=_0x1d2622;performanceWarningCount++,console[_0x1558dd(0x5b4)](_0x1558dd(0xbe0)+_0x22d21a+_0x1558dd(0xc4e)+performanceWarningCount+'/'+MAX_PERFORMANCE_WARNINGS),performanceWarningCount>=MAX_PERFORMANCE_WARNINGS&&console['error'](_0x1558dd(0x10f));}const plagueParticleTimers=new Map();system[_0x1d2622(0x613)](saveCitizenGiftCooldowns,0x4b0),system[_0x1d2622(0x613)](saveModSettings,0x4b0),system[_0x1d2622(0x613)](saveCitizenHungerData,0x4b0),system[_0x1d2622(0x613)](saveBabyRequests,0x4b0),system['runInterval'](saveFoodCrateData,0x258),system['runInterval'](verifyFoodCrateDataIntegrity,0x960);function updateColonyMemberActivity(){const _0x321a4c=_0x1d2622;try{const _0x283eb3=Date[_0x321a4c(0x405)](),_0x283a0e=world['getPlayers']();for(const _0x2156d2 of _0x283a0e){try{const _0x3db917=_0x2156d2[_0x321a4c(0x460)]()[_0x321a4c(0x2d0)](_0x126c8d=>_0x126c8d[_0x321a4c(0x42a)](_0x321a4c(0x3ae)));if(!_0x3db917)continue;const _0x1ce147=_0x3db917[_0x321a4c(0x44b)](':')[0x1],_0x1cc15f=colonies[_0x321a4c(0xc0a)](_0x1ce147);if(!_0x1cc15f)continue;!_0x1cc15f[_0x321a4c(0xaa8)]&&(_0x1cc15f[_0x321a4c(0xaa8)]={}),_0x1cc15f[_0x321a4c(0xaa8)][_0x2156d2[_0x321a4c(0xa45)]]=_0x283eb3;}catch(_0x46c6f7){}}saveColonyData();}catch(_0x1fa189){logErrorOnce(_0x321a4c(0x6c2),_0x321a4c(0x953)+_0x1fa189);}}function checkInactiveColonies(){const _0x36c90a=_0x1d2622;try{const _0x43e3f7=getGlobalColonyInactivityDays();if(_0x43e3f7===0x0)return;const _0x16109c=Date[_0x36c90a(0x405)](),_0x30b6bc=_0x43e3f7*0x18*0x3c*0x3c*0x3e8,_0x180ba1=[];for(const [_0x3718f2,_0x127f9c]of colonies[_0x36c90a(0x74e)]()){try{if(!_0x127f9c[_0x36c90a(0x709)]||_0x127f9c[_0x36c90a(0x709)][_0x36c90a(0xcd6)]===0x0)continue;if(!_0x127f9c[_0x36c90a(0xaa8)]||Object[_0x36c90a(0xc70)](_0x127f9c[_0x36c90a(0xaa8)])[_0x36c90a(0xcd6)]===0x0){_0x127f9c[_0x36c90a(0xaa8)]={};for(const _0x47c3d1 of _0x127f9c[_0x36c90a(0x709)]){_0x127f9c['lastMemberActivity'][_0x47c3d1]=_0x16109c;}continue;}let _0x44bdaa=0x0;for(const _0x216404 of _0x127f9c['citizens']){const _0x2eb89c=_0x127f9c['lastMemberActivity'][_0x216404];_0x2eb89c&&_0x2eb89c>_0x44bdaa&&(_0x44bdaa=_0x2eb89c);}if(_0x44bdaa===0x0){for(const _0x240712 of _0x127f9c[_0x36c90a(0x709)]){_0x127f9c[_0x36c90a(0xaa8)][_0x240712]=_0x16109c;}continue;}const _0x2d4653=_0x16109c-_0x44bdaa;_0x2d4653>=_0x30b6bc&&(console[_0x36c90a(0x6a4)](_0x36c90a(0x7ca)+_0x127f9c[_0x36c90a(0xa45)]+'\x20('+_0x3718f2+_0x36c90a(0xeb)+Math['floor'](_0x2d4653/(0x18*0x3c*0x3c*0x3e8))+_0x36c90a(0x771)),_0x180ba1[_0x36c90a(0x9bb)]({'id':_0x3718f2,'colony':_0x127f9c}));}catch(_0x4d4618){logErrorOnce('inactive_check_'+_0x3718f2,'Error\x20checking\x20colony\x20'+_0x3718f2+_0x36c90a(0x46b)+_0x4d4618);}}for(const {id:_0x37b23e,colony:_0x294cf2}of _0x180ba1){try{console[_0x36c90a(0x6a4)](_0x36c90a(0x70e)+_0x294cf2[_0x36c90a(0xa45)]+'\x20('+_0x37b23e+')');const _0x5d465a=world[_0x36c90a(0x272)]();for(const _0x2b5fb7 of _0x5d465a){_0x2b5fb7[_0x36c90a(0x34f)](_0x36c90a(0x1f5)+_0x294cf2['name']+'\x22\x20has\x20been\x20deleted\x20due\x20to\x20'+_0x43e3f7+'\x20days\x20of\x20inactivity.');}const _0x3dd167=[world['getDimension'](_0x36c90a(0x182)),world[_0x36c90a(0xbc8)](_0x36c90a(0x437)),world[_0x36c90a(0xbc8)](_0x36c90a(0x18d))];for(const _0x3fd759 of _0x3dd167){try{const _0x47864d=_0x3fd759[_0x36c90a(0xc8f)]({'type':'jerrys_colonies:citizen'});for(const _0x384196 of _0x47864d){try{const _0x400e5b=_0x384196[_0x36c90a(0x460)]();if(_0x400e5b[_0x36c90a(0xb49)](_0x33537a=>_0x33537a===_0x36c90a(0x30d)+_0x37b23e)){const _0xbfef23=_0x400e5b[_0x36c90a(0x7ae)](_0xf7a302=>_0xf7a302[_0x36c90a(0x42a)](_0x36c90a(0x2a0))||_0xf7a302[_0x36c90a(0x42a)](_0x36c90a(0x107))||_0xf7a302[_0x36c90a(0x42a)](_0x36c90a(0x30d))||_0xf7a302[_0x36c90a(0x42a)]('colony_name:')||_0xf7a302[_0x36c90a(0x42a)](_0x36c90a(0x2c8)));_0xbfef23[_0x36c90a(0x2c2)](_0x2f0b9e=>_0x384196[_0x36c90a(0x866)](_0x2f0b9e));const _0x30e07f=_0x384196[_0x36c90a(0xa7c)]||'',_0x38d20e=/§[0-9a-f]\[.*?\]§r\s+(.+)/,_0x347c48=_0x30e07f['match'](_0x38d20e);_0x347c48&&(_0x384196[_0x36c90a(0xa7c)]=_0x347c48[0x1]);}}catch(_0x3754c6){}}}catch(_0x3d5c00){}}if(_0x294cf2[_0x36c90a(0x61a)])for(const _0x304204 of _0x3dd167){try{const _0x39a01=_0x304204[_0x36c90a(0xc8f)]({'type':_0x36c90a(0x7f6)});for(const _0x11befd of _0x39a01){try{_0x11befd[_0x36c90a(0x460)]()[_0x36c90a(0xb49)](_0x3bc630=>_0x3bc630===_0x36c90a(0x30d)+_0x37b23e)&&_0x11befd[_0x36c90a(0xa0b)]();}catch(_0x144621){}}}catch(_0x3a40eb){}}const _0x1f343f=world[_0x36c90a(0x272)]();for(const _0x54535c of _0x1f343f){try{const _0x5b58cd=_0x54535c['getTags']();if(_0x5b58cd[_0x36c90a(0xb49)](_0xb3756=>_0xb3756===_0x36c90a(0x3ae)+_0x37b23e||_0xb3756===_0x36c90a(0x30d)+_0x37b23e)){const _0x15d5e6=_0x5b58cd[_0x36c90a(0x7ae)](_0x2d521a=>_0x2d521a===_0x36c90a(0x3ae)+_0x37b23e||_0x2d521a==='colony_id:'+_0x37b23e||_0x2d521a[_0x36c90a(0x42a)](_0x36c90a(0x107)));_0x15d5e6[_0x36c90a(0x2c2)](_0x5af8c2=>_0x54535c['removeTag'](_0x5af8c2)),_0x54535c['nameTag']=_0x54535c[_0x36c90a(0xa45)];}}catch(_0x508a8d){}}colonies[_0x36c90a(0xbcb)](_0x37b23e);}catch(_0x4642f3){logErrorOnce(_0x36c90a(0x981)+_0x37b23e,'Error\x20deleting\x20inactive\x20colony\x20'+_0x37b23e+':\x20'+_0x4642f3);}}_0x180ba1[_0x36c90a(0xcd6)]>0x0&&(saveColonyData(),console[_0x36c90a(0x6a4)](_0x36c90a(0x764)+_0x180ba1[_0x36c90a(0xcd6)]+_0x36c90a(0x3a6)));}catch(_0x3fea15){logErrorOnce('check_inactive','Error\x20checking\x20inactive\x20colonies:\x20'+_0x3fea15);}}system[_0x1d2622(0x613)](updateColonyMemberActivity,0x1770),system[_0x1d2622(0x613)](checkInactiveColonies,0x1a5e00),system[_0x1d2622(0x631)](()=>{const _0x4bb5cf=_0x1d2622,_0x1a7240=[{'typeId':_0x4bb5cf(0x42d),'displayName':'Deluxe\x20Desert\x20House','structure':_0x4bb5cf(0xc9d),'size':{'width':0xf,'height':0x16,'depth':0xf},'frontSide':_0x4bb5cf(0x1fe)},{'typeId':'jerrys_colonies:blueprint_desert_arena','displayName':_0x4bb5cf(0x135),'structure':_0x4bb5cf(0x4d8),'size':{'width':0xf,'height':0x16,'depth':0xf},'frontSide':_0x4bb5cf(0x1fe)},{'typeId':_0x4bb5cf(0x8ae),'displayName':_0x4bb5cf(0xc15),'structure':_0x4bb5cf(0x632),'size':{'width':0xf,'height':0x16,'depth':0xf},'frontSide':_0x4bb5cf(0x1fe)},{'typeId':'jerrys_colonies:blueprint_desert_base','displayName':_0x4bb5cf(0x1d2),'structure':_0x4bb5cf(0x9c8),'size':{'width':0xf,'height':0x16,'depth':0xf},'frontSide':'max_z'},{'typeId':_0x4bb5cf(0x7d9),'displayName':'Desert\x20Pyramid','structure':'desertpack/desert\x20pyramid','size':{'width':0xf,'height':0x16,'depth':0xf},'frontSide':'max_z'},{'typeId':_0x4bb5cf(0x485),'displayName':_0x4bb5cf(0x72f),'structure':_0x4bb5cf(0x39a),'size':{'width':0xf,'height':0x16,'depth':0xf},'frontSide':'max_z'},{'typeId':_0x4bb5cf(0x447),'displayName':_0x4bb5cf(0x5de),'structure':_0x4bb5cf(0x9e7),'size':{'width':0xf,'height':0x16,'depth':0xf},'frontSide':'max_z'}];for(const _0x12bbe8 of _0x1a7240){registerExpansionBlueprint(_0x4bb5cf(0x7da),_0x12bbe8);}console[_0x4bb5cf(0x6a4)]('Desert\x20Pack\x20registered\x20with\x207\x20blueprints');}),system[_0x1d2622(0x631)](()=>{const _0x4b526c=_0x1d2622,_0xf712ef=[{'typeId':_0x4b526c(0x271),'displayName':_0x4b526c(0x2f0),'size':{'width':0x7,'height':0x2,'depth':0x10},'isEntity':!![],'frontSide':_0x4b526c(0x1fe)}];for(const _0x1df3ae of _0xf712ef){registerExpansionBlueprint(_0x4b526c(0x3ef),_0x1df3ae);}console[_0x4b526c(0x6a4)](_0x4b526c(0xac7));});const MINECRAFT_DAY_TICKS=0x5dc0,HUNGER_CHECK_INTERVAL=MINECRAFT_DAY_TICKS;system['runInterval'](checkCitizenHunger,HUNGER_CHECK_INTERVAL),system['runInterval'](checkBabyRequests,MINECRAFT_DAY_TICKS),system[_0x1d2622(0x613)](notifyBabyRequests,0x64),system[_0x1d2622(0x613)](checkTavernSignSpawns,MINECRAFT_DAY_TICKS),system[_0x1d2622(0x613)](updateCitizenExclamations,0xa0),system[_0x1d2622(0x613)](validateFoodCrateStates,0x960),system[_0x1d2622(0x613)](cleanupOldArenaCoordinates,0x2ee0),system['runInterval'](()=>{const _0x6ec5b9=_0x1d2622;try{const _0x3178d4=[world[_0x6ec5b9(0xbc8)](_0x6ec5b9(0x182)),world['getDimension'](_0x6ec5b9(0x437)),world['getDimension'](_0x6ec5b9(0x18d))];for(const _0x56cc3c of _0x3178d4){try{const _0x40750b=_0x56cc3c['getEntities']({'type':_0x6ec5b9(0xca9)});for(const _0x7efa10 of _0x40750b){try{const _0x292249=_0x7efa10[_0x6ec5b9(0x460)](),_0x218ba8=_0x292249[_0x6ec5b9(0x2d0)](_0x386c8a=>_0x386c8a[_0x6ec5b9(0x42a)](_0x6ec5b9(0x30d)));if(_0x218ba8){const _0x129454=_0x218ba8[_0x6ec5b9(0x44b)](':')[0x1];if(colonies[_0x6ec5b9(0xb61)](_0x129454)){const _0x3dba5e=colonies[_0x6ec5b9(0xc0a)](_0x129454);if(!_0x3dba5e['knights'])_0x3dba5e['knights']=[];const _0x429281=_0x3dba5e[_0x6ec5b9(0x2ad)][_0x6ec5b9(0xb49)](_0x25d36b=>_0x25d36b['id']===_0x7efa10['id']);!_0x429281&&(_0x3dba5e[_0x6ec5b9(0x2ad)][_0x6ec5b9(0x9bb)]({'id':_0x7efa10['id'],'name':_0x7efa10[_0x6ec5b9(0xa7c)]||_0x6ec5b9(0x5f2),'dimension':_0x56cc3c['id']}),console[_0x6ec5b9(0x6a4)](_0x6ec5b9(0x611)+_0x7efa10['id']+_0x6ec5b9(0x4ad)+_0x129454));}}}catch(_0xd5e702){}}}catch(_0x4aed01){}}saveColonyData();}catch(_0xbfbb12){console['warn'](_0x6ec5b9(0xc01),_0xbfbb12);}},0x8ca0),system[_0x1d2622(0x613)](()=>{const _0x184c65=_0x1d2622;try{const _0x28c75e=new Set(world[_0x184c65(0x272)]()[_0x184c65(0xc89)](_0x186e3a=>_0x186e3a['id']));let _0x773f2c=0x0;for(const [_0x292738,_0x4cbc10]of citizenGiftCooldowns[_0x184c65(0x74e)]()){const _0x4668f1=_0x292738['split']('-')[0x0];!_0x28c75e[_0x184c65(0xb61)](_0x4668f1)&&(citizenGiftCooldowns[_0x184c65(0xbcb)](_0x292738),_0x773f2c++);}_0x773f2c>0x0&&(console[_0x184c65(0x6a4)]('[Memory\x20Cleanup]\x20Removed\x20'+_0x773f2c+'\x20citizen\x20gift\x20cooldowns\x20for\x20offline\x20players'),saveCitizenGiftCooldowns());}catch(_0x43e1fa){console[_0x184c65(0x7bf)](_0x184c65(0x525),_0x43e1fa);}},0x2ee0),system['runInterval'](()=>{const _0x30d3c8=_0x1d2622;try{for(const _0x1f312a of activeMatches['values']()){if(_0x1f312a['status']!==_0x30d3c8(0x2d4))continue;const _0x5537d5={'minX':Math[_0x30d3c8(0x2c1)](50052.7,50009.3),'maxX':Math[_0x30d3c8(0xb51)](50052.7,50009.3),'minY':0x68,'maxY':114.2,'minZ':Math[_0x30d3c8(0x2c1)](50009.3,50054.7),'maxZ':Math[_0x30d3c8(0xb51)](50009.3,50054.7)};for(const _0x577e46 of Object['values'](_0x1f312a[_0x30d3c8(0xc3c)])){for(const _0x5607ab of _0x577e46[_0x30d3c8(0x157)]){const _0x48b3d7=world[_0x30d3c8(0x272)]()[_0x30d3c8(0x2d0)](_0x1fd38f=>_0x1fd38f['name']===_0x5607ab);if(!_0x48b3d7||!_0x48b3d7[_0x30d3c8(0x25f)]())continue;const _0x1e928f=_0x1f312a[_0x30d3c8(0x99d)][_0x5607ab]||0x0;if(_0x1e928f<0x3)continue;const _0x5c4410=_0x48b3d7['location'];_0x5c4410['x']>=_0x5537d5[_0x30d3c8(0x7e9)]&&_0x5c4410['x']<=_0x5537d5[_0x30d3c8(0x125)]&&_0x5c4410['y']>=_0x5537d5[_0x30d3c8(0x558)]&&_0x5c4410['y']<=_0x5537d5[_0x30d3c8(0x1fc)]&&_0x5c4410['z']>=_0x5537d5[_0x30d3c8(0x260)]&&_0x5c4410['z']<=_0x5537d5[_0x30d3c8(0xa16)]&&(_0x48b3d7[_0x30d3c8(0x54b)]({'x':50031.54,'y':0x70,'z':50007.29}),_0x48b3d7[_0x30d3c8(0x34f)](_0x30d3c8(0x7f5)));}}}}catch(_0x25b94c){console[_0x30d3c8(0x5b4)](_0x30d3c8(0x6df),_0x25b94c);}},0x14);function placeMonthlyTrophy(){const _0x6178b2=_0x1d2622;try{const _0x272950=new Date(),_0x247cd3=_0x272950[_0x6178b2(0x61d)](),_0x37523e={0x0:_0x6178b2(0xcc),0x1:_0x6178b2(0x9b6),0x2:'jerrys_colonies:trophy_thunderstrike',0x3:_0x6178b2(0x833),0x4:_0x6178b2(0xa33),0x5:_0x6178b2(0x83b),0x6:_0x6178b2(0x501),0x7:_0x6178b2(0x740),0x8:'jerrys_colonies:trophy_the_harvest',0x9:_0x6178b2(0x218),0xa:_0x6178b2(0x79e),0xb:_0x6178b2(0x461)},_0x2afe4a=_0x37523e[_0x247cd3];if(_0x2afe4a){const _0x415fc8=world[_0x6178b2(0xbc8)](_0x6178b2(0x182)),_0x41d01c={'x':50031.47,'y':0x69,'z':50062.7};_0x415fc8[_0x6178b2(0x6ba)]('setblock\x20'+_0x41d01c['x']+'\x20'+_0x41d01c['y']+'\x20'+_0x41d01c['z']+'\x20'+_0x2afe4a);}}catch(_0x303a89){console[_0x6178b2(0x7bf)](_0x6178b2(0xc54),_0x303a89);}}function playArenaCrowdSounds(){const _0x3b81e7=_0x1d2622;try{const _0x4620a1=world['getDimension'](_0x3b81e7(0x182)),_0x2979d7=world[_0x3b81e7(0x272)]();_0x4620a1[_0x3b81e7(0x6ba)]('playsound\x20arenacrowd\x20@a\x2050031\x20112\x2050007\x200.1\x201.0');}catch(_0x1d4314){console[_0x3b81e7(0x7bf)](_0x3b81e7(0x990),_0x1d4314);}}function playArenaIntroSound(){const _0x526a11=_0x1d2622;console[_0x526a11(0x5b4)](_0x526a11(0x7fc));try{const _0x4a6f96=world[_0x526a11(0xbc8)](_0x526a11(0x182)),_0x5c5a1b=_0x4a6f96[_0x526a11(0xb28)]({'x':0xc36f,'y':0x67,'z':0xc36f});_0x5c5a1b?(_0x5c5a1b[_0x526a11(0xaf8)][_0x526a11(0x6ba)](_0x526a11(0x51b)+_0x5c5a1b[_0x526a11(0x1f2)]['x']+'\x20'+_0x5c5a1b[_0x526a11(0x1f2)]['y']+'\x20'+_0x5c5a1b[_0x526a11(0x1f2)]['z']+_0x526a11(0x4a1)),console[_0x526a11(0x5b4)]('Arena\x20intro\x20sound\x20command\x20executed\x20successfully\x20from\x20block')):console['error'](_0x526a11(0x83c));}catch(_0x32bd57){console['error']('Failed\x20to\x20play\x20arena\x20intro\x20sound:',_0x32bd57),world['sendMessage'](_0x526a11(0x70d)+_0x32bd57[_0x526a11(0x72b)]());}}function startArenaScoreboard(_0x4c21c2,_0xb84fe){const _0x2be763=_0x1d2622;_0x4c21c2['scoreboardInterval']=system[_0x2be763(0x613)](()=>{const _0x5ef993=_0x2be763;if(_0x4c21c2[_0x5ef993(0x95d)]!=='active'){system[_0x5ef993(0xcd3)](_0x4c21c2[_0x5ef993(0x697)]);return;}try{const _0x1000d6=Object[_0x5ef993(0xaf3)](_0x4c21c2['teams']),_0x1c5ea9=_0x1000d6[0x0],_0x35f0a5=_0x1000d6[0x1],_0x187de2=_0x4c21c2[_0x5ef993(0x1c8)][_0x1c5ea9[_0x5ef993(0xb85)]]||0x0,_0x288a2f=_0x4c21c2[_0x5ef993(0x1c8)][_0x35f0a5['colonyName']]||0x0;let _0xad11e9;if(_0x4c21c2[_0x5ef993(0x3a1)])_0xad11e9='§e'+_0x1c5ea9[_0x5ef993(0xb85)]+'§f:\x20§b'+_0x187de2+_0x5ef993(0x92c)+_0x35f0a5[_0x5ef993(0xb85)]+'§f:\x20§b'+_0x288a2f;else{const _0x43f6a6=Date[_0x5ef993(0x405)]()-_0x4c21c2['startedAt'],_0x4296ac=_0x4c21c2['duration']*0x3c*0x3e8,_0x104cb0=Math['max'](0x0,_0x4296ac-_0x43f6a6),_0x5b2788=Math[_0x5ef993(0x648)](_0x104cb0/0xea60),_0x22ef31=Math[_0x5ef993(0x648)](_0x104cb0%0xea60/0x3e8),_0x53c50=_0x5b2788+':'+_0x22ef31[_0x5ef993(0x72b)]()[_0x5ef993(0xafd)](0x2,'0');_0xad11e9='§e'+_0x1c5ea9[_0x5ef993(0xb85)]+_0x5ef993(0x48d)+_0x187de2+_0x5ef993(0xc1c)+_0x53c50+_0x5ef993(0x9fc)+_0x35f0a5[_0x5ef993(0xb85)]+_0x5ef993(0x48d)+_0x288a2f;}for(const _0x19203f of _0x1000d6){for(const _0x488951 of _0x19203f[_0x5ef993(0x157)]){const _0x1a3307=world[_0x5ef993(0x272)]()[_0x5ef993(0x2d0)](_0x4cbc30=>_0x4cbc30[_0x5ef993(0xa45)]===_0x488951);_0x1a3307&&_0x1a3307[_0x5ef993(0x25f)]()&&_0x1a3307[_0x5ef993(0x903)][_0x5ef993(0xc64)](_0xad11e9);}}const _0x3203bc=world[_0x5ef993(0xbc8)]('overworld'),_0x5206d6=_0x3203bc[_0x5ef993(0x272)]({'location':ARENA_CENTER,'maxDistance':0x96});for(const _0x1523f5 of _0x5206d6){if(_0x1523f5&&_0x1523f5[_0x5ef993(0x25f)]()){let _0x22e677=![];for(const _0xbdcf09 of _0x1000d6){if(_0xbdcf09[_0x5ef993(0x157)][_0x5ef993(0x22d)](_0x1523f5[_0x5ef993(0xa45)])){_0x22e677=!![];break;}}!_0x22e677&&_0x1523f5[_0x5ef993(0x903)][_0x5ef993(0xc64)](_0xad11e9);}}}catch(_0xacbe5c){console[_0x5ef993(0x7bf)](_0x5ef993(0x754),_0xacbe5c);}},0xa);}function displayArenaSubtitles(_0x2a304c){const _0x4b89d7=_0x1d2622,_0x328e40=[{'time':0x0,'text':'Ladies\x20and\x20Gentlemen'},{'time':0x3,'text':_0x4b89d7(0x71b)},{'time':0x4,'text':_0x4b89d7(0x7ef)},{'time':5.6,'text':_0x4b89d7(0x72c)},{'time':0x8,'text':'their\x20way\x20to\x20victory\x20today\x20!'},{'time':0x9,'text':_0x4b89d7(0x598)},{'time':0xb,'text':_0x4b89d7(0x69e)},{'time':0xd,'text':_0x4b89d7(0x78d)},{'time':0xf,'text':'of\x20the\x20five\x20minutes,'},{'time':0x10,'text':'it\x20goes\x20into\x20SUDDEN\x20DEATH.'},{'time':0x12,'text':_0x4b89d7(0x794)},{'time':0x14,'text':_0x4b89d7(0x7ac)},{'time':0x16,'text':'Get\x20ready,\x20sharpen\x20those\x20blades...'},{'time':0x18,'text':_0x4b89d7(0x846)}],_0x5cc33e=_0x4b89d7(0xa6b);_0x328e40['forEach'](_0x1ab8b6=>{const _0xb8cc9e=_0x4b89d7;system[_0xb8cc9e(0x633)](()=>{const _0x2ec506=_0xb8cc9e;for(const _0x4c6d42 of _0x2a304c){_0x4c6d42&&_0x4c6d42[_0x2ec506(0x25f)]()&&_0x4c6d42[_0x2ec506(0x903)][_0x2ec506(0xc64)](_0x5cc33e+_0x1ab8b6['text']);}},_0x1ab8b6[_0xb8cc9e(0x8ac)]*0x14);}),system[_0x4b89d7(0x633)](()=>{const _0x2cf4a4=_0x4b89d7;for(const _0x1f002c of _0x2a304c){_0x1f002c&&_0x1f002c[_0x2cf4a4(0x25f)]()&&_0x1f002c['onScreenDisplay']['setTitle'](_0x2cf4a4(0xfb));}},0x1a*0x14),system['runTimeout'](()=>{const _0x26532b=_0x4b89d7;try{const _0x595fa5=world[_0x26532b(0xbc8)](_0x26532b(0x182));_0x595fa5[_0x26532b(0x6ba)](_0x26532b(0xc10)),console['warn'](_0x26532b(0x2a4));}catch(_0x3fe480){console[_0x26532b(0x7bf)]('Music\x20disc\x20sound\x20error:',_0x3fe480);}},0x1b*0x14);}function handleArenaCameraTransitions(_0x11fdcf,_0x367084,_0x552cf1){const _0x28488c=_0x1d2622;try{const _0x35cf6a=world[_0x28488c(0xbc8)](_0x28488c(0x182));for(const _0x599f6c of _0x11fdcf){_0x35cf6a[_0x28488c(0xd12)]('camera\x20'+_0x599f6c['name']+_0x28488c(0xcd2));}system[_0x28488c(0x633)](()=>{const _0x117db3=_0x28488c;for(const _0x500474 of _0x11fdcf){_0x35cf6a[_0x117db3(0xd12)](_0x117db3(0x7a0)+_0x500474['name']+_0x117db3(0x9eb));}},0x50),system['runTimeout'](()=>{const _0x5736a6=_0x28488c;try{const _0x5d2373=_0x35cf6a[_0x5736a6(0xc8f)]({'type':_0x5736a6(0xcdd)});_0x5d2373['length']>0x0?(_0x5d2373[0x0][_0x5736a6(0xbd0)]('play_arena_anim'),console[_0x5736a6(0x5b4)](_0x5736a6(0x694)+_0x5d2373[_0x5736a6(0xcd6)]+_0x5736a6(0x85a))):console[_0x5736a6(0x5b4)]('No\x20arena\x20kings\x20found!');}catch(_0x18ccb6){console[_0x5736a6(0x7bf)]('Error\x20playing\x20arena\x20king\x20animation:',_0x18ccb6);}},0x78),system['runTimeout'](()=>{const _0x346c02=_0x28488c,_0x4fed80=[{'x':50029.5,'y':0x68,'z':50029.5},{'x':50029.5,'y':0x68,'z':50030.5},{'x':50029.5,'y':0x68,'z':50032.5},{'x':50029.5,'y':0x68,'z':50033.5}],_0x13edf1=[{'x':50033.5,'y':0x68,'z':50033.5},{'x':50033.5,'y':0x68,'z':50032.5},{'x':50033.5,'y':0x68,'z':50030.5},{'x':50033.5,'y':0x68,'z':50029.5}];_0x367084[_0x346c02(0x2c2)]((_0x2b5dc6,_0x476a68)=>{const _0x189cee=_0x346c02;if(_0x2b5dc6&&_0x476a68<_0x4fed80[_0x189cee(0xcd6)]){const _0x653978=_0x4fed80[_0x476a68],_0x3ba076=_0x13edf1[_0x476a68];_0x35cf6a[_0x189cee(0xd12)](_0x189cee(0x674)+_0x2b5dc6[_0x189cee(0xa45)]+'\x20'+_0x653978['x']+'\x20'+_0x653978['y']+'\x20'+_0x653978['z']+_0x189cee(0x6f2)+_0x3ba076['x']+'\x20'+_0x3ba076['y']+'\x20'+_0x3ba076['z']);}}),_0x552cf1[_0x346c02(0x2c2)]((_0x1ab1dc,_0xb144f2)=>{const _0x24a861=_0x346c02;if(_0x1ab1dc&&_0xb144f2<_0x13edf1[_0x24a861(0xcd6)]){const _0x31a623=_0x13edf1[_0xb144f2],_0x4e75d8=_0x4fed80[_0xb144f2];_0x35cf6a[_0x24a861(0xd12)](_0x24a861(0x674)+_0x1ab1dc[_0x24a861(0xa45)]+'\x20'+_0x31a623['x']+'\x20'+_0x31a623['y']+'\x20'+_0x31a623['z']+'\x20facing\x20'+_0x4e75d8['x']+'\x20'+_0x4e75d8['y']+'\x20'+_0x4e75d8['z']);}});for(const _0x3e906e of _0x11fdcf){_0x35cf6a['runCommand']('camera\x20'+_0x3e906e[_0x346c02(0xa45)]+_0x346c02(0x581));}system[_0x346c02(0x633)](()=>{const _0x61bcf6=_0x346c02;for(const _0x5be627 of _0x11fdcf){_0x35cf6a['runCommand'](_0x61bcf6(0x7a0)+_0x5be627['name']+_0x61bcf6(0x354));}system[_0x61bcf6(0x633)](()=>{const _0x29f4e3=_0x61bcf6;for(const _0x313a23 of _0x11fdcf){_0x35cf6a[_0x29f4e3(0xd12)](_0x29f4e3(0x7a0)+_0x313a23['name']+_0x29f4e3(0x595));}system['runTimeout'](()=>{const _0x24af84=_0x29f4e3;for(const _0x2f38b9 of _0x11fdcf){_0x35cf6a[_0x24af84(0xd12)](_0x24af84(0x7a0)+_0x2f38b9[_0x24af84(0xa45)]+_0x24af84(0xb36));}system[_0x24af84(0x633)](()=>{const _0xf0489a=_0x24af84;for(const _0xd0d9cb of _0x11fdcf){_0x35cf6a['runCommand'](_0xf0489a(0x7a0)+_0xd0d9cb[_0xf0489a(0xa45)]+_0xf0489a(0x282));}system['runTimeout'](()=>{const _0x53bc46=_0xf0489a;for(const _0x13d592 of _0x11fdcf){_0x35cf6a[_0x53bc46(0xd12)]('camera\x20'+_0x13d592[_0x53bc46(0xa45)]+_0x53bc46(0x687));}_0x367084[_0x53bc46(0x2c2)](_0x13558a=>{const _0x21f761=_0x53bc46;_0x13558a&&_0x13558a['isValid']()&&(_0x13558a[_0x21f761(0x54b)]({'x':50014.5,'y':0x68,'z':50046.5}),_0x13558a[_0x21f761(0xd12)](_0x21f761(0xae7)));}),_0x552cf1[_0x53bc46(0x2c2)](_0x584613=>{const _0x949b94=_0x53bc46;_0x584613&&_0x584613[_0x949b94(0x25f)]()&&(_0x584613[_0x949b94(0x54b)]({'x':50052.38,'y':0x69,'z':50014.54}),_0x584613['runCommand'](_0x949b94(0xae7)));});},0x50);},0x78);},0x1);},0x8c);},0x1);},0xb4);}catch(_0x50f3bc){console[_0x28488c(0x7bf)](_0x28488c(0x73b),_0x50f3bc);}}system[_0x1d2622(0x633)](()=>{playArenaCrowdSounds();},0x64),system[_0x1d2622(0x613)](playArenaCrowdSounds,0x708),system[_0x1d2622(0x613)](()=>{const _0x173b79=_0x1d2622;try{cleanupOldErrors(),cleanupArenaTeleporterCooldowns();const _0xcab97b=Date['now']();let _0x5a80ca=0x0;for(const [_0x29b046,_0x2e4de5]of pendingArenaTeleports[_0x173b79(0x74e)]()){_0xcab97b-_0x2e4de5[_0x173b79(0x6be)]>0xea60&&(_0x2e4de5[_0x173b79(0x626)]&&system[_0x173b79(0xcd3)](_0x2e4de5[_0x173b79(0x626)]),pendingArenaTeleports[_0x173b79(0xbcb)](_0x29b046),_0x5a80ca++);}_0x5a80ca>0x0&&console[_0x173b79(0x6a4)](_0x173b79(0x3bf)+_0x5a80ca+'\x20stale\x20pending\x20teleports');const _0x31b942=new Set(world[_0x173b79(0x272)]()['map'](_0x59f2af=>_0x59f2af['id']));let _0x537310=0x0;for(const _0x461ada of arenaLoadingPlayers){!_0x31b942[_0x173b79(0xb61)](_0x461ada)&&(arenaLoadingPlayers[_0x173b79(0xbcb)](_0x461ada),_0x537310++);}_0x537310>0x0&&console[_0x173b79(0x6a4)]('[Memory\x20Cleanup]\x20Removed\x20'+_0x537310+'\x20stale\x20arena\x20loading\x20entries');}catch(_0x397e0d){console['error'](_0x173b79(0xa8f),_0x397e0d);}},0x2ee0),system['runInterval'](()=>{const _0x4b8433=_0x1d2622;try{const _0x2fbc4d=world[_0x4b8433(0xbc8)](_0x4b8433(0x182));if(!_0x2fbc4d)return;const _0x4b06d6=world['getPlayers']()[_0x4b8433(0x7ae)](_0x4d2932=>isPlayerInArena(_0x4d2932));_0x4b06d6[_0x4b8433(0xcd6)]>0x0&&cleanupArenaEntities();}catch(_0x386a2c){console[_0x4b8433(0x7bf)](_0x4b8433(0x3c3),_0x386a2c);}},0x64),system[_0x1d2622(0x613)](()=>{const _0x4edb32=_0x1d2622;try{const _0x419804=world[_0x4edb32(0xbc8)](_0x4edb32(0x182));if(!_0x419804)return;const _0x1dffb4=50009.3,_0x4c7650=50052.7,_0x546dca=0x68,_0x5396ab=114.2,_0x1ce882=50009.3,_0x82fe39=50054.7,_0xdbda68={'x':50031.54,'y':0x70,'z':50007.65},_0x3182d1=world['getAllPlayers']();for(const _0x4adbe6 of _0x3182d1){try{const _0x48d4fb=_0x4adbe6['location'];if(_0x48d4fb['x']>=_0x1dffb4&&_0x48d4fb['x']<=_0x4c7650&&_0x48d4fb['y']>=_0x546dca&&_0x48d4fb['y']<=_0x5396ab&&_0x48d4fb['z']>=_0x1ce882&&_0x48d4fb['z']<=_0x82fe39){let _0x5c3a05=![];for(const _0x1dd435 of activeMatches[_0x4edb32(0xaf3)]()){if(_0x1dd435['status']===_0x4edb32(0x2d4)||_0x1dd435['status']===_0x4edb32(0x7cd)){for(const _0xd54e67 of Object[_0x4edb32(0xaf3)](_0x1dd435['teams'])){if(_0xd54e67[_0x4edb32(0x157)]&&_0xd54e67['players'][_0x4edb32(0x22d)](_0x4adbe6[_0x4edb32(0xa45)])){if(_0x1dd435['status']===_0x4edb32(0x2d4)){const _0x56cb00=_0x1dd435[_0x4edb32(0xf5)][_0x4adbe6[_0x4edb32(0xa45)]]||0x3;_0x56cb00>0x0&&(_0x5c3a05=!![]);}else _0x5c3a05=!![];break;}}if(_0x5c3a05)break;}}!_0x5c3a05&&(_0x4adbe6[_0x4edb32(0x54b)](_0xdbda68),_0x4adbe6[_0x4edb32(0x34f)](_0x4edb32(0x1d8)),_0x4adbe6[_0x4edb32(0x6ba)](_0x4edb32(0x153)));}}catch(_0x13a43d){}}}catch(_0x25dbc6){}},0x14);let hasShownStartupNotifications=![];system[_0x1d2622(0x633)](()=>{const _0x2aa0b5=_0x1d2622;if(loadedExpansionPacks[_0x2aa0b5(0x5c1)]>0x0&&!hasShownStartupNotifications){hasShownStartupNotifications=!![];const _0x392e45=world['getPlayers']();for(const _0x3811ce of _0x392e45){for(const _0x3c3304 of loadedExpansionPacks){_0x3811ce[_0x2aa0b5(0x34f)](_0x2aa0b5(0xa1b)+_0x3c3304);}}}},0x64),system['runInterval'](updateExclamationPositions,0xa),system[_0x1d2622(0x613)](cleanupStrayExclamations,0x258);function removeBanditsNearColonyFlags(){const _0x5dc26e=_0x1d2622;try{const _0x5d636f=[world[_0x5dc26e(0xbc8)](_0x5dc26e(0x182)),world[_0x5dc26e(0xbc8)]('nether'),world[_0x5dc26e(0xbc8)](_0x5dc26e(0x18d))];for(const _0x48ca55 of _0x5d636f){try{const _0xebda9e=_0x48ca55[_0x5dc26e(0xc8f)]({'type':'jerrys_colonies:bandit'});if(_0xebda9e[_0x5dc26e(0xcd6)]===0x0)continue;for(const _0x3cdfd4 of _0xebda9e){try{if(!_0x3cdfd4||!_0x3cdfd4[_0x5dc26e(0x25f)]())continue;const _0x5d2723=_0x3cdfd4[_0x5dc26e(0x1f2)];let _0x1f5b0e=![];for(const _0x39749d of colonies[_0x5dc26e(0xaf3)]()){if(!_0x39749d[_0x5dc26e(0x61a)]||_0x39749d[_0x5dc26e(0x61a)][_0x5dc26e(0xcd6)]===0x0)continue;for(const _0x43eba5 of _0x39749d[_0x5dc26e(0x61a)]){const _0x476b91=_0x5d2723['x']-_0x43eba5['x'],_0x419447=_0x5d2723['y']-_0x43eba5['y'],_0x2e8f18=_0x5d2723['z']-_0x43eba5['z'],_0x154718=Math[_0x5dc26e(0x4e0)](_0x476b91*_0x476b91+_0x419447*_0x419447+_0x2e8f18*_0x2e8f18);if(_0x154718<=0x64){_0x1f5b0e=!![];break;}}if(_0x1f5b0e)break;}_0x1f5b0e&&_0x3cdfd4[_0x5dc26e(0xa0b)]();}catch(_0x3e0ee5){}}}catch(_0x4cbf2e){}}}catch(_0x3e91bc){logErrorOnce('remove_bandits_near_flags',_0x5dc26e(0x9af)+_0x3e91bc);}}system[_0x1d2622(0x613)](removeBanditsNearColonyFlags,0x3c);const reportedErrors=new Map(),ERROR_REPORT_COOLDOWN=0xea60,ERROR_CLEANUP_AGE=0x36ee80;function cleanupOldErrors(){const _0x3c6614=_0x1d2622,_0x20a3e5=Date[_0x3c6614(0x405)]();let _0x2d7c97=0x0;for(const [_0x124945,_0x35259e]of reportedErrors['entries']()){_0x20a3e5-_0x35259e['lastReported']>ERROR_CLEANUP_AGE&&(reportedErrors[_0x3c6614(0xbcb)](_0x124945),_0x2d7c97++);}_0x2d7c97>0x0&&console[_0x3c6614(0x6a4)](_0x3c6614(0x3bf)+_0x2d7c97+_0x3c6614(0x4cc));}function logErrorOnce(_0x510cb2,_0x5b33f8){const _0x1f1e82=_0x1d2622,_0x4405f6=Date[_0x1f1e82(0x405)](),_0x3f022b=reportedErrors[_0x1f1e82(0xc0a)](_0x510cb2);!_0x3f022b?(console['error']('[Jerry\x27s\x20Colonies]\x20'+_0x5b33f8),reportedErrors[_0x1f1e82(0x336)](_0x510cb2,{'count':0x1,'lastReported':_0x4405f6})):(_0x3f022b[_0x1f1e82(0x4b9)]++,_0x4405f6-_0x3f022b[_0x1f1e82(0x916)]>=ERROR_REPORT_COOLDOWN&&(console[_0x1f1e82(0x7bf)](_0x1f1e82(0x91e)+_0x5b33f8+_0x1f1e82(0xb19)+_0x3f022b[_0x1f1e82(0x4b9)]+_0x1f1e82(0x347)),_0x3f022b['lastReported']=_0x4405f6,_0x3f022b[_0x1f1e82(0x4b9)]=0x0));}system[_0x1d2622(0x613)](()=>{const _0x422b1d=_0x1d2622;try{const _0x44149e=[world[_0x422b1d(0xbc8)](_0x422b1d(0x182)),world[_0x422b1d(0xbc8)](_0x422b1d(0x437)),world[_0x422b1d(0xbc8)]('the_end')];for(const _0x39b541 of _0x44149e){try{const _0x5cbe24=_0x39b541[_0x422b1d(0xc8f)]({'type':_0x422b1d(0x127)})[_0x422b1d(0x7ae)](_0x395e99=>{const _0x35c4b6=_0x422b1d;try{return _0x395e99[_0x35c4b6(0x25f)]()&&_0x395e99['hasTag'](_0x35c4b6(0xb13));}catch(_0xc4dbee){return![];}}),_0x31ea03=_0x39b541[_0x422b1d(0xc8f)]({'type':_0x422b1d(0xca9)})['filter'](_0x58244b=>{const _0x56e2bd=_0x422b1d;try{return _0x58244b[_0x56e2bd(0x25f)]();}catch(_0x1e1d2e){return![];}}),_0x5cac3b=[..._0x5cbe24,..._0x31ea03];for(const _0x2d14d1 of _0x5cac3b){try{if(!_0x2d14d1||!_0x2d14d1[_0x422b1d(0x25f)]())continue;const _0xf589da=_0x2d14d1[_0x422b1d(0x8f8)](_0x422b1d(0xcd4));(!_0xf589da||_0xf589da[_0x422b1d(0x20a)]<0x1||_0xf589da[_0x422b1d(0x52f)]<0x258)&&_0x2d14d1['addEffect'](_0x422b1d(0xcd4),0x1312d00,{'amplifier':0x1,'showParticles':![]});}catch(_0x30c865){}}}catch(_0x1219b3){}}}catch(_0x199fdf){logErrorOnce('knight_effects','Error\x20maintaining\x20knight\x20effects:\x20'+_0x199fdf);}},0x4b0),system[_0x1d2622(0x613)](()=>{const _0x5bd417=_0x1d2622,_0x527a32=world[_0x5bd417(0x272)]();for(const _0x3df36d of _0x527a32){const _0x10a058=[_0x5bd417(0x9e2),_0x5bd417(0x3d7),_0x5bd417(0x35d),_0x5bd417(0x852),'botanist',_0x5bd417(0x3de),_0x5bd417(0xb26),_0x5bd417(0xd00),'machinist',_0x5bd417(0xa17),_0x5bd417(0x594)];for(const _0x5652e6 of _0x10a058){const _0x4db97e=_0x5bd417(0x3eb)+_0x5652e6;if(_0x3df36d[_0x5bd417(0x4ac)](_0x4db97e)){_0x3df36d[_0x5bd417(0x866)](_0x4db97e);const _0x3b28f3=_0x3df36d[_0x5bd417(0xaf8)],_0x23f0a1=_0x3b28f3[_0x5bd417(0xc8f)]({'type':_0x5bd417(0x127),'location':_0x3df36d[_0x5bd417(0x1f2)],'maxDistance':0xa});for(const _0x51aac1 of _0x23f0a1){if(_0x51aac1['hasTag'](_0x5bd417(0x9d5)+_0x5652e6)){giveCitizenGift(_0x3df36d,_0x51aac1);break;}}}}}},0x14),system['runInterval'](checkScheduledEvents,0x4b0),system[_0x1d2622(0x633)](checkScheduledEvents,0x4b0),system[_0x1d2622(0x613)](()=>{const _0x13b573=_0x1d2622;try{const _0x5d9788=Date[_0x13b573(0x405)](),_0x488db6=new Set();for(const _0x5c60d1 of[world[_0x13b573(0xbc8)](_0x13b573(0x182)),world[_0x13b573(0xbc8)]('nether'),world[_0x13b573(0xbc8)](_0x13b573(0x18d))]){try{const _0x872154=_0x5c60d1[_0x13b573(0xc8f)]({'type':_0x13b573(0x127),'tags':[_0x13b573(0x1ce)]});for(const _0x4ce333 of _0x872154){try{if(!_0x4ce333||!_0x4ce333[_0x13b573(0x25f)]())continue;_0x488db6[_0x13b573(0x71a)](_0x4ce333['id']);const _0x1d2212=_0x4ce333['getTags']()[_0x13b573(0x2d0)](_0x213437=>_0x213437[_0x13b573(0x42a)](_0x13b573(0x366)));if(_0x1d2212){const _0x47dbe9=parseInt(_0x1d2212[_0x13b573(0x44b)](':')[0x1]);if(_0x5d9788>=_0x47dbe9){_0x4ce333[_0x13b573(0x866)](_0x13b573(0x1ce)),_0x4ce333['removeTag'](_0x1d2212),plagueParticleTimers[_0x13b573(0xbcb)](_0x4ce333['id']);continue;}}const _0x114dcc=plagueParticleTimers['get'](_0x4ce333['id'])||0x0;if(_0x5d9788>=_0x114dcc){for(let _0x2c6aa2=0x0;_0x2c6aa2<0x3;_0x2c6aa2++){const _0xd8ff01=(Math[_0x13b573(0x247)]()-0.5)*1.6,_0x382f36=Math[_0x13b573(0x247)]()*0x2,_0x567aab=(Math[_0x13b573(0x247)]()-0.5)*1.6;try{_0x5c60d1['spawnParticle']('jerrys_colonies:plague',{'x':_0x4ce333['location']['x']+_0xd8ff01,'y':_0x4ce333[_0x13b573(0x1f2)]['y']+_0x382f36,'z':_0x4ce333[_0x13b573(0x1f2)]['z']+_0x567aab});}catch(_0x243ebf){}}const _0x45a41f=(0xa+Math[_0x13b573(0x247)]()*0x14)*0x3e8;plagueParticleTimers['set'](_0x4ce333['id'],_0x5d9788+_0x45a41f);}}catch(_0x2c36e5){}}}catch(_0x1aaebc){}}let _0x41ec61=0x0;for(const _0x473794 of plagueParticleTimers['keys']()){!_0x488db6[_0x13b573(0xb61)](_0x473794)&&(plagueParticleTimers['delete'](_0x473794),_0x41ec61++);}_0x41ec61>0x0&&console[_0x13b573(0x6a4)](_0x13b573(0x3bf)+_0x41ec61+_0x13b573(0xbc0));}catch(_0x12bce6){logErrorOnce(_0x13b573(0xa24),'Error\x20in\x20plague\x20particle\x20system:\x20'+_0x12bce6);}},0x14),system['runTimeout'](()=>{const _0x2395bf=_0x1d2622,_0x1ff396=world[_0x2395bf(0x272)]();playersInWorld=_0x1ff396['length']>0x0;},0x64);function isChunkLoaded(_0x2c1d45,_0x286777,_0x1ad5d0,_0x2b141c){const _0x401c8f=_0x1d2622;try{return _0x2c1d45['getBlock']({'x':Math[_0x401c8f(0x648)](_0x286777),'y':Math[_0x401c8f(0x648)](_0x1ad5d0),'z':Math['floor'](_0x2b141c)}),!![];}catch(_0x3d7992){if(_0x3d7992['toString']()[_0x401c8f(0x22d)](_0x401c8f(0x4d9)))return![];return!![];}}let playersInWorld=![],lastPlayerCheckTime=Date[_0x1d2622(0x405)]();function pauseColonyTimers(){const _0x4b6d6e=_0x1d2622;try{const _0x20f514=Date[_0x4b6d6e(0x405)]();for(const _0xf640a9 of colonies[_0x4b6d6e(0xaf3)]()){if(!_0xf640a9)continue;_0xf640a9[_0x4b6d6e(0x83a)]&&_0xf640a9[_0x4b6d6e(0x83a)]>_0x20f514&&(_0xf640a9[_0x4b6d6e(0x84d)]=_0xf640a9['nextMarauderAttack']-_0x20f514,_0xf640a9[_0x4b6d6e(0x83a)]=null),_0xf640a9['nextPlague']&&_0xf640a9['nextPlague']>_0x20f514&&(_0xf640a9[_0x4b6d6e(0xcb2)]=_0xf640a9['nextPlague']-_0x20f514,_0xf640a9['nextPlague']=null),colonies[_0x4b6d6e(0x336)](_0xf640a9['id'],_0xf640a9);}}catch(_0x2217cd){console['error'](_0x4b6d6e(0x73d),_0x2217cd);}}function resumeColonyTimers(){const _0x41ee8a=_0x1d2622;try{const _0x3c75d0=Date[_0x41ee8a(0x405)]();console[_0x41ee8a(0x6a4)](_0x41ee8a(0x564));for(const _0x4e1b12 of colonies[_0x41ee8a(0xaf3)]()){if(!_0x4e1b12)continue;if(_0x4e1b12[_0x41ee8a(0x84d)]&&_0x4e1b12[_0x41ee8a(0x84d)]>0x0)_0x4e1b12[_0x41ee8a(0x83a)]=_0x3c75d0+_0x4e1b12[_0x41ee8a(0x84d)],_0x4e1b12[_0x41ee8a(0x84d)]=null,console[_0x41ee8a(0x6a4)]('Colony\x20'+_0x4e1b12[_0x41ee8a(0xa45)]+_0x41ee8a(0xbf3)+Math[_0x41ee8a(0x648)]((_0x4e1b12[_0x41ee8a(0x83a)]-_0x3c75d0)/0xea60)+_0x41ee8a(0x9dd));else _0x4e1b12[_0x41ee8a(0x84d)]!==undefined&&_0x4e1b12[_0x41ee8a(0x84d)]<=0x0&&(_0x4e1b12['nextMarauderAttack']=_0x3c75d0+0xa*0xea60,_0x4e1b12[_0x41ee8a(0x84d)]=null,console[_0x41ee8a(0x6a4)](_0x41ee8a(0x87e)+_0x4e1b12[_0x41ee8a(0xa45)]+_0x41ee8a(0x4ae)));if(_0x4e1b12[_0x41ee8a(0xcb2)]&&_0x4e1b12['plagueTimeRemaining']>0x0)_0x4e1b12['nextPlague']=_0x3c75d0+_0x4e1b12[_0x41ee8a(0xcb2)],_0x4e1b12[_0x41ee8a(0xcb2)]=null,console[_0x41ee8a(0x6a4)](_0x41ee8a(0x87e)+_0x4e1b12[_0x41ee8a(0xa45)]+_0x41ee8a(0x9da)+Math['floor']((_0x4e1b12['nextPlague']-_0x3c75d0)/0xea60)+'\x20minutes\x20remaining');else _0x4e1b12[_0x41ee8a(0xcb2)]!==undefined&&_0x4e1b12['plagueTimeRemaining']<=0x0&&(_0x4e1b12[_0x41ee8a(0xb01)]=_0x3c75d0+0xa*0xea60,_0x4e1b12[_0x41ee8a(0xcb2)]=null,console[_0x41ee8a(0x6a4)](_0x41ee8a(0x87e)+_0x4e1b12[_0x41ee8a(0xa45)]+':\x20Plague\x20timer\x20was\x20at\x200,\x20added\x2010\x20minute\x20grace\x20period'));colonies[_0x41ee8a(0x336)](_0x4e1b12['id'],_0x4e1b12);}}catch(_0x24b7ad){console[_0x41ee8a(0x7bf)](_0x41ee8a(0x671),_0x24b7ad);}}function checkScheduledEvents(){const _0x31d8c1=_0x1d2622;try{const _0x53c9bc=Date['now']();if(!colonies||colonies[_0x31d8c1(0x5c1)]===0x0)return;const _0x4ab89d=world[_0x31d8c1(0xbc8)]('overworld');if(!_0x4ab89d)return;const _0x51bfd0=world['getPlayers'](),_0x41561b=_0x51bfd0[_0x31d8c1(0xcd6)]>0x0;if(_0x41561b&&!playersInWorld)playersInWorld=!![],resumeColonyTimers();else{if(!_0x41561b&&playersInWorld){playersInWorld=![],pauseColonyTimers();return;}else{if(!_0x41561b)return;}}for(const _0x40b4aa of colonies['values']()){if(!_0x40b4aa||!_0x40b4aa['id']||!_0x40b4aa[_0x31d8c1(0x61a)]||_0x40b4aa['flagLocations'][_0x31d8c1(0xcd6)]===0x0)continue;const _0x5afb25=_0x40b4aa[_0x31d8c1(0x61a)][0x0];if(!_0x5afb25||typeof _0x5afb25['x']!==_0x31d8c1(0x493))continue;const _0x7dd43=_0x51bfd0['some'](_0x40bcc4=>{const _0x2c4496=_0x31d8c1,_0x37e5db=_0x40b4aa[_0x2c4496(0x396)]===_0x40bcc4['id'],_0x4fce45=_0x40b4aa[_0x2c4496(0x709)][_0x2c4496(0x22d)](_0x40bcc4['name']);if(!_0x37e5db&&!_0x4fce45)return![];if(_0x40b4aa[_0x2c4496(0xaf8)]){const _0x250b40=_0x40b4aa[_0x2c4496(0xaf8)][_0x2c4496(0x15a)](/^minecraft:/,''),_0x15167c=_0x40bcc4[_0x2c4496(0xaf8)]['id'][_0x2c4496(0x15a)](/^minecraft:/,'');if(_0x250b40!==_0x15167c)return![];}const _0x5afa94=_0x40bcc4['location']['x']-_0x5afb25['x'],_0x5557bf=_0x40bcc4[_0x2c4496(0x1f2)]['y']-_0x5afb25['y'],_0x54f6e0=_0x40bcc4[_0x2c4496(0x1f2)]['z']-_0x5afb25['z'];return Math[_0x2c4496(0x4e0)](_0x5afa94*_0x5afa94+_0x5557bf*_0x5557bf+_0x54f6e0*_0x54f6e0)<=0x64;});if(!_0x7dd43){console[_0x31d8c1(0x6a4)](_0x31d8c1(0x87e)+_0x40b4aa[_0x31d8c1(0xa45)]+':\x20No\x20players\x20nearby\x20to\x20trigger\x20events.\x20Checking\x20timers...');if(!_0x40b4aa[_0x31d8c1(0x83a)]&&!_0x40b4aa[_0x31d8c1(0x84d)]){const _0x2fd740=getGlobalMarauderInterval();_0x40b4aa['nextMarauderAttack']=_0x53c9bc+_0x2fd740*0xea60,colonies['set'](_0x40b4aa['id'],_0x40b4aa),console['log'](_0x31d8c1(0x87e)+_0x40b4aa[_0x31d8c1(0xa45)]+_0x31d8c1(0x8c6)+_0x2fd740+_0x31d8c1(0xcc1));}if(!_0x40b4aa[_0x31d8c1(0xb01)]&&!_0x40b4aa[_0x31d8c1(0xcb2)]){const _0x4f92cc=getGlobalPlagueInterval();_0x40b4aa['nextPlague']=_0x53c9bc+_0x4f92cc*0xea60,colonies[_0x31d8c1(0x336)](_0x40b4aa['id'],_0x40b4aa),console['log'](_0x31d8c1(0x87e)+_0x40b4aa[_0x31d8c1(0xa45)]+_0x31d8c1(0x341)+_0x4f92cc+_0x31d8c1(0xcc1));}continue;}else console[_0x31d8c1(0x6a4)](_0x31d8c1(0x87e)+_0x40b4aa[_0x31d8c1(0xa45)]+_0x31d8c1(0x625));if(_0x40b4aa[_0x31d8c1(0x83a)]){const _0x3159e4=_0x40b4aa[_0x31d8c1(0x83a)]-_0x53c9bc;console[_0x31d8c1(0x6a4)](_0x31d8c1(0x87e)+_0x40b4aa[_0x31d8c1(0xa45)]+':\x20Marauder\x20timer\x20-\x20'+Math['floor'](_0x3159e4/0xea60)+_0x31d8c1(0x9dd));}if(_0x40b4aa[_0x31d8c1(0xb01)]){const _0x1f7440=_0x40b4aa['nextPlague']-_0x53c9bc;console['log'](_0x31d8c1(0x87e)+_0x40b4aa[_0x31d8c1(0xa45)]+_0x31d8c1(0x6ac)+Math['floor'](_0x1f7440/0xea60)+_0x31d8c1(0x9dd));}if(_0x40b4aa[_0x31d8c1(0x83a)]&&_0x53c9bc>=_0x40b4aa[_0x31d8c1(0x83a)]&&isMarauderAttacksEnabled()){console['log']('TRIGGER:\x20Scheduled\x20marauder\x20attack\x20for\x20colony\x20'+_0x40b4aa[_0x31d8c1(0xa45)]);const _0x473b22=getGlobalMarauderInterval();_0x40b4aa[_0x31d8c1(0x83a)]=_0x53c9bc+_0x473b22*0xea60,_0x40b4aa[_0x31d8c1(0x3ff)]=![],colonies[_0x31d8c1(0x336)](_0x40b4aa['id'],_0x40b4aa),console['log'](_0x31d8c1(0x20e)+_0x40b4aa[_0x31d8c1(0xa45)]+_0x31d8c1(0xba1)+_0x5afb25['x']+',\x20'+_0x5afb25['y']+',\x20'+_0x5afb25['z']),spawnMarauderAttack(_0x40b4aa,[_0x5afb25]);}_0x40b4aa[_0x31d8c1(0xb01)]&&_0x53c9bc>=_0x40b4aa[_0x31d8c1(0xb01)]&&isPlaguesEnabled()&&(console[_0x31d8c1(0x6a4)](_0x31d8c1(0x46f)+_0x40b4aa['name']),_0x40b4aa['manualEventTriggered']=![],colonies[_0x31d8c1(0x336)](_0x40b4aa['id'],_0x40b4aa),console[_0x31d8c1(0x6a4)](_0x31d8c1(0xb6a)+_0x40b4aa[_0x31d8c1(0xa45)]),triggerPlague(_0x40b4aa));}}catch(_0x1d68e4){console[_0x31d8c1(0x7bf)]('Error\x20in\x20checkScheduledEvents:',_0x1d68e4);}}function checkMarauderAttacks(){const _0x1270ff=_0x1d2622;try{console[_0x1270ff(0x6a4)](_0x1270ff(0x41a));if(!colonies||colonies[_0x1270ff(0x5c1)]===0x0){console[_0x1270ff(0x6a4)]('No\x20colonies\x20found\x20to\x20check\x20for\x20attacks');return;}const _0x467f8c=world['getDimension'](_0x1270ff(0x182));if(!_0x467f8c)return;const _0x5782d1=world['getPlayers']();for(const _0xd5b19c of colonies[_0x1270ff(0xaf3)]()){if(!_0xd5b19c||!_0xd5b19c['id']||!_0xd5b19c['flagLocations']||_0xd5b19c[_0x1270ff(0x61a)][_0x1270ff(0xcd6)]===0x0)continue;const _0x4fce9b=_0xd5b19c['flagLocations'][0x0];if(!_0x4fce9b||typeof _0x4fce9b['x']!=='number')continue;const _0xf520a6=_0x5782d1[_0x1270ff(0xb49)](_0xc82acd=>{const _0x5acb42=_0x1270ff,_0x2a42ce=_0xc82acd[_0x5acb42(0x1f2)]['x']-_0x4fce9b['x'],_0x613c26=_0xc82acd[_0x5acb42(0x1f2)]['y']-_0x4fce9b['y'],_0x5117e6=_0xc82acd[_0x5acb42(0x1f2)]['z']-_0x4fce9b['z'];return Math[_0x5acb42(0x4e0)](_0x2a42ce*_0x2a42ce+_0x613c26*_0x613c26+_0x5117e6*_0x5117e6)<=0x64;});if(_0xf520a6){const _0x135610=Math[_0x1270ff(0x247)]();if(_0x135610<0.2&&isMarauderAttacksEnabled())spawnMarauderAttack(_0xd5b19c,[_0x4fce9b]);else _0x135610<0.3&&isPlaguesEnabled()&&triggerPlague(_0xd5b19c);}}}catch(_0x3e1a1d){console[_0x1270ff(0x7bf)]('Error\x20in\x20manual\x20checkMarauderAttacks:',_0x3e1a1d);}}function spawnMarauderAttack(_0x202164,_0x471594){const _0x5c08f3=_0x1d2622;try{if(!_0x471594||_0x471594['length']===0x0){console[_0x5c08f3(0x6a4)](_0x5c08f3(0xce4));return;}console[_0x5c08f3(0x6a4)](_0x5c08f3(0x500)+_0x202164[_0x5c08f3(0xa45)]+_0x5c08f3(0xe6)+_0x471594[_0x5c08f3(0xcd6)]+_0x5c08f3(0x61f));const _0x3248d4=_0x471594[Math[_0x5c08f3(0x648)](Math[_0x5c08f3(0x247)]()*_0x471594[_0x5c08f3(0xcd6)])];if(!_0x3248d4||typeof _0x3248d4['x']!=='number'){console[_0x5c08f3(0x6a4)](_0x5c08f3(0x797));return;}console['log']('Selected\x20flag\x20at\x20coordinates:\x20'+_0x3248d4['x']+',\x20'+_0x3248d4['y']+',\x20'+_0x3248d4['z']);const _0x5b2913=world[_0x5c08f3(0xbc8)](_0x5c08f3(0x182));if(!_0x5b2913){console[_0x5c08f3(0x6a4)]('Could\x20not\x20get\x20overworld\x20dimension\x20for\x20balloon\x20spawning');return;}console[_0x5c08f3(0x6a4)](_0x5c08f3(0x105)+_0x202164[_0x5c08f3(0xa45)]+_0x5c08f3(0xaed)+_0x3248d4['x']+',\x20'+_0x3248d4['y']+',\x20'+_0x3248d4['z']);_0x202164[_0x5c08f3(0x3ff)]!==![]?(_0x202164[_0x5c08f3(0x3ff)]=!![],console[_0x5c08f3(0x6a4)](_0x5c08f3(0xbbe)+_0x202164[_0x5c08f3(0xa45)])):console[_0x5c08f3(0x6a4)](_0x5c08f3(0x9e1)+_0x202164[_0x5c08f3(0xa45)]+_0x5c08f3(0xc81));if(!_0x202164['nextMarauderAttack']||_0x202164['nextMarauderAttack']<=Date['now']()){const _0x35bca7=getGlobalMarauderInterval();_0x202164[_0x5c08f3(0x83a)]=Date[_0x5c08f3(0x405)]()+_0x35bca7*0xea60,_0x202164[_0x5c08f3(0x84d)]=null,colonies[_0x5c08f3(0x336)](_0x202164['id'],_0x202164),console[_0x5c08f3(0x6a4)](_0x5c08f3(0x69a)+_0x35bca7+'\x20minutes');const _0x87a3f7=getGlobalPlagueInterval();_0x202164[_0x5c08f3(0xb01)]=Date[_0x5c08f3(0x405)]()+_0x87a3f7*0xea60,_0x202164[_0x5c08f3(0xcb2)]=null,console[_0x5c08f3(0x6a4)]('Plague\x20timer\x20also\x20reset\x20to\x20'+_0x87a3f7+_0x5c08f3(0xcc1));}const _0x14ac9e=Math[_0x5c08f3(0x648)](Math[_0x5c08f3(0x247)]()*0x3)+0x2;let _0x15440d=0x0;try{for(let _0x4a92f8=0x0;_0x4a92f8<_0x14ac9e;_0x4a92f8++){const _0x2c80e2=Math[_0x5c08f3(0x247)]()*Math['PI']*0x2,_0x424059=Math[_0x5c08f3(0x247)]()*0x1e,_0x19676e=_0x3248d4['x']+Math['cos'](_0x2c80e2)*_0x424059,_0x5cd0a6=_0x3248d4['z']+Math[_0x5c08f3(0x8e8)](_0x2c80e2)*_0x424059,_0x15c067=0xc8,_0x3c2ebc={'x':_0x19676e,'y':_0x15c067,'z':_0x5cd0a6};console[_0x5c08f3(0x6a4)](_0x5c08f3(0x7a4)+_0x3c2ebc['x']+',\x20'+_0x3c2ebc['y']+',\x20'+_0x3c2ebc['z']);try{_0x5b2913[_0x5c08f3(0x26c)](_0x5c08f3(0xb3a),_0x3c2ebc),console[_0x5c08f3(0x6a4)]('SUCCESS:\x20Spawned\x20balloon\x20at\x20'+_0x3c2ebc['x']+',\x20'+_0x3c2ebc['y']+',\x20'+_0x3c2ebc['z']),_0x15440d++;}catch(_0x9b0678){console[_0x5c08f3(0x7bf)]('SPAWN\x20ERROR:\x20Could\x20not\x20spawn\x20balloon:\x20'+_0x9b0678);}}}catch(_0x2ac280){console[_0x5c08f3(0x7bf)](_0x5c08f3(0x142)+_0x2ac280);}sendMarauderAttackAlert(_0x202164),console[_0x5c08f3(0x6a4)](_0x5c08f3(0xc61)+_0x15440d+_0x5c08f3(0xaea)+_0x202164[_0x5c08f3(0xa45)]);}catch(_0x3ceaee){console[_0x5c08f3(0x7bf)](_0x5c08f3(0x555)+_0x3ceaee);}}function sendMarauderAttackAlert(_0x3c33e2){const _0x398dcc=_0x1d2622;try{console[_0x398dcc(0x6a4)](_0x398dcc(0x839)+_0x3c33e2['name']+_0x398dcc(0x57d)+_0x3c33e2['id']+')');const _0x36e9a6=world[_0x398dcc(0x272)]();console['log']('Found\x20'+_0x36e9a6[_0x398dcc(0xcd6)]+_0x398dcc(0x521));let _0x5d0f65=0x0;const _0x1f5462=[],_0x370561=[];for(const _0x50b4a8 of _0x36e9a6){const _0x3af573=_0x50b4a8['getTags']()[_0x398dcc(0xb49)](_0x39e0ae=>_0x39e0ae===_0x398dcc(0x3ae)+_0x3c33e2['id']);_0x3af573?(console[_0x398dcc(0x6a4)](_0x398dcc(0x38a)+_0x50b4a8['name']+_0x398dcc(0x85f)+_0x3c33e2[_0x398dcc(0xa45)]),_0x5d0f65++,_0x1f5462['push'](_0x50b4a8)):console[_0x398dcc(0x6a4)]('Player\x20'+_0x50b4a8['name']+'\x20is\x20NOT\x20a\x20member\x20of\x20colony\x20'+_0x3c33e2['name']+_0x398dcc(0x409)),_0x370561[_0x398dcc(0x9bb)](_0x50b4a8);}const _0x13186a=Date['now'](),_0x47adb9=_0x13186a-lastTitleTime,_0x56939a=_0x47adb9<TITLE_DELAY?Math['ceil']((TITLE_DELAY-_0x47adb9)/0x3e8):0x0;showEventTitle(_0x370561,_0x398dcc(0xc2b),'§e'+_0x3c33e2[_0x398dcc(0xa45)]+_0x398dcc(0x183),null,_0x56939a);for(const _0x548153 of _0x1f5462){try{_0x548153[_0x398dcc(0x285)]('event.marauder_attack');}catch(_0x174746){console[_0x398dcc(0x6a4)](_0x398dcc(0x19e)+_0x548153[_0x398dcc(0xa45)]+':\x20'+_0x174746);}}for(const _0xb9135b of _0x370561){try{_0xb9135b['runCommandAsync'](_0x398dcc(0xd09));}catch(_0x4d9f1d){console[_0x398dcc(0x6a4)](_0x398dcc(0x67a)+_0xb9135b[_0x398dcc(0xa45)]+':\x20'+_0x4d9f1d);}}console[_0x398dcc(0x6a4)]('Successfully\x20sent\x20attack\x20alerts\x20to\x20'+_0x5d0f65+_0x398dcc(0xa15));}catch(_0x5ad7b8){console[_0x398dcc(0x7bf)]('ALERT\x20ERROR:\x20Error\x20sending\x20marauder\x20attack\x20alert:\x20'+_0x5ad7b8);}}function showCitizenRoleInfo(_0x5eaad9,_0x19de86){const _0x1f52cf=_0x1d2622;let _0x3f1539='';switch(_0x19de86){case'miner':_0x3f1539=_0x1f52cf(0x6af);break;case _0x1f52cf(0x3d7):_0x3f1539='Hunters\x20gather\x20various\x20animal\x20meats\x20and\x20hides.';break;case _0x1f52cf(0x35d):_0x3f1539=_0x1f52cf(0x349);break;case'explorer':_0x3f1539=_0x1f52cf(0x90f);break;case _0x1f52cf(0x47a):_0x3f1539='Botanists\x20gather\x20crops,\x20seeds,\x20fruits,\x20and\x20vegetables.';break;case'baker':_0x3f1539='Bakers\x20craft\x20breads,\x20cakes,\x20and\x20other\x20baked\x20goods.';break;case _0x1f52cf(0xb26):_0x3f1539=_0x1f52cf(0x316);break;case _0x1f52cf(0xd00):_0x3f1539=_0x1f52cf(0x98d);break;case _0x1f52cf(0xad4):_0x3f1539=_0x1f52cf(0x580);break;case _0x1f52cf(0xa17):_0x3f1539=_0x1f52cf(0xa51);break;case'knight':_0x3f1539=_0x1f52cf(0x642);break;}}function getEnabledMayorModules(){const _0x37d787=_0x1d2622,_0xa22a8d=getGlobalModules();return MAYOR_MODULES[_0x37d787(0x7ae)](_0x2ac991=>_0xa22a8d[_0x2ac991['id']]===!![]);}async function showMayorTableMenu(_0x40798d,_0x496823){const _0x544a40=_0x1d2622,_0x5d1ce6=getEnabledMayorModules();_0x40798d[_0x544a40(0x34f)](_0x544a40(0x5bf)+_0x5d1ce6[_0x544a40(0xcd6)]),_0x40798d[_0x544a40(0x34f)](_0x544a40(0xaac)+_0x5d1ce6[_0x544a40(0xc89)](_0x378588=>_0x378588['id'])['join'](',\x20'));const _0x2a34e0=_0x5d1ce6[_0x544a40(0x7ae)](_0x15f418=>_0x15f418['id']!=='construction');if(_0x2a34e0[_0x544a40(0xcd6)]===0x0){_0x40798d[_0x544a40(0x34f)](_0x544a40(0x9a0));return;}const _0x8891eb=new ActionFormData()[_0x544a40(0xd1)]('[MAYOR]\x20'+_0x496823[_0x544a40(0xa45)])['body'](_0x544a40(0xa5f));for(const _0xabeda3 of _0x2a34e0){_0x8891eb['button']('§a'+_0xabeda3[_0x544a40(0xa45)],_0xabeda3[_0x544a40(0x637)]||undefined);}const _0x540cac=await _0x8891eb[_0x544a40(0x504)](_0x40798d);if(_0x540cac[_0x544a40(0x9d4)])return;const _0x121ab9=_0x2a34e0[_0x540cac['selection']];if(!_0x121ab9){_0x40798d[_0x544a40(0x34f)](_0x544a40(0x744));return;}_0x40798d[_0x544a40(0x34f)](_0x544a40(0xa80)+_0x121ab9['id']+_0x544a40(0x2ef)+_0x121ab9[_0x544a40(0xa45)]);switch(_0x121ab9['id']){case _0x544a40(0x991):await showColonyInfo(_0x40798d,_0x496823);break;case _0x544a40(0xd05):await showColonyFlagsMenu(_0x40798d,_0x496823);break;case _0x544a40(0x519):await changeColonyFlagColor(_0x40798d,_0x496823);break;case'manage_citizens':await manageCitizens(_0x40798d,_0x496823);break;case'diplomacy':await showDiplomacyMenu(_0x40798d,_0x496823);break;case _0x544a40(0x19b):await showTransferOwnershipMenu(_0x40798d,_0x496823);break;case'rename_colony':await showRenameColonyMenu(_0x40798d,_0x496823);break;case _0x544a40(0x2df):await leaveColony(_0x40798d,_0x496823);break;case _0x544a40(0x1cc):await confirmAndDeleteColony(_0x40798d,_0x496823);break;default:_0x40798d[_0x544a40(0x34f)](_0x544a40(0xd16)+_0x121ab9['id']),_0x40798d[_0x544a40(0x34f)]('§cModule\x20name:\x20'+_0x121ab9[_0x544a40(0xa45)]),_0x40798d['sendMessage'](_0x544a40(0x5b2)+_0x2a34e0[_0x544a40(0xc89)](_0x19c5b6=>_0x19c5b6['id'])[_0x544a40(0x36f)](',\x20'));}}function setPlayerColonyInfo(_0x4eedc2,_0x41705f){const _0x1bb141=_0x1d2622,_0x117681=_0x4eedc2[_0x1bb141(0x460)]();for(const _0x336ddd of _0x117681){if(_0x336ddd[_0x1bb141(0x42a)]('colony_id:'))_0x4eedc2[_0x1bb141(0x866)](_0x336ddd);if(_0x336ddd[_0x1bb141(0x42a)]('colony_member:'))_0x4eedc2[_0x1bb141(0x866)](_0x336ddd);}_0x4eedc2[_0x1bb141(0x875)]('colony_id:'+_0x41705f['id']),_0x4eedc2[_0x1bb141(0x875)](_0x1bb141(0x3ae)+_0x41705f['id']);const _0x3bc532=_0x4eedc2[_0x1bb141(0xa45)];_0x4eedc2[_0x1bb141(0xa7c)]='['+_0x41705f['name']+']\x20'+_0x3bc532;}async function leaveColony(_0x131070,_0x4d311e){const _0x38cbda=_0x1d2622;for(const _0x4a4fe7 of _0x131070[_0x38cbda(0x460)]()){(_0x4a4fe7[_0x38cbda(0x42a)]('colony_id:')||_0x4a4fe7[_0x38cbda(0x42a)](_0x38cbda(0x3ae))||_0x4a4fe7[_0x38cbda(0x42a)](_0x38cbda(0x2c8)))&&_0x131070[_0x38cbda(0x866)](_0x4a4fe7);}_0x4d311e&&Array[_0x38cbda(0x7d1)](_0x4d311e['citizens'])&&(_0x4d311e[_0x38cbda(0x709)]=_0x4d311e[_0x38cbda(0x709)][_0x38cbda(0x7ae)](_0x45ddbd=>_0x45ddbd!==_0x131070['name']),saveColonyData()),_0x131070['nameTag']=_0x131070['name'],_0x131070['sendMessage'](_0x38cbda(0x3b5));}const DOOR_BLOCKS=[_0x1d2622(0x7c4),_0x1d2622(0x879),_0x1d2622(0x27f),_0x1d2622(0x3a4),_0x1d2622(0x41b),_0x1d2622(0x719),_0x1d2622(0x25c),_0x1d2622(0x4ba),_0x1d2622(0x389),_0x1d2622(0x3f8),_0x1d2622(0x726),_0x1d2622(0xad5),_0x1d2622(0x9d6),'minecraft:birch_trapdoor',_0x1d2622(0x946),_0x1d2622(0xa2a),_0x1d2622(0x9b5),_0x1d2622(0x351),_0x1d2622(0x845),_0x1d2622(0x3aa),_0x1d2622(0xaff),_0x1d2622(0xb04),'minecraft:cherry_trapdoor',_0x1d2622(0x53e),_0x1d2622(0x2b6),_0x1d2622(0x26f),'minecraft:spruce_button','minecraft:jungle_button',_0x1d2622(0xaf9),_0x1d2622(0x8f4),_0x1d2622(0x486),'minecraft:warped_button',_0x1d2622(0x248),'minecraft:bamboo_button',_0x1d2622(0xb29),_0x1d2622(0x80e),'minecraft:polished_blackstone_button',_0x1d2622(0x82d),_0x1d2622(0xbe3),'minecraft:oak_fence_gate',_0x1d2622(0x43a),'minecraft:spruce_fence_gate',_0x1d2622(0x1cf),_0x1d2622(0x296),_0x1d2622(0x5ae),_0x1d2622(0xe8),'minecraft:warped_fence_gate',_0x1d2622(0x1a9),_0x1d2622(0x1e1),_0x1d2622(0x883),_0x1d2622(0xcb8),_0x1d2622(0x74a),_0x1d2622(0x849),'minecraft:jungle_pressure_plate',_0x1d2622(0x6e9),_0x1d2622(0x58e),_0x1d2622(0xa5c),_0x1d2622(0x57c),_0x1d2622(0x8a1),_0x1d2622(0xa3c),_0x1d2622(0x4d6),_0x1d2622(0x886),_0x1d2622(0x59c),_0x1d2622(0x877),'minecraft:polished_blackstone_pressure_plate'];function getColonyAtLocation(_0x17d5a9){const _0x2339ef=_0x1d2622;if(!colonies||colonies[_0x2339ef(0x5c1)]===0x0)return null;for(const _0x59171b of colonies[_0x2339ef(0xaf3)]()){if(!_0x59171b||!_0x59171b['id'])continue;try{!_0x59171b['flagLocations']&&(_0x59171b[_0x2339ef(0x61a)]=[_0x59171b[_0x2339ef(0x1f2)]]);for(let _0x4504c7=0x0;_0x4504c7<_0x59171b[_0x2339ef(0x61a)][_0x2339ef(0xcd6)];_0x4504c7++){const _0x41de5c=_0x59171b['flagLocations'][_0x4504c7];_0x41de5c&&!_0x41de5c[_0x2339ef(0xa45)]&&(_0x41de5c['name']=_0x4504c7===0x0?_0x2339ef(0xa26):'Flag\x20#'+(_0x4504c7+0x1));}for(const _0xef722 of _0x59171b['flagLocations']){if(!_0xef722||typeof _0xef722['x']!==_0x2339ef(0x493))continue;const _0x352447=_0x17d5a9['x']-_0xef722['x'],_0x3b0399=_0x17d5a9['y']-_0xef722['y'],_0x16a349=_0x17d5a9['z']-_0xef722['z'],_0x4f38b2=Math['sqrt'](_0x352447*_0x352447+_0x3b0399*_0x3b0399+_0x16a349*_0x16a349);if(_0x4f38b2<=0x64)return _0x59171b;}}catch(_0x4f6e0b){console[_0x2339ef(0x5b4)]('Error\x20checking\x20colony\x20'+_0x59171b['id']+_0x2339ef(0x9fd),_0x4f6e0b);if(!_0x59171b[_0x2339ef(0x1f2)]||typeof _0x59171b['location']['x']!==_0x2339ef(0x493))continue;const _0x1c8480=_0x17d5a9['x']-_0x59171b['location']['x'],_0x57e89b=_0x17d5a9['y']-_0x59171b[_0x2339ef(0x1f2)]['y'],_0x2bc56b=_0x17d5a9['z']-_0x59171b[_0x2339ef(0x1f2)]['z'],_0x292a70=Math[_0x2339ef(0x4e0)](_0x1c8480*_0x1c8480+_0x57e89b*_0x57e89b+_0x2bc56b*_0x2bc56b);if(_0x292a70<=0x64)return _0x59171b;}}return null;}function isPlayerInOwnColony(_0x1e0991,_0x54b67c){const _0x1a38e4=_0x1d2622,_0x10d1c9=_0x1e0991['getTags']()[_0x1a38e4(0x2d0)](_0x4a0a2b=>_0x4a0a2b[_0x1a38e4(0x42a)](_0x1a38e4(0x30d))),_0x9fc08d=_0x1e0991[_0x1a38e4(0x460)]()[_0x1a38e4(0x2d0)](_0x32553=>_0x32553[_0x1a38e4(0x42a)](_0x1a38e4(0x3ae))),_0x20745b=_0x10d1c9?.[_0x1a38e4(0x44b)](':')[0x1]||_0x9fc08d?.['split'](':')[0x1],_0x2b437f=getColonyAtLocation(_0x54b67c);if(!_0x2b437f)return!![];if(!_0x20745b)return![];const _0x594a7=_0x2b437f['id']===_0x20745b;if(!_0x594a7&&_0x2b437f['ownerId']===_0x1e0991['id']){if(!_0x10d1c9||_0x10d1c9[_0x1a38e4(0x44b)](':')[0x1]!==_0x2b437f['id']){if(_0x10d1c9)_0x1e0991['removeTag'](_0x10d1c9);_0x1e0991['addTag']('colony_id:'+_0x2b437f['id']);}if(!_0x9fc08d||_0x9fc08d[_0x1a38e4(0x44b)](':')[0x1]!==_0x2b437f['id']){if(_0x9fc08d)_0x1e0991[_0x1a38e4(0x866)](_0x9fc08d);_0x1e0991['addTag']('colony_member:'+_0x2b437f['id']);}return!![];}return _0x594a7;}world[_0x1d2622(0xcd5)]&&world['beforeEvents'][_0x1d2622(0x76b)]&&world[_0x1d2622(0xcd5)][_0x1d2622(0x76b)][_0x1d2622(0xba5)](_0x37861a=>{const _0x5f0de6=_0x1d2622,_0x22fc4c=_0x37861a[_0x5f0de6(0xb8f)],_0x48c5d5=_0x37861a[_0x5f0de6(0xa13)];if(!_0x22fc4c||!_0x48c5d5)return;const _0x11efc3=getColonyAtLocation(_0x48c5d5[_0x5f0de6(0x1f2)]);if(!_0x11efc3)return;if(!isLandProtectionEnabled())return;const _0x287fa6=_0x22fc4c[_0x5f0de6(0x460)]()[_0x5f0de6(0x2d0)](_0x3618c6=>_0x3618c6===_0x5f0de6(0x3ae)+_0x11efc3['id']),_0x279a79=_0x22fc4c['getTags']()[_0x5f0de6(0x2d0)](_0x3f4cf6=>_0x3f4cf6===_0x5f0de6(0x30d)+_0x11efc3['id']),_0x5ce962=_0x11efc3[_0x5f0de6(0x396)]===_0x22fc4c['id'],_0x2af781=_0x11efc3[_0x5f0de6(0x709)][_0x5f0de6(0x22d)](_0x22fc4c[_0x5f0de6(0xa45)])||!!_0x287fa6||!!_0x279a79,_0x2d2724=hasColonyPermission(_0x22fc4c,_0x11efc3,_0x5f0de6(0x787));if(_0x5ce962||_0x2af781&&_0x2d2724)return;if(DOOR_BLOCKS[_0x5f0de6(0x22d)](_0x48c5d5[_0x5f0de6(0x621)])){console[_0x5f0de6(0x6a4)](_0x5f0de6(0x915)+_0x48c5d5[_0x5f0de6(0x621)]+'\x20in\x20colony\x20'+_0x11efc3['name']+_0x5f0de6(0x17e)+_0x22fc4c[_0x5f0de6(0xa45)]);return;}console['log'](_0x5f0de6(0x16b)+_0x48c5d5[_0x5f0de6(0x621)]+_0x5f0de6(0x442)+_0x11efc3[_0x5f0de6(0xa45)]+_0x5f0de6(0x17e)+_0x22fc4c[_0x5f0de6(0xa45)]),_0x37861a[_0x5f0de6(0xc21)]=!![],_0x22fc4c['sendMessage'](_0x5f0de6(0x8fc)+_0x11efc3[_0x5f0de6(0xa45)]+'\x27s\x20territory!\x20You\x20need\x20the\x20\x27Interact\x20Blocks\x27\x20permission.');});const pendingArenaTeleports=new Map(),arenaLoadingPlayers=new Set(),arenaTeleporterCooldowns=new Map(),pendingArenaTrophies=new Map();function cleanupArenaTeleporterCooldowns(){const _0xcac7f0=_0x1d2622,_0x564727=Date[_0xcac7f0(0x405)](),_0x6b6cb6=0x493e0;let _0x17f641=0x0;for(const [_0x1aaf49,_0x4746bf]of arenaTeleporterCooldowns[_0xcac7f0(0x74e)]()){_0x564727-_0x4746bf>_0x6b6cb6&&(arenaTeleporterCooldowns[_0xcac7f0(0xbcb)](_0x1aaf49),_0x17f641++);}_0x17f641>0x0&&console['log'](_0xcac7f0(0x3bf)+_0x17f641+'\x20old\x20arena\x20teleporter\x20cooldowns');}function isPlayerInArena(_0x4e5369){const _0x1c6869=_0x1d2622;if(!_0x4e5369||!_0x4e5369[_0x1c6869(0x25f)]())return console[_0x1c6869(0x5b4)](_0x1c6869(0xbd6)),![];const _0x3d8a60=_0x4e5369[_0x1c6869(0x49d)](_0x1c6869(0x298));if(_0x3d8a60===!![])return!![];const _0x51aced=_0x4e5369[_0x1c6869(0x1f2)],_0x2118b2={'x':0xc350,'y':0x64,'z':0xc350},_0x3ad87=0x1f4,_0x1399fa=Math[_0x1c6869(0x4e0)](Math['pow'](_0x51aced['x']-_0x2118b2['x'],0x2)+Math[_0x1c6869(0x6bc)](_0x51aced['z']-_0x2118b2['z'],0x2)),_0xd66b33=_0x1399fa<_0x3ad87&&_0x51aced['y']>0x32&&_0x51aced['y']<0xc8;return _0xd66b33&&_0x3d8a60!==!![]&&_0x4e5369[_0x1c6869(0x4da)](_0x1c6869(0x298),!![]),_0xd66b33;}function playerHasShulkerBoxes(_0x214112){const _0x5ae149=_0x1d2622;try{const _0xbcd2e2=_0x214112[_0x5ae149(0x299)](_0x5ae149(0xd17));if(!_0xbcd2e2)return![];const _0x48e0e9=_0xbcd2e2['container'];for(let _0x4fbe0d=0x0;_0x4fbe0d<_0x48e0e9['size'];_0x4fbe0d++){const _0x1230f2=_0x48e0e9['getItem'](_0x4fbe0d);if(_0x1230f2&&_0x1230f2['typeId'][_0x5ae149(0x22d)](_0x5ae149(0x7a2)))return!![];}return![];}catch(_0x382036){return![];}}function playerHasArmor(_0x4b42b6){const _0x17191f=_0x1d2622;try{const _0xa8fc5f=_0x4b42b6[_0x17191f(0x299)](_0x17191f(0x328));if(!_0xa8fc5f)return![];const _0x57a666=[_0x17191f(0x77c),'Chest','Legs',_0x17191f(0x9c4)];for(const _0x49507b of _0x57a666){const _0x32c877=_0xa8fc5f['getEquipmentSlot'](_0x49507b),_0x4898fd=_0x32c877[_0x17191f(0x416)]();if(_0x4898fd)return!![];}return![];}catch(_0x4c68e8){return![];}}function playerHasInventoryItems(_0x507f06){const _0x3eb03c=_0x1d2622;try{const _0x57699c=_0x507f06[_0x3eb03c(0x299)]('inventory');if(!_0x57699c)return![];const _0x72fb4f=_0x57699c[_0x3eb03c(0x26e)];for(let _0xecc889=0x0;_0xecc889<_0x72fb4f[_0x3eb03c(0x5c1)];_0xecc889++){const _0x4235d3=_0x72fb4f[_0x3eb03c(0x416)](_0xecc889);if(_0x4235d3)return!![];}return![];}catch(_0x77ab4e){return![];}}function savePlayerLocation(_0x17296e){const _0x466b4c=_0x1d2622;if(!_0x17296e||!_0x17296e[_0x466b4c(0x25f)]()){console[_0x466b4c(0x5b4)]('[ARENA]\x20savePlayerLocation\x20called\x20with\x20invalid\x20player\x20object');return;}const _0x3c7779=_0x17296e[_0x466b4c(0x1f2)];console[_0x466b4c(0x6a4)](_0x466b4c(0x7df)+_0x17296e[_0x466b4c(0xa45)]+':\x20'+_0x3c7779['x']+',\x20'+_0x3c7779['y']+',\x20'+_0x3c7779['z']),_0x17296e[_0x466b4c(0x4da)]('prev_x',_0x3c7779['x']),_0x17296e[_0x466b4c(0x4da)]('prev_y',_0x3c7779['y']),_0x17296e[_0x466b4c(0x4da)](_0x466b4c(0x4b7),_0x3c7779['z']);try{let _0x3ccfdf={};const _0xa80de=world[_0x466b4c(0x49d)](_0x466b4c(0x11b));if(_0xa80de)try{_0x3ccfdf=JSON['parse'](_0xa80de);}catch(_0xe04b5d){console[_0x466b4c(0x5b4)](_0x466b4c(0x807)),_0x3ccfdf={};}_0x3ccfdf[_0x17296e[_0x466b4c(0xa45)]]={'x':_0x3c7779['x'],'y':_0x3c7779['y'],'z':_0x3c7779['z'],'timestamp':Date[_0x466b4c(0x405)]()},world[_0x466b4c(0x4da)](_0x466b4c(0x11b),JSON[_0x466b4c(0x1db)](_0x3ccfdf)),console[_0x466b4c(0x6a4)](_0x466b4c(0x7c0)+_0x17296e['name']+'\x20(total\x20cached:\x20'+Object[_0x466b4c(0xc70)](_0x3ccfdf)[_0x466b4c(0xcd6)]+_0x466b4c(0x8ff));}catch(_0x56c21f){console[_0x466b4c(0x5b4)](_0x466b4c(0x659)+_0x56c21f);}const _0x12523e=_0x17296e[_0x466b4c(0x49d)](_0x466b4c(0x6dc)),_0x35e7c3=_0x17296e[_0x466b4c(0x49d)](_0x466b4c(0xc8)),_0x1f7501=_0x17296e['getDynamicProperty']('prev_z');console['log'](_0x466b4c(0x377)+_0x17296e[_0x466b4c(0xa45)]+':\x20'+_0x12523e+',\x20'+_0x35e7c3+',\x20'+_0x1f7501);}function getPreviousLocation(_0x2e029f){const _0x5d4a2d=_0x1d2622;if(!_0x2e029f||!_0x2e029f['isValid']())return console[_0x5d4a2d(0x5b4)](_0x5d4a2d(0x4e1)),null;const _0x19c91c=_0x2e029f['getDynamicProperty']('prev_x'),_0x3739c3=_0x2e029f[_0x5d4a2d(0x49d)](_0x5d4a2d(0xc8)),_0x3911f7=_0x2e029f['getDynamicProperty'](_0x5d4a2d(0x4b7));console[_0x5d4a2d(0x6a4)]('[ARENA]\x20Raw\x20dynamic\x20properties\x20for\x20'+_0x2e029f[_0x5d4a2d(0xa45)]+_0x5d4a2d(0x3a7)+_0x19c91c+_0x5d4a2d(0x6fc)+_0x3739c3+_0x5d4a2d(0x6f8)+_0x3911f7);if(_0x19c91c!==undefined&&_0x3739c3!==undefined&&_0x3911f7!==undefined){const _0x3ef730={'x':_0x19c91c,'y':_0x3739c3,'z':_0x3911f7};return console[_0x5d4a2d(0x6a4)]('[ARENA]\x20Returning\x20location\x20for\x20'+_0x2e029f[_0x5d4a2d(0xa45)]+':',_0x3ef730),_0x3ef730;}console['log'](_0x5d4a2d(0x5b7)+_0x2e029f[_0x5d4a2d(0xa45)]+_0x5d4a2d(0x37c));try{const _0x442630=world[_0x5d4a2d(0x49d)](_0x5d4a2d(0x11b));if(_0x442630){const _0x2e7938=JSON[_0x5d4a2d(0xc35)](_0x442630);if(_0x2e7938[_0x2e029f[_0x5d4a2d(0xa45)]]){const _0x491bb3=_0x2e7938[_0x2e029f['name']];return console[_0x5d4a2d(0x6a4)]('[ARENA]\x20Found\x20cached\x20location\x20for\x20'+_0x2e029f[_0x5d4a2d(0xa45)]+':',_0x491bb3),{'x':_0x491bb3['x'],'y':_0x491bb3['y'],'z':_0x491bb3['z']};}}}catch(_0x16b923){console[_0x5d4a2d(0x5b4)](_0x5d4a2d(0x987)+_0x16b923);}return console['log'](_0x5d4a2d(0x7e8)+_0x2e029f['name']+_0x5d4a2d(0xbaa)),{'x':0x0,'y':0x64,'z':0x0};}function savePlayerInventory(_0x40711e){const _0x288a8e=_0x1d2622;try{const _0x331b40=_0x40711e[_0x288a8e(0x299)]('inventory');if(!_0x331b40)return;const _0x1ecaee=_0x331b40[_0x288a8e(0x26e)],_0x2cf885=[];for(let _0x348206=0x0;_0x348206<_0x1ecaee[_0x288a8e(0x5c1)];_0x348206++){const _0x666ceb=_0x1ecaee[_0x288a8e(0x416)](_0x348206);if(_0x666ceb){const _0x5a96f6={'slot':_0x348206,'typeId':_0x666ceb[_0x288a8e(0x621)],'amount':_0x666ceb[_0x288a8e(0x8f0)],'nameTag':_0x666ceb[_0x288a8e(0xa7c)]||null,'lore':null,'enchantments':[],'durability':null,'containerData':null};try{const _0x5ea186=_0x666ceb['getLore']();_0x5ea186&&_0x5ea186[_0x288a8e(0xcd6)]>0x0&&(_0x5a96f6['lore']=_0x5ea186);}catch(_0x5d86f6){}try{const _0x3c91d0=getItemEnchantments(_0x666ceb);_0x3c91d0[_0x288a8e(0xcd6)]>0x0&&(_0x5a96f6['enchantments']=_0x3c91d0);}catch(_0x2a049f){}try{const _0x81fe4c=getItemDurability(_0x666ceb);_0x81fe4c&&(_0x5a96f6[_0x288a8e(0x850)]=_0x81fe4c);}catch(_0x453694){}_0x2cf885['push'](_0x5a96f6);}}_0x40711e[_0x288a8e(0x4da)](_0x288a8e(0x1bb),JSON[_0x288a8e(0x1db)](_0x2cf885));}catch(_0x227e2c){}}function getItemEnchantments(_0x2d6492){const _0x38d7cb=_0x1d2622;try{const _0x1e4a3c=[],_0x262289=_0x2d6492[_0x38d7cb(0x299)](_0x38d7cb(0x8fe));if(_0x262289){const _0x215807=_0x262289[_0x38d7cb(0x5dc)]();if(_0x215807&&_0x215807[_0x38d7cb(0xcd6)]>0x0)for(const _0x438201 of _0x215807){_0x438201&&_0x438201[_0x38d7cb(0x9a5)]&&_0x438201[_0x38d7cb(0x9a5)]['id']&&_0x1e4a3c[_0x38d7cb(0x9bb)]({'typeId':_0x438201['type']['id'],'level':_0x438201[_0x38d7cb(0x2cf)]||0x1});}}return _0x1e4a3c;}catch(_0x28bba8){return[];}}function getItemDurability(_0xe48913){const _0x33815a=_0x1d2622;try{const _0x29343a=_0xe48913[_0x33815a(0x299)](_0x33815a(0x850));if(_0x29343a)return{'damage':_0x29343a['damage'],'maxDurability':_0x29343a[_0x33815a(0x3c0)]};return null;}catch(_0x221c35){return null;}}function getContainerData(_0x1e4211){const _0x290d8c=_0x1d2622;try{let _0x13fdaa=null;try{_0x13fdaa=_0x1e4211[_0x290d8c(0x299)]('minecraft:inventory');if(_0x13fdaa){}}catch(_0x55d09b){}if(!_0x13fdaa)return[];if(!_0x13fdaa[_0x290d8c(0x26e)])return[];const _0x97f43c=_0x13fdaa[_0x290d8c(0x26e)],_0x120df1=[];for(let _0x3e8f00=0x0;_0x3e8f00<_0x97f43c[_0x290d8c(0x5c1)];_0x3e8f00++){const _0x274907=_0x97f43c[_0x290d8c(0x416)](_0x3e8f00);if(_0x274907){const _0x3781a6={'slot':_0x3e8f00,'typeId':_0x274907[_0x290d8c(0x621)],'amount':_0x274907[_0x290d8c(0x8f0)],'nameTag':_0x274907['nameTag']||null,'lore':null,'enchantments':[],'durability':null};try{const _0x28f023=_0x274907[_0x290d8c(0x5b8)]();_0x28f023&&_0x28f023[_0x290d8c(0xcd6)]>0x0&&(_0x3781a6['lore']=_0x28f023);}catch(_0x356fb4){}try{const _0x2b5103=getItemEnchantments(_0x274907);_0x2b5103['length']>0x0&&(_0x3781a6[_0x290d8c(0x683)]=_0x2b5103);}catch(_0x5e9837){}try{const _0x525a59=getItemDurability(_0x274907);_0x525a59&&(_0x3781a6[_0x290d8c(0x850)]=_0x525a59);}catch(_0x44dadc){}try{const _0xa2ac90=getContainerData(_0x274907);_0xa2ac90[_0x290d8c(0xcd6)]>0x0&&(_0x3781a6[_0x290d8c(0x1e5)]=_0xa2ac90);}catch(_0x27bd1c){}_0x120df1[_0x290d8c(0x9bb)](_0x3781a6);}}return _0x120df1;}catch(_0x53172e){return[];}}function restoreContainerData(_0x8a9889,_0x327052){const _0x1a8bfe=_0x1d2622;try{let _0x2380e3=null;try{_0x2380e3=_0x8a9889['getComponent'](_0x1a8bfe(0x9e4));if(_0x2380e3){}}catch(_0x29a6c8){}if(!_0x2380e3)return![];if(!_0x2380e3[_0x1a8bfe(0x26e)])return![];const _0x33b85f=_0x2380e3['container'];for(let _0x28f8f1=0x0;_0x28f8f1<_0x33b85f[_0x1a8bfe(0x5c1)];_0x28f8f1++){_0x33b85f[_0x1a8bfe(0xbc1)](_0x28f8f1,undefined);}for(const _0x24b50d of _0x327052){try{const _0x244124=new ItemStack(_0x24b50d['typeId'],_0x24b50d['amount']);if(_0x24b50d[_0x1a8bfe(0xa7c)])try{_0x244124[_0x1a8bfe(0xa7c)]=_0x24b50d[_0x1a8bfe(0xa7c)];}catch(_0x1efe40){console[_0x1a8bfe(0x5b4)](_0x1a8bfe(0x3d5),_0x1efe40[_0x1a8bfe(0xc47)]);}if(_0x24b50d['lore']&&_0x24b50d[_0x1a8bfe(0xb9e)][_0x1a8bfe(0xcd6)]>0x0)try{const _0x5c3029=_0x244124['getComponent'](_0x1a8bfe(0xc37));_0x5c3029?_0x5c3029[_0x1a8bfe(0x768)]=_0x24b50d[_0x1a8bfe(0xb9e)]:console['warn']('Container\x20item\x20does\x20not\x20support\x20lore,\x20skipping');}catch(_0x5d2523){console[_0x1a8bfe(0x5b4)](_0x1a8bfe(0x869),_0x5d2523['message']);}if(_0x24b50d[_0x1a8bfe(0x850)])try{const _0x5eafee=_0x244124[_0x1a8bfe(0x299)]('durability');_0x5eafee&&(_0x5eafee['damage']=_0x24b50d[_0x1a8bfe(0x850)][_0x1a8bfe(0x48f)]);}catch(_0x37998d){console['warn']('Failed\x20to\x20restore\x20container\x20item\x20durability,\x20skipping:',_0x37998d['message']);}if(_0x24b50d[_0x1a8bfe(0x683)]&&_0x24b50d[_0x1a8bfe(0x683)][_0x1a8bfe(0xcd6)]>0x0)try{const _0x47a8e2=_0x244124['getComponent'](_0x1a8bfe(0x8fe));if(_0x47a8e2)for(const _0x3479e9 of _0x24b50d[_0x1a8bfe(0x683)]){try{const _0x4dcb63=EnchantmentTypes[_0x1a8bfe(0xc0a)](_0x3479e9[_0x1a8bfe(0x621)]);if(_0x4dcb63){const _0x449d6e={'type':_0x4dcb63,'level':_0x3479e9[_0x1a8bfe(0x2cf)]};_0x47a8e2[_0x1a8bfe(0x128)](_0x449d6e);}}catch(_0x5a0752){console['warn']('Failed\x20to\x20restore\x20container\x20enchantment\x20'+_0x3479e9[_0x1a8bfe(0x621)]+',\x20skipping:',_0x5a0752[_0x1a8bfe(0xc47)]);}}}catch(_0x3b5f3a){console['warn']('Failed\x20to\x20restore\x20container\x20enchantments,\x20skipping:',_0x3b5f3a[_0x1a8bfe(0xc47)]);}if(_0x24b50d[_0x1a8bfe(0x1e5)]&&_0x24b50d['containerData'][_0x1a8bfe(0xcd6)]>0x0)try{restoreContainerData(_0x244124,_0x24b50d[_0x1a8bfe(0x1e5)]);}catch(_0x1cd71d){console[_0x1a8bfe(0x5b4)](_0x1a8bfe(0x1cd),_0x1cd71d['message']);}try{_0x33b85f['setItem'](_0x24b50d[_0x1a8bfe(0x32a)],_0x244124);}catch(_0x4a6687){console['warn'](_0x1a8bfe(0x441)+_0x24b50d[_0x1a8bfe(0x32a)]+_0x1a8bfe(0x2d7),_0x4a6687[_0x1a8bfe(0xc47)]);}}catch(_0x55568f){console['warn'](_0x1a8bfe(0x3c4)+_0x24b50d[_0x1a8bfe(0x621)]+_0x1a8bfe(0x2d7),_0x55568f[_0x1a8bfe(0xc47)]);}}return!![];}catch(_0x355480){return![];}}function clearPlayerInventory(_0x9d6e21){const _0x2fb234=_0x1d2622;try{const _0x1bd744=_0x9d6e21[_0x2fb234(0x299)](_0x2fb234(0xd17));if(!_0x1bd744)return;const _0x4d112d=_0x1bd744[_0x2fb234(0x26e)];for(let _0x402772=0x0;_0x402772<_0x4d112d[_0x2fb234(0x5c1)];_0x402772++){_0x4d112d[_0x2fb234(0xbc1)](_0x402772,undefined);}const _0x14f0c3=new ItemStack(_0x2fb234(0xa3e),0x1);_0x14f0c3[_0x2fb234(0xa7c)]='§6§lMatch\x20Manager';const _0x1d8791=_0x14f0c3[_0x2fb234(0x299)]('minecraft:lore');_0x1d8791&&(_0x1d8791['value']=['§7Right-click\x20to\x20manage\x20arena\x20matches',_0x2fb234(0x61c),_0x2fb234(0xc94),_0x2fb234(0x6c1)]);try{_0x4d112d[_0x2fb234(0xbc1)](0x0,_0x14f0c3),console[_0x2fb234(0x6a4)](_0x2fb234(0x4bf)+_0x9d6e21[_0x2fb234(0xa45)]);}catch(_0x4867b5){console[_0x2fb234(0x5b4)](_0x2fb234(0x52d),_0x4867b5);}console['log'](_0x2fb234(0x590)+_0x9d6e21[_0x2fb234(0xa45)]);}catch(_0x20747e){console[_0x2fb234(0x7bf)](_0x2fb234(0xae2),_0x20747e);}}function restorePlayerInventory(_0x5e2f34){const _0x5b278d=_0x1d2622;try{const _0x18c903=_0x5e2f34[_0x5b278d(0x49d)](_0x5b278d(0x1bb));if(!_0x18c903){console[_0x5b278d(0x6a4)](_0x5b278d(0x12c)+_0x5e2f34[_0x5b278d(0xa45)]);return;}const _0x3eae01=JSON['parse'](_0x18c903),_0x54e0c7=_0x5e2f34[_0x5b278d(0x299)](_0x5b278d(0xd17));if(!_0x54e0c7)return;const _0x2979b5=_0x54e0c7[_0x5b278d(0x26e)];for(let _0x393118=0x0;_0x393118<_0x2979b5[_0x5b278d(0x5c1)];_0x393118++){_0x2979b5[_0x5b278d(0xbc1)](_0x393118,undefined);}console[_0x5b278d(0x6a4)](_0x5b278d(0x8b5)+_0x3eae01[_0x5b278d(0xcd6)]+_0x5b278d(0xaa4)+_0x5e2f34['name']);for(const _0x4a2ca6 of _0x3eae01){try{console[_0x5b278d(0x6a4)]('[ARENA]\x20Restoring\x20item:\x20'+_0x4a2ca6[_0x5b278d(0x621)]+'\x20x'+_0x4a2ca6['amount']+_0x5b278d(0x5c3)+_0x4a2ca6['slot']);const _0x41d6e1=new ItemStack(_0x4a2ca6[_0x5b278d(0x621)],_0x4a2ca6[_0x5b278d(0x8f0)]);if(_0x4a2ca6[_0x5b278d(0xa7c)])try{_0x41d6e1[_0x5b278d(0xa7c)]=_0x4a2ca6[_0x5b278d(0xa7c)],console['log'](_0x5b278d(0xae1)+_0x4a2ca6[_0x5b278d(0xa7c)]);}catch(_0xee8cf6){console[_0x5b278d(0x5b4)](_0x5b278d(0xbd7),_0xee8cf6[_0x5b278d(0xc47)]);}if(_0x4a2ca6[_0x5b278d(0xb9e)]&&_0x4a2ca6[_0x5b278d(0xb9e)]['length']>0x0)try{const _0x40f547=_0x41d6e1[_0x5b278d(0x299)](_0x5b278d(0xc37));_0x40f547?(_0x40f547[_0x5b278d(0x768)]=_0x4a2ca6['lore'],console[_0x5b278d(0x6a4)](_0x5b278d(0x25d)+_0x4a2ca6[_0x5b278d(0xb9e)]['length']+_0x5b278d(0x3e1))):console['warn'](_0x5b278d(0x64f));}catch(_0x13c61e){console[_0x5b278d(0x5b4)]('Failed\x20to\x20restore\x20lore,\x20skipping:',_0x13c61e[_0x5b278d(0xc47)]);}if(_0x4a2ca6['durability'])try{const _0x2077cd=_0x41d6e1[_0x5b278d(0x299)](_0x5b278d(0x850));_0x2077cd&&(_0x2077cd[_0x5b278d(0x48f)]=_0x4a2ca6[_0x5b278d(0x850)]['damage'],console['log'](_0x5b278d(0x736)+_0x4a2ca6[_0x5b278d(0x850)][_0x5b278d(0x48f)]+'/'+_0x4a2ca6[_0x5b278d(0x850)][_0x5b278d(0x3c0)]));}catch(_0x7c5fcd){console[_0x5b278d(0x5b4)](_0x5b278d(0x74d),_0x7c5fcd[_0x5b278d(0xc47)]);}if(_0x4a2ca6[_0x5b278d(0x683)]&&_0x4a2ca6[_0x5b278d(0x683)][_0x5b278d(0xcd6)]>0x0)try{const _0x5a6754=_0x41d6e1[_0x5b278d(0x299)](_0x5b278d(0x8fe));if(_0x5a6754)for(const _0x5de7ef of _0x4a2ca6[_0x5b278d(0x683)]){try{const _0x41260b=EnchantmentTypes['get'](_0x5de7ef['typeId']);if(_0x41260b){const _0x17489f={'type':_0x41260b,'level':_0x5de7ef['level']};_0x5a6754[_0x5b278d(0x128)](_0x17489f),console[_0x5b278d(0x6a4)](_0x5b278d(0x10b)+_0x5de7ef[_0x5b278d(0x621)]+_0x5b278d(0x21e)+_0x5de7ef['level']);}else console[_0x5b278d(0x5b4)]('[ARENA]\x20Unknown\x20enchantment\x20type:\x20'+_0x5de7ef[_0x5b278d(0x621)]+',\x20skipping');}catch(_0x11aa88){console[_0x5b278d(0x5b4)](_0x5b278d(0x545)+_0x5de7ef[_0x5b278d(0x621)]+',\x20skipping:',_0x11aa88['message']);}}else console['warn'](_0x5b278d(0x7bb));}catch(_0x20219c){console[_0x5b278d(0x5b4)](_0x5b278d(0xd11),_0x20219c['message']);}try{_0x2979b5['setItem'](_0x4a2ca6[_0x5b278d(0x32a)],_0x41d6e1),console[_0x5b278d(0x6a4)](_0x5b278d(0x20f)+_0x4a2ca6['typeId']+'\x20in\x20slot\x20'+_0x4a2ca6[_0x5b278d(0x32a)]);}catch(_0xc37ca9){console[_0x5b278d(0x5b4)](_0x5b278d(0x21d)+_0x4a2ca6[_0x5b278d(0x32a)]+_0x5b278d(0x2d7),_0xc37ca9[_0x5b278d(0xc47)]);continue;}if(_0x4a2ca6['containerData']&&_0x4a2ca6[_0x5b278d(0x1e5)][_0x5b278d(0xcd6)]>0x0)try{const _0x5c5756=_0x2979b5['getItem'](_0x4a2ca6[_0x5b278d(0x32a)]);if(_0x5c5756){const _0x2874f8=restoreContainerData(_0x5c5756,_0x4a2ca6[_0x5b278d(0x1e5)]);if(!_0x2874f8)try{_0x5c5756[_0x5b278d(0x4da)](_0x5b278d(0xb1f),JSON[_0x5b278d(0x1db)](_0x4a2ca6[_0x5b278d(0x1e5)])),console[_0x5b278d(0x6a4)](_0x5b278d(0xb59));}catch(_0x3a1358){console[_0x5b278d(0x5b4)]('[ARENA]\x20Failed\x20to\x20store\x20container\x20data\x20as\x20dynamic\x20property,\x20skipping:',_0x3a1358[_0x5b278d(0xc47)]);}_0x2979b5[_0x5b278d(0xbc1)](_0x4a2ca6[_0x5b278d(0x32a)],_0x5c5756);}}catch(_0x278536){console[_0x5b278d(0x5b4)](_0x5b278d(0x73e),_0x278536[_0x5b278d(0xc47)]);}}catch(_0x2f3c88){console['error']('Error\x20restoring\x20item\x20'+_0x4a2ca6[_0x5b278d(0x621)]+_0x5b278d(0x319),_0x2f3c88[_0x5b278d(0xc47)]);}}_0x5e2f34[_0x5b278d(0x4da)](_0x5b278d(0x1bb),undefined),console[_0x5b278d(0x6a4)](_0x5b278d(0xc16)+_0x5e2f34[_0x5b278d(0xa45)]);}catch(_0xfa53c5){console[_0x5b278d(0x7bf)](_0x5b278d(0x8ee),_0xfa53c5);}}function clearPlayerStoredInventory(_0x4cd894){const _0x17e8bc=_0x1d2622;try{if(_0x4cd894&&_0x4cd894['isValid']()){_0x4cd894['setDynamicProperty'](_0x17e8bc(0x2a1),undefined);const _0x46c2fc=_0x4cd894[_0x17e8bc(0x49d)](_0x17e8bc(0x693));if(_0x46c2fc!==undefined){for(let _0x25e843=0x0;_0x25e843<_0x46c2fc;_0x25e843++){_0x4cd894[_0x17e8bc(0x4da)](_0x17e8bc(0xac4)+_0x25e843,undefined);}_0x4cd894[_0x17e8bc(0x4da)]('arena_item_count',undefined);}}}catch(_0x4dfcb1){console['warn'](_0x17e8bc(0x8e2),_0x4dfcb1);}}function handleArenaReconnection(_0x2b4ea1){const _0x29ffdb=_0x1d2622;try{if(!_0x2b4ea1||!_0x2b4ea1['isValid']()){console[_0x29ffdb(0x5b4)](_0x29ffdb(0xd0d));return;}const _0x3e5091=_0x2b4ea1['getDynamicProperty'](_0x29ffdb(0x298)),_0x44307b=_0x2b4ea1[_0x29ffdb(0x49d)](_0x29ffdb(0x2a1));if(_0x3e5091===!![]&&_0x44307b){const _0x313993=isPlayerInArena(_0x2b4ea1);_0x313993?console[_0x29ffdb(0x6a4)]('[ARENA]\x20Player\x20'+_0x2b4ea1[_0x29ffdb(0xa45)]+_0x29ffdb(0xc4b)):(_0x2b4ea1['setDynamicProperty']('in_arena',![]),system[_0x29ffdb(0x633)](()=>{_0x2b4ea1&&_0x2b4ea1['isValid']()&&!isPlayerInArena(_0x2b4ea1)&&clearPlayerStoredLocation(_0x2b4ea1);},0x64),console[_0x29ffdb(0x6a4)](_0x29ffdb(0x7e0)+_0x2b4ea1[_0x29ffdb(0xa45)]+_0x29ffdb(0x412)));}else{if(_0x3e5091===!![]&&!_0x44307b){const _0x3f8263=isPlayerInArena(_0x2b4ea1);!_0x3f8263?(_0x2b4ea1[_0x29ffdb(0x4da)]('in_arena',![]),clearPlayerStoredLocation(_0x2b4ea1),_0x2b4ea1[_0x29ffdb(0x34f)]('§eYou\x20have\x20left\x20the\x20Arena!'),console['log'](_0x29ffdb(0x7e0)+_0x2b4ea1[_0x29ffdb(0xa45)]+'\x20reconnected\x20outside\x20arena\x20-\x20cleaned\x20up\x20arena\x20flag')):(_0x2b4ea1[_0x29ffdb(0x34f)](_0x29ffdb(0x729)),console['log'](_0x29ffdb(0x7e0)+_0x2b4ea1['name']+'\x20reconnected\x20in\x20arena\x20-\x20no\x20stored\x20inventory\x20to\x20restore'));}}}catch(_0x5de8f5){console[_0x29ffdb(0x7bf)](_0x29ffdb(0xcff),_0x5de8f5),console['error'](_0x29ffdb(0x7dc),_0x2b4ea1),console['error'](_0x29ffdb(0x212),_0x2b4ea1?_0x2b4ea1[_0x29ffdb(0x25f)]():_0x29ffdb(0x1f9));}}function clearPlayerStoredLocation(_0x68d810){const _0xa2573c=_0x1d2622;try{_0x68d810&&_0x68d810[_0xa2573c(0x25f)]()&&(_0x68d810[_0xa2573c(0x4da)]('prev_x',undefined),_0x68d810[_0xa2573c(0x4da)](_0xa2573c(0xc8),undefined),_0x68d810[_0xa2573c(0x4da)](_0xa2573c(0x4b7),undefined),clearPlayerStoredInventory(_0x68d810),console[_0xa2573c(0x6a4)](_0xa2573c(0x6f7)+_0x68d810[_0xa2573c(0xa45)]+_0xa2573c(0x60d)));}catch(_0x353c5e){console[_0xa2573c(0x5b4)](_0xa2573c(0xa44),_0x353c5e);}}function cleanupOldArenaCoordinates(){const _0x386ac9=_0x1d2622;try{const _0x5d2543=world[_0x386ac9(0x272)]();let _0x191a57=0x0;for(const _0x2d0390 of _0x5d2543){try{const _0x5dc7e9=_0x2d0390[_0x386ac9(0x49d)](_0x386ac9(0x6dc)),_0x1060dd=_0x2d0390['getDynamicProperty'](_0x386ac9(0xc8)),_0xce51c=_0x2d0390[_0x386ac9(0x49d)](_0x386ac9(0x4b7));if(_0x5dc7e9!==undefined&&_0x1060dd!==undefined&&_0xce51c!==undefined){const _0x282099=isPlayerInArena(_0x2d0390),_0x366ff3=pendingArenaTeleports[_0x386ac9(0xb61)](_0x2d0390['id']);if(!_0x282099&&!_0x366ff3){const _0x19eb8e=_0x2d0390[_0x386ac9(0x1f2)],_0x1b02d9={'x':0xc350,'y':0x64,'z':0xc350},_0x4c6fae=Math[_0x386ac9(0x4e0)](Math['pow'](_0x19eb8e['x']-_0x1b02d9['x'],0x2)+Math[_0x386ac9(0x6bc)](_0x19eb8e['z']-_0x1b02d9['z'],0x2));_0x4c6fae>0x3e8&&(clearPlayerStoredLocation(_0x2d0390),_0x191a57++);}}const _0x4527c5=_0x2d0390[_0x386ac9(0x49d)](_0x386ac9(0x2a1));if(_0x4527c5!==undefined){const _0x1e935f=isPlayerInArena(_0x2d0390),_0x108149=pendingArenaTeleports[_0x386ac9(0xb61)](_0x2d0390['id']);if(!_0x1e935f&&!_0x108149){const _0x2e0466=_0x2d0390['location'],_0x20a32e={'x':0xc350,'y':0x64,'z':0xc350},_0x196b81=Math['sqrt'](Math[_0x386ac9(0x6bc)](_0x2e0466['x']-_0x20a32e['x'],0x2)+Math['pow'](_0x2e0466['z']-_0x20a32e['z'],0x2));_0x196b81>0x3e8&&clearPlayerStoredInventory(_0x2d0390);}}}catch(_0xe86eea){continue;}}_0x191a57>0x0&&console['log'](_0x386ac9(0x3f1)+_0x191a57+_0x386ac9(0xb0b));}catch(_0x7ed63e){console[_0x386ac9(0x5b4)]('[ARENA]\x20Error\x20in\x20periodic\x20coordinate\x20cleanup:',_0x7ed63e);}}world[_0x1d2622(0xcd5)][_0x1d2622(0x76b)]['subscribe'](_0x5caa08=>{const _0x3949db=_0x1d2622,_0x17da48=_0x5caa08['player'],_0x30aa85=_0x5caa08[_0x3949db(0xa13)];if(!_0x17da48||!_0x30aa85)return;if(_0x30aa85[_0x3949db(0x621)]===_0x3949db(0x739)){_0x5caa08['cancel']=!![];if(!isArenaEnabled()){_0x17da48['sendMessage']('§cServer\x20admins\x20have\x20disabled\x20the\x20arena');return;}const _0x4d30a7=Date[_0x3949db(0x405)](),_0xb92212=arenaTeleporterCooldowns['get'](_0x17da48['id'])||0x0;if(_0x4d30a7-_0xb92212<0x3e8)return;arenaTeleporterCooldowns[_0x3949db(0x336)](_0x17da48['id'],_0x4d30a7);if(pendingArenaTeleports[_0x3949db(0xb61)](_0x17da48['id']))return;if(arenaLoadingPlayers[_0x3949db(0xb61)](_0x17da48['id']))return;if(isPlayerInArena(_0x17da48)){arenaLoadingPlayers[_0x3949db(0x71a)](_0x17da48['id']),_0x17da48[_0x3949db(0x34f)](_0x3949db(0x9c5)),_0x17da48['setDynamicProperty']('in_arena',![]);const _0x3e9e40=getPreviousLocation(_0x17da48);console[_0x3949db(0x6a4)](_0x3949db(0x99a)+_0x17da48[_0x3949db(0xa45)]+':',_0x3e9e40),system[_0x3949db(0x631)](async()=>{const _0x263271=_0x3949db;try{if(_0x3e9e40)console[_0x263271(0x6a4)]('[ARENA]\x20Teleporting\x20'+_0x17da48[_0x263271(0xa45)]+_0x263271(0x1a1)+_0x3e9e40['x']+',\x20'+_0x3e9e40['y']+',\x20'+_0x3e9e40['z']),await _0x17da48[_0x263271(0x6ba)]('tp\x20@s\x20'+_0x3e9e40['x']+'\x20'+_0x3e9e40['y']+'\x20'+_0x3e9e40['z']);else{console['warn'](_0x263271(0x721)+_0x17da48[_0x263271(0xa45)]+_0x263271(0x605));try{await _0x17da48[_0x263271(0x6ba)](_0x263271(0xb3f)),_0x17da48['sendMessage'](_0x263271(0x5dd));}catch(_0x1da0e1){console[_0x263271(0x5b4)](_0x263271(0x526));}}if(pendingArenaTrophies[_0x263271(0xb61)](_0x17da48['name'])){const _0x3cdddf=pendingArenaTrophies[_0x263271(0xc0a)](_0x17da48['name']);system['runTimeout'](()=>{const _0x196081=_0x263271,_0x1924b2=world[_0x196081(0x272)]()[_0x196081(0x2d0)](_0x47bf83=>_0x47bf83[_0x196081(0xa45)]===_0x17da48[_0x196081(0xa45)]);_0x1924b2&&_0x1924b2['isValid']()&&(_0x1924b2[_0x196081(0x6ba)](_0x196081(0x728)+_0x3cdddf+'\x201'),pendingArenaTrophies[_0x196081(0xbcb)](_0x17da48[_0x196081(0xa45)]));},0x64);}system['runTimeout'](()=>{const _0x177685=_0x263271;_0x17da48&&_0x17da48[_0x177685(0x25f)]()&&!isPlayerInArena(_0x17da48)&&clearPlayerStoredLocation(_0x17da48);},0xc8);}catch(_0x773b03){console['error'](_0x263271(0xbec),_0x773b03),console[_0x263271(0x7bf)](_0x263271(0xb93),_0x773b03['message']),console[_0x263271(0x7bf)](_0x263271(0x7d5),_0x773b03[_0x263271(0x14d)]),_0x17da48[_0x263271(0x34f)]('§cFailed\x20to\x20teleport!\x20Error:\x20'+_0x773b03[_0x263271(0xc47)]);}finally{arenaLoadingPlayers[_0x263271(0xbcb)](_0x17da48['id']);}});return;}const _0x3b5d19={'x':_0x17da48[_0x3949db(0x1f2)]['x'],'y':_0x17da48[_0x3949db(0x1f2)]['y'],'z':_0x17da48[_0x3949db(0x1f2)]['z']};if(playerHasArmor(_0x17da48)){_0x17da48['sendMessage'](_0x3949db(0x38c));return;}if(playerHasInventoryItems(_0x17da48)){_0x17da48[_0x3949db(0x34f)](_0x3949db(0xc87));return;}savePlayerLocation(_0x17da48);let _0x2517c8=0xa;const _0x76f122=system[_0x3949db(0x613)](()=>{const _0x2b0525=_0x3949db,_0x2bd324=pendingArenaTeleports['get'](_0x17da48['id']);if(!_0x2bd324){system['clearRun'](_0x76f122);return;}const _0xb4ad82=_0x17da48['location'],_0x1ceb31=Math['sqrt'](Math[_0x2b0525(0x6bc)](_0xb4ad82['x']-_0x3b5d19['x'],0x2)+Math[_0x2b0525(0x6bc)](_0xb4ad82['y']-_0x3b5d19['y'],0x2)+Math[_0x2b0525(0x6bc)](_0xb4ad82['z']-_0x3b5d19['z'],0x2));if(_0x1ceb31>0.5){_0x17da48[_0x2b0525(0x34f)](_0x2b0525(0x1dc));const _0x5d389c=pendingArenaTeleports[_0x2b0525(0xc0a)](_0x17da48['id']);_0x5d389c&&_0x5d389c[_0x2b0525(0x626)]&&system[_0x2b0525(0xcd3)](_0x5d389c[_0x2b0525(0x626)]);pendingArenaTeleports[_0x2b0525(0xbcb)](_0x17da48['id']),_0x17da48[_0x2b0525(0x903)]['setActionBar'](''),system[_0x2b0525(0xcd3)](_0x76f122);return;}_0x2517c8--,_0x2517c8>0x0?_0x17da48[_0x2b0525(0x903)]['setActionBar'](_0x2b0525(0x326)+_0x2517c8+'...'):(system[_0x2b0525(0xcd3)](_0x76f122),system[_0x2b0525(0x631)](async()=>{const _0x223327=_0x2b0525;try{const _0xd93989=hasArenaBeenLoaded();if(!_0xd93989){await _0x17da48[_0x223327(0x6ba)](_0x223327(0x591)),_0x17da48[_0x223327(0x33d)]('slow_falling',0x4b0,{'amplifier':0x0,'showParticles':!![]});for(let _0x30d8d9=0x0;_0x30d8d9<0xa;_0x30d8d9++){system[_0x223327(0x633)](()=>{const _0xeb62d2=_0x223327;_0x17da48['isValid']()&&_0x17da48[_0xeb62d2(0x34f)]('<loading_anim>');},_0x30d8d9*0x28);}arenaLoadingPlayers['add'](_0x17da48['id']),system[_0x223327(0x633)](()=>{system['run'](async()=>{const _0x481c79=_0x4f32;try{const _0x203e52=await loadArena1Structure(_0x17da48,![]);}catch(_0xe330df){console[_0x481c79(0x7bf)](_0x481c79(0x39e),_0xe330df);}finally{arenaLoadingPlayers[_0x481c79(0xbcb)](_0x17da48['id']);}});},0x64),system[_0x223327(0x633)](()=>{const _0xbbcb9d=_0x223327;_0x17da48['isValid']()&&system[_0xbbcb9d(0x631)](async()=>{const _0x19cc4d=_0xbbcb9d;try{await _0x17da48['runCommandAsync']('tp\x20@s\x2050031.44\x20112.00\x2050007.62'),_0x17da48[_0x19cc4d(0x4da)](_0x19cc4d(0x298),!![]),clearPlayerInventory(_0x17da48),system[_0x19cc4d(0x633)](()=>{placeMonthlyTrophy();},0x64),await _0x17da48[_0x19cc4d(0x6ba)]('playsound\x20arena.enter\x20@s'),playArenaCrowdSounds(),cleanupArenaEntities(),system[_0x19cc4d(0x633)](()=>{triggerArenaSpectatorAnimations();},0x28),_0x17da48[_0x19cc4d(0x34f)]('§aWelcome\x20to\x20the\x20Arena!');}catch(_0x4a16d4){console['error']('Error\x20in\x20final\x20arena\x20teleport:',_0x4a16d4);}});},0x190);}else _0x17da48[_0x223327(0x34f)](_0x223327(0xb6e)),system[_0x223327(0x633)](()=>{const _0x5bd42b=_0x223327;_0x17da48[_0x5bd42b(0x25f)]()&&system[_0x5bd42b(0x631)](async()=>{const _0x2981ba=_0x5bd42b;try{await _0x17da48[_0x2981ba(0x6ba)](_0x2981ba(0x1d1)),_0x17da48[_0x2981ba(0x4da)](_0x2981ba(0x298),!![]),clearPlayerInventory(_0x17da48),system[_0x2981ba(0x633)](()=>{placeMonthlyTrophy();},0x64),await _0x17da48['runCommandAsync'](_0x2981ba(0xdd)),playArenaCrowdSounds(),cleanupArenaEntities(),system['runTimeout'](()=>{triggerArenaSpectatorAnimations();},0x28),_0x17da48[_0x2981ba(0x34f)](_0x2981ba(0x497));}catch(_0x5d7e34){console[_0x2981ba(0x7bf)](_0x2981ba(0x755),_0x5d7e34);}finally{arenaLoadingPlayers['delete'](_0x17da48['id']);}});},0x28);}catch(_0x313545){console[_0x223327(0x7bf)](_0x223327(0x538),_0x313545),_0x17da48['sendMessage'](_0x223327(0x3d3));}}),pendingArenaTeleports['delete'](_0x17da48['id']),_0x17da48[_0x2b0525(0x903)]['setActionBar'](''));},0x14);pendingArenaTeleports['set'](_0x17da48['id'],{'startLocation':_0x3b5d19,'startTime':Date[_0x3949db(0x405)](),'intervalId':_0x76f122});}});const activeMatches=new Map(),matchIdCounter={'value':0x1};async function showMatchManagerUI(_0x3480a5){const _0x2da42d=_0x1d2622;try{const _0x4ffbd1=new ActionFormData()[_0x2da42d(0xd1)]('§lMatch\x20Manager')[_0x2da42d(0x629)](_0x2da42d(0x64a));_0x4ffbd1[_0x2da42d(0x31f)](_0x2da42d(0x68f),_0x2da42d(0x880))[_0x2da42d(0x31f)]('§lPublic\x20Matches',_0x2da42d(0x8c8))[_0x2da42d(0x31f)](_0x2da42d(0x689),_0x2da42d(0x37e));const _0x5f2b94=await _0x4ffbd1['show'](_0x3480a5);if(_0x5f2b94['canceled'])return;switch(_0x5f2b94[_0x2da42d(0x77a)]){case 0x0:await showCreateMatchUI(_0x3480a5);break;case 0x1:await showPublicMatchesUI(_0x3480a5);break;case 0x2:await showPrivateMatchesUI(_0x3480a5);break;}}catch(_0x568767){console[_0x2da42d(0x7bf)](_0x2da42d(0x8a0),_0x568767),_0x3480a5[_0x2da42d(0x34f)](_0x2da42d(0xe7)+_0x568767[_0x2da42d(0xc47)]);}}function isPlayerInMatch(_0xe84ba8){const _0x52349a=_0x1d2622;for(const _0x3fd1d1 of activeMatches[_0x52349a(0xaf3)]()){if(_0x3fd1d1[_0x52349a(0x95d)]===_0x52349a(0x7cd)||_0x3fd1d1[_0x52349a(0x95d)]===_0x52349a(0x2d4))for(const _0x2c9c3a of Object[_0x52349a(0xaf3)](_0x3fd1d1[_0x52349a(0xc3c)])){if(_0x2c9c3a[_0x52349a(0x157)][_0x52349a(0x22d)](_0xe84ba8[_0x52349a(0xa45)]))return _0x3fd1d1;}}return null;}async function showCreateMatchUI(_0x10b159){const _0x588ef9=_0x1d2622;try{for(const _0x37cb35 of activeMatches[_0x588ef9(0xaf3)]()){if(_0x37cb35[_0x588ef9(0x95d)]==='active'){_0x10b159['sendMessage']('§cThere\x20is\x20already\x20an\x20ongoing\x20arena\x20match!\x20Wait\x20for\x20it\x20to\x20finish\x20before\x20creating\x20a\x20new\x20one.');return;}}const _0x4241e3=isPlayerInMatch(_0x10b159);if(_0x4241e3){_0x10b159[_0x588ef9(0x34f)](_0x588ef9(0xcec)),await showMatchLobbyUI(_0x10b159,_0x4241e3);return;}const _0x1a10ae=getPlayerColony(_0x10b159),_0x35fc52=_0x1a10ae?colonies[_0x588ef9(0xc0a)](_0x1a10ae):null;if(!_0x35fc52){_0x10b159[_0x588ef9(0x34f)](_0x588ef9(0xcb4));return;}const _0x3383f3=new ModalFormData()[_0x588ef9(0xd1)](_0x588ef9(0xb0f))[_0x588ef9(0x556)](_0x588ef9(0x643),_0x588ef9(0x60b),_0x35fc52['name']+_0x588ef9(0x321))[_0x588ef9(0x4d0)](_0x588ef9(0x11c),['1v1','2v2','3v3',_0x588ef9(0x94a)],0x2)[_0x588ef9(0x4d0)]('Match\x20Duration:',['5\x20Minutes'],0x0)['toggle'](_0x588ef9(0x14a),![])[_0x588ef9(0x556)]('Password\x20(if\x20private):',_0x588ef9(0x8eb),''),_0x1569b0=await _0x3383f3[_0x588ef9(0x504)](_0x10b159);if(_0x1569b0[_0x588ef9(0x9d4)])return;const [_0x302d14,_0xbab539,_0x10259d,_0x162728,_0x53a230]=_0x1569b0[_0x588ef9(0x36e)];if(!_0x302d14||_0x302d14[_0x588ef9(0x69d)]()===''){_0x10b159[_0x588ef9(0x34f)]('§cPlease\x20enter\x20a\x20match\x20name!');return;}const _0x53daae=[0x1,0x2,0x3,0x4],_0x4e81ef=[0x5],_0x1305bc=_0x53daae[_0xbab539],_0x296083=_0x1305bc*0x2,_0x44188e={'id':matchIdCounter[_0x588ef9(0x768)]++,'name':_0x302d14[_0x588ef9(0x69d)](),'type':_0x588ef9(0x1a8),'teamSize':_0x1305bc,'maxPlayers':_0x296083,'duration':0x5,'isPrivate':_0x162728,'password':_0x162728?_0x53a230:'','createdBy':_0x10b159['name'],'createdByColony':_0x35fc52[_0x588ef9(0xa45)],'createdByColonyId':_0x35fc52['id'],'createdAt':Date[_0x588ef9(0x405)](),'teams':{[_0x35fc52[_0x588ef9(0xa45)]]:{'colonyId':_0x35fc52['id'],'colonyName':_0x35fc52['name'],'players':[_0x10b159[_0x588ef9(0xa45)]],'maxSize':_0x1305bc},'opponent':{'colonyId':null,'colonyName':_0x588ef9(0x8ed),'players':[],'maxSize':_0x1305bc}},'status':_0x588ef9(0x7cd),'waitingTimeout':null};activeMatches['set'](_0x44188e['id'],_0x44188e),_0x44188e[_0x588ef9(0x1e0)]=system[_0x588ef9(0x633)](()=>{const _0x1255ec=_0x588ef9;if(_0x44188e['status']===_0x1255ec(0x7cd)){const _0x30cad5=_0x1255ec(0x322)+_0x44188e[_0x1255ec(0xa45)]+'\x22\x20has\x20been\x20cancelled\x20due\x20to\x20inactivity.';for(const _0x42d4ca of Object[_0x1255ec(0xaf3)](_0x44188e['teams'])){for(const _0x1ece0e of _0x42d4ca[_0x1255ec(0x157)]){const _0x559ca2=world['getPlayers']()['find'](_0x4245f5=>_0x4245f5[_0x1255ec(0xa45)]===_0x1ece0e);_0x559ca2&&_0x559ca2[_0x1255ec(0x34f)](_0x30cad5);}}activeMatches[_0x1255ec(0xbcb)](_0x44188e['id']),console[_0x1255ec(0x6a4)](_0x1255ec(0x7db)+_0x44188e['id']+'\x20due\x20to\x2020-minute\x20timeout');}},0x5dc0);if(!_0x162728){const _0x341849=world[_0x588ef9(0x272)]();for(const _0x496bcc of _0x341849){_0x496bcc[_0x588ef9(0x34f)]('['+_0x35fc52[_0x588ef9(0xa45)]+_0x588ef9(0x578));try{_0x496bcc[_0x588ef9(0x285)](_0x588ef9(0xcac));}catch(_0x527485){console['warn'](_0x588ef9(0xc59)+_0x496bcc[_0x588ef9(0xa45)]+':\x20'+_0x527485);}}}_0x10b159[_0x588ef9(0x34f)]('§aMatch\x20created\x20successfully!'),_0x10b159['sendMessage'](_0x588ef9(0xab4)+_0x44188e['id']),await showMatchLobbyUI(_0x10b159,_0x44188e);}catch(_0x2b9c35){console[_0x588ef9(0x7bf)](_0x588ef9(0x6c6),_0x2b9c35),_0x10b159['sendMessage'](_0x588ef9(0xa09)+_0x2b9c35[_0x588ef9(0xc47)]);}}async function showPublicMatchesUI(_0x472a4b){const _0x4b7115=_0x1d2622;try{const _0x408038=Array['from'](activeMatches[_0x4b7115(0xaf3)]())[_0x4b7115(0x7ae)](_0x38cfc5=>!_0x38cfc5[_0x4b7115(0xb77)]&&_0x38cfc5['status']===_0x4b7115(0x7cd));if(_0x408038[_0x4b7115(0xcd6)]===0x0){_0x472a4b[_0x4b7115(0x34f)]('§cNo\x20public\x20matches\x20available.\x20Create\x20one\x20to\x20get\x20started!');return;}const _0x59e6ff=new ActionFormData()['title']('§lPublic\x20Matches')['body']('Available\x20public\x20matches:\x20'+_0x408038['length']+_0x4b7115(0x164));_0x408038['forEach'](_0x39efde=>{const _0x5cd396=_0x4b7115,_0xe00446=Object[_0x5cd396(0xaf3)](_0x39efde[_0x5cd396(0xc3c)])[_0x5cd396(0x6b5)]((_0x375f69,_0x5b149d)=>_0x375f69+_0x5b149d[_0x5cd396(0x157)]['length'],0x0),_0x39822c=Object[_0x5cd396(0xaf3)](_0x39efde['teams']),_0x16bbbf=_0x39822c[_0x5cd396(0xc89)](_0x2adb15=>_0x2adb15['colonyName']+'\x20('+_0x2adb15[_0x5cd396(0x157)][_0x5cd396(0xcd6)]+'/'+_0x2adb15[_0x5cd396(0xad7)]+')')[_0x5cd396(0x36f)](_0x5cd396(0xca7));_0x59e6ff[_0x5cd396(0x31f)](_0x39efde[_0x5cd396(0xa45)]+'\x0a§7'+_0x39efde[_0x5cd396(0xa7d)]+'v'+_0x39efde['teamSize'],'textures/ui/world_glyph_color');}),_0x59e6ff[_0x4b7115(0x31f)](_0x4b7115(0x703),_0x4b7115(0x40d));const _0x1c7dea=await _0x59e6ff[_0x4b7115(0x504)](_0x472a4b);if(_0x1c7dea[_0x4b7115(0x9d4)])return;if(_0x1c7dea['selection']===_0x408038[_0x4b7115(0xcd6)]){await showMatchManagerUI(_0x472a4b);return;}const _0x29581a=_0x408038[_0x1c7dea[_0x4b7115(0x77a)]];await joinMatch(_0x472a4b,_0x29581a);}catch(_0x41e243){console[_0x4b7115(0x7bf)](_0x4b7115(0x9f7),_0x41e243),_0x472a4b[_0x4b7115(0x34f)](_0x4b7115(0x9d1)+_0x41e243[_0x4b7115(0xc47)]);}}async function showPrivateMatchesUI(_0x56a470){const _0xe68127=_0x1d2622;try{const _0x4eed7d=new ModalFormData()['title'](_0xe68127(0x278))[_0xe68127(0x556)]('Match\x20ID:',_0xe68127(0x88d),'')[_0xe68127(0x556)](_0xe68127(0x612),_0xe68127(0x8eb),''),_0xca3e71=await _0x4eed7d[_0xe68127(0x504)](_0x56a470);if(_0xca3e71[_0xe68127(0x9d4)])return;const [_0x3478a3,_0x573b66]=_0xca3e71['formValues'];if(!_0x3478a3||_0x3478a3['trim']()===''){_0x56a470[_0xe68127(0x34f)](_0xe68127(0x4f8));return;}const _0x16665b=parseInt(_0x3478a3[_0xe68127(0x69d)]()),_0x213076=activeMatches['get'](_0x16665b);if(!_0x213076){_0x56a470[_0xe68127(0x34f)]('§cMatch\x20not\x20found!\x20Please\x20check\x20the\x20Match\x20ID.');return;}if(!_0x213076['isPrivate']){_0x56a470['sendMessage'](_0xe68127(0x318));return;}if(_0x213076['status']!==_0xe68127(0x7cd)){_0x56a470[_0xe68127(0x34f)](_0xe68127(0x360));return;}if(_0x213076[_0xe68127(0xa62)]!==_0x573b66){_0x56a470[_0xe68127(0x34f)](_0xe68127(0x8ec));return;}await joinMatch(_0x56a470,_0x213076);}catch(_0x48f0b3){console[_0xe68127(0x7bf)](_0xe68127(0x2a2),_0x48f0b3),_0x56a470[_0xe68127(0x34f)](_0xe68127(0x92e)+_0x48f0b3[_0xe68127(0xc47)]);}}async function joinMatch(_0x31a333,_0xd8db1f){const _0x365e90=_0x1d2622;try{if(_0xd8db1f[_0x365e90(0x95d)]!==_0x365e90(0x7cd)){_0x31a333[_0x365e90(0x34f)](_0x365e90(0x832));return;}const _0x448bc5=Object['values'](_0xd8db1f[_0x365e90(0xc3c)])['some'](_0x5b4b50=>_0x5b4b50[_0x365e90(0x157)]['includes'](_0x31a333[_0x365e90(0xa45)]));if(_0x448bc5){_0x31a333[_0x365e90(0x34f)]('§cYou\x20are\x20already\x20in\x20this\x20match!'),await showMatchLobbyUI(_0x31a333,_0xd8db1f);return;}const _0x5ea562=getPlayerColony(_0x31a333),_0x29a4d6=_0x5ea562?colonies['get'](_0x5ea562):null;if(!_0x29a4d6){_0x31a333['sendMessage']('§cYou\x20must\x20be\x20in\x20a\x20colony\x20to\x20join\x20matches!');return;}const _0x3c9a7d=_0xd8db1f['teams'][_0xd8db1f[_0x365e90(0x724)]],_0x14d588=_0xd8db1f['teams'][_0x365e90(0xa1e)];let _0x317313=null,_0x5bda5c=null;if(_0x29a4d6['id']===_0xd8db1f[_0x365e90(0xd2)]){if(_0x3c9a7d[_0x365e90(0x157)][_0x365e90(0xcd6)]>=_0x3c9a7d[_0x365e90(0xad7)]){_0x31a333['sendMessage'](_0x365e90(0x792));return;}_0x317313=_0x3c9a7d,_0x5bda5c=_0xd8db1f['createdByColony'];}else{if(_0x14d588[_0x365e90(0x157)]['length']>=_0x14d588[_0x365e90(0xad7)]){_0x31a333[_0x365e90(0x34f)](_0x365e90(0x1ff));return;}_0x317313=_0x14d588,_0x5bda5c=_0x365e90(0xa1e);if(_0x14d588[_0x365e90(0x157)][_0x365e90(0xcd6)]===0x0)_0x14d588[_0x365e90(0x209)]=_0x29a4d6['id'],_0x14d588[_0x365e90(0xb85)]=_0x29a4d6[_0x365e90(0xa45)],_0xd8db1f[_0x365e90(0xc3c)][_0x29a4d6[_0x365e90(0xa45)]]=_0x14d588,delete _0xd8db1f[_0x365e90(0xc3c)][_0x365e90(0xa1e)],_0x5bda5c=_0x29a4d6['name'];else{const _0x36eaa4={};for(const _0x2a9bcf of _0x14d588[_0x365e90(0x157)]){const _0x537a74=world[_0x365e90(0x272)]()[_0x365e90(0x2d0)](_0x1a45ff=>_0x1a45ff[_0x365e90(0xa45)]===_0x2a9bcf);if(_0x537a74){const _0x10ed89=getPlayerColony(_0x537a74),_0xd44e4c=_0x10ed89?colonies['get'](_0x10ed89):null;_0xd44e4c&&(_0x36eaa4[_0xd44e4c['id']]=(_0x36eaa4[_0xd44e4c['id']]||0x0)+0x1);}}_0x36eaa4[_0x29a4d6['id']]=(_0x36eaa4[_0x29a4d6['id']]||0x0)+0x1;let _0x1ec059=null,_0x4052ac=0x0;for(const [_0x2669ed,_0x1015de]of Object[_0x365e90(0x74e)](_0x36eaa4)){_0x1015de>_0x4052ac&&(_0x4052ac=_0x1015de,_0x1ec059=_0x2669ed);}if(_0x1ec059&&_0x1ec059!==_0x14d588[_0x365e90(0x209)]){const _0x218165=colonies[_0x365e90(0xc0a)](_0x1ec059);if(_0x218165){const _0x1218ca=_0x14d588['colonyName'];_0x14d588[_0x365e90(0x209)]=_0x218165['id'],_0x14d588[_0x365e90(0xb85)]=_0x218165[_0x365e90(0xa45)],_0xd8db1f[_0x365e90(0xc3c)][_0x1218ca]&&(_0xd8db1f[_0x365e90(0xc3c)][_0x218165[_0x365e90(0xa45)]]=_0xd8db1f[_0x365e90(0xc3c)][_0x1218ca],delete _0xd8db1f[_0x365e90(0xc3c)][_0x1218ca]),_0x5bda5c=_0x218165[_0x365e90(0xa45)];}}else _0x5bda5c=_0x14d588[_0x365e90(0xb85)];}}_0x317313['players'][_0x365e90(0x9bb)](_0x31a333['name']);const _0x54425c=Object[_0x365e90(0xaf3)](_0xd8db1f[_0x365e90(0xc3c)])[_0x365e90(0x6b5)]((_0x5365a0,_0x2a7ab7)=>_0x5365a0+_0x2a7ab7['players'][_0x365e90(0xcd6)],0x0),_0x10d188='§a'+_0x31a333[_0x365e90(0xa45)]+_0x365e90(0x5f4)+_0x5bda5c+_0x365e90(0x276)+_0x54425c+'/'+_0xd8db1f[_0x365e90(0x10d)]+')';for(const _0x56401c of Object['values'](_0xd8db1f[_0x365e90(0xc3c)])){for(const _0x2e4d02 of _0x56401c[_0x365e90(0x157)]){const _0x3e89ac=world[_0x365e90(0x272)]()[_0x365e90(0x2d0)](_0x5a88e3=>_0x5a88e3['name']===_0x2e4d02);_0x3e89ac&&_0x3e89ac[_0x365e90(0x34f)](_0x10d188);}}await showMatchLobbyUI(_0x31a333,_0xd8db1f);}catch(_0x589497){console[_0x365e90(0x7bf)](_0x365e90(0x9b3),_0x589497),_0x31a333[_0x365e90(0x34f)](_0x365e90(0x173)+_0x589497[_0x365e90(0xc47)]);}}async function showMatchLobbyUI(_0x298e32,_0x5cbf6d){const _0x5056ac=_0x1d2622;try{const _0x4726d0=_0x5cbf6d['createdBy']===_0x298e32[_0x5056ac(0xa45)];let _0x5985fb='';const _0x39dbce=Object[_0x5056ac(0x74e)](_0x5cbf6d[_0x5056ac(0xc3c)]),_0x1d8d40=Object[_0x5056ac(0xaf3)](_0x5cbf6d[_0x5056ac(0xc3c)])['reduce']((_0x116361,_0x3a833f)=>_0x116361+_0x3a833f['players'][_0x5056ac(0xcd6)],0x0);for(const [_0x21b1cd,_0x33413e]of _0x39dbce){_0x5985fb+='\x0a'+_0x33413e[_0x5056ac(0xb85)]+'\x20('+_0x33413e[_0x5056ac(0x157)][_0x5056ac(0xcd6)]+'/'+_0x33413e['maxSize']+_0x5056ac(0xc26),_0x33413e['players'][_0x5056ac(0xcd6)]===0x0?_0x5985fb+=_0x5056ac(0xb5f):_0x33413e[_0x5056ac(0x157)][_0x5056ac(0x2c2)](_0x5ebf78=>{const _0xf4ebb2=_0x5056ac;_0x5985fb+=_0xf4ebb2(0x733)+_0x5ebf78+'\x0a';});}const _0x5bde6=_0x39dbce[_0x5056ac(0x817)](([,_0x2e24cd])=>_0x2e24cd[_0x5056ac(0x157)][_0x5056ac(0xcd6)]>0x0)&&_0x1d8d40>=0x2,_0x183775=new ActionFormData()['title']('§l'+_0x5cbf6d[_0x5056ac(0xa45)])['body']('Type:\x20'+_0x5cbf6d[_0x5056ac(0x9a5)]+_0x5056ac(0x189)+_0x5cbf6d['teamSize']+'v'+_0x5cbf6d['teamSize']+_0x5056ac(0x1d0)+_0x5cbf6d[_0x5056ac(0x52f)]+'\x20minutes\x0aStatus:\x20'+_0x5cbf6d[_0x5056ac(0x95d)]+_0x5056ac(0x977)+_0x1d8d40+'/'+_0x5cbf6d[_0x5056ac(0x10d)]+'\x0a'+_0x5985fb);_0x4726d0&&_0x5bde6&&_0x183775['button']('§lStart\x20Match',_0x5056ac(0x933));_0x183775[_0x5056ac(0x31f)](_0x5056ac(0xfa),'textures/ui/cancel')[_0x5056ac(0x31f)](_0x5056ac(0x25e),_0x5056ac(0xd9));const _0x3ba4a2=await _0x183775[_0x5056ac(0x504)](_0x298e32);if(_0x3ba4a2[_0x5056ac(0x9d4)])return;let _0x1b8776=0x0;if(_0x4726d0&&_0x5bde6){if(_0x3ba4a2[_0x5056ac(0x77a)]===_0x1b8776++){await startMatch(_0x298e32,_0x5cbf6d);return;}}if(_0x3ba4a2[_0x5056ac(0x77a)]===_0x1b8776++){await leaveMatch(_0x298e32,_0x5cbf6d);return;}if(_0x3ba4a2['selection']===_0x1b8776++){const _0x214660=activeMatches[_0x5056ac(0xc0a)](_0x5cbf6d['id']);_0x214660?await showMatchLobbyUI(_0x298e32,_0x214660):_0x298e32[_0x5056ac(0x34f)](_0x5056ac(0x2f5));return;}}catch(_0x32417e){console[_0x5056ac(0x7bf)]('Error\x20in\x20showMatchLobbyUI:',_0x32417e),_0x298e32[_0x5056ac(0x34f)]('§cError\x20loading\x20match\x20lobby:\x20'+_0x32417e['message']);}}async function leaveMatch(_0x4eb4ee,_0x55f6e3){const _0x5edca1=_0x1d2622;try{let _0x4c89d0=null,_0x2804e4=null;for(const [_0x24be8e,_0x117963]of Object['entries'](_0x55f6e3[_0x5edca1(0xc3c)])){const _0x11e991=_0x117963['players'][_0x5edca1(0x5f9)](_0x4eb4ee['name']);if(_0x11e991!==-0x1){_0x4c89d0=_0x24be8e,_0x2804e4=_0x117963,_0x117963['players'][_0x5edca1(0x1d7)](_0x11e991,0x1);break;}}if(!_0x2804e4){_0x4eb4ee[_0x5edca1(0x34f)](_0x5edca1(0x1dd));return;}const _0x3699ac=Object[_0x5edca1(0xaf3)](_0x55f6e3['teams'])[_0x5edca1(0x6b5)]((_0x52a3f5,_0x7222f9)=>_0x52a3f5+_0x7222f9[_0x5edca1(0x157)][_0x5edca1(0xcd6)],0x0);if(_0x55f6e3[_0x5edca1(0xba3)]===_0x4eb4ee[_0x5edca1(0xa45)]&&_0x3699ac>0x0){let _0x1f7ebe=null;for(const _0x85e353 of Object[_0x5edca1(0xaf3)](_0x55f6e3['teams'])){if(_0x85e353[_0x5edca1(0x157)][_0x5edca1(0xcd6)]>0x0){_0x1f7ebe=_0x85e353['players'][0x0];break;}}if(_0x1f7ebe){_0x55f6e3[_0x5edca1(0xba3)]=_0x1f7ebe;const _0x44e71c=world[_0x5edca1(0x272)]()[_0x5edca1(0x2d0)](_0xfe1d3c=>_0xfe1d3c[_0x5edca1(0xa45)]===_0x1f7ebe);_0x44e71c&&_0x44e71c['sendMessage'](_0x5edca1(0x805));}}_0x3699ac===0x0&&(_0x55f6e3[_0x5edca1(0x1e0)]&&system[_0x5edca1(0xcd3)](_0x55f6e3[_0x5edca1(0x1e0)]),activeMatches[_0x5edca1(0xbcb)](_0x55f6e3['id']));const _0x5cda9e='§c'+_0x4eb4ee['name']+_0x5edca1(0x87d)+_0x2804e4[_0x5edca1(0xb85)]+_0x5edca1(0xc24)+_0x3699ac+'/'+_0x55f6e3[_0x5edca1(0x10d)]+')';for(const _0x1443e1 of Object[_0x5edca1(0xaf3)](_0x55f6e3[_0x5edca1(0xc3c)])){for(const _0x59e8d6 of _0x1443e1[_0x5edca1(0x157)]){const _0x269f91=world[_0x5edca1(0x272)]()[_0x5edca1(0x2d0)](_0x54e9de=>_0x54e9de[_0x5edca1(0xa45)]===_0x59e8d6);_0x269f91&&_0x269f91[_0x5edca1(0x34f)](_0x5cda9e);}}_0x4eb4ee[_0x5edca1(0x34f)](_0x5edca1(0x6ce)),await showMatchManagerUI(_0x4eb4ee);}catch(_0x58c323){console[_0x5edca1(0x7bf)](_0x5edca1(0x690),_0x58c323),_0x4eb4ee[_0x5edca1(0x34f)](_0x5edca1(0x2db)+_0x58c323[_0x5edca1(0xc47)]);}}async function startMatch(_0x14b7a7,_0x34e01b){const _0x2cc117=_0x1d2622;try{if(_0x34e01b[_0x2cc117(0xba3)]!==_0x14b7a7[_0x2cc117(0xa45)]){_0x14b7a7[_0x2cc117(0x34f)](_0x2cc117(0x101));return;}for(const _0x1839ba of activeMatches[_0x2cc117(0xaf3)]()){if(_0x1839ba[_0x2cc117(0x95d)]===_0x2cc117(0x2d4)&&_0x1839ba['id']!==_0x34e01b['id']){_0x14b7a7[_0x2cc117(0x34f)](_0x2cc117(0xfe));return;}}const _0x3488d2=Object[_0x2cc117(0xaf3)](_0x34e01b[_0x2cc117(0xc3c)]),_0x2ec1be=_0x3488d2[_0x2cc117(0x6b5)]((_0x5f4090,_0x47069e)=>_0x5f4090+_0x47069e[_0x2cc117(0x157)][_0x2cc117(0xcd6)],0x0),_0x2107bf=_0x3488d2[_0x2cc117(0x7ae)](_0x142bb4=>_0x142bb4[_0x2cc117(0x157)][_0x2cc117(0xcd6)]>0x0);if(_0x2ec1be<0x2||_0x2107bf['length']<0x2){_0x14b7a7['sendMessage'](_0x2cc117(0x3ce));return;}if(_0x2107bf[_0x2cc117(0xcd6)]===0x2&&_0x2107bf[0x0][_0x2cc117(0x209)]===_0x2107bf[0x1][_0x2cc117(0x209)]){_0x14b7a7[_0x2cc117(0x34f)]('§cCannot\x20start\x20match:\x20Both\x20teams\x20are\x20from\x20the\x20same\x20colony!\x20Need\x20players\x20from\x20different\x20colonies\x20on\x20opposing\x20teams.');return;}_0x34e01b[_0x2cc117(0x1e0)]&&(system[_0x2cc117(0xcd3)](_0x34e01b[_0x2cc117(0x1e0)]),_0x34e01b[_0x2cc117(0x1e0)]=null);_0x34e01b['status']=_0x2cc117(0x2d4),_0x34e01b[_0x2cc117(0x678)]=Date[_0x2cc117(0x405)](),_0x34e01b[_0x2cc117(0x1c8)]={},_0x34e01b[_0x2cc117(0x99d)]={},_0x34e01b['playerLives']={};const _0x52d812=_0x3488d2[_0x2cc117(0x2d0)](_0x1a0171=>_0x1a0171[_0x2cc117(0xb85)]===_0x34e01b['createdByColony'])?.['colonyId'],_0x587195=_0x3488d2[_0x2cc117(0x2d0)](_0x85d0a4=>_0x85d0a4[_0x2cc117(0x209)]===_0x52d812),_0x59227b=_0x3488d2[_0x2cc117(0x2d0)](_0xa2e2d4=>_0xa2e2d4[_0x2cc117(0x209)]!==_0x52d812);_0x34e01b['scores'][_0x587195['colonyName']]=0x0,_0x34e01b[_0x2cc117(0x1c8)][_0x59227b[_0x2cc117(0xb85)]]=0x0;const _0x4256d5=[];for(const _0x819971 of _0x587195['players']){const _0x11c111=world[_0x2cc117(0x272)]()[_0x2cc117(0x2d0)](_0x1f6e31=>_0x1f6e31['name']===_0x819971);_0x11c111&&(_0x11c111[_0x2cc117(0x54b)]({'x':50014.5,'y':0x68,'z':50046.5}),_0x4256d5['push'](_0x11c111),_0x34e01b['playerLives'][_0x819971]=0x3,_0x34e01b[_0x2cc117(0x99d)][_0x819971]=0x0);}const _0x19e37d=[];for(const _0x521ea9 of _0x59227b[_0x2cc117(0x157)]){const _0x1b98f7=world[_0x2cc117(0x272)]()[_0x2cc117(0x2d0)](_0xb8d299=>_0xb8d299[_0x2cc117(0xa45)]===_0x521ea9);_0x1b98f7&&(_0x1b98f7[_0x2cc117(0x54b)]({'x':50052.38,'y':0x69,'z':50014.54}),_0x19e37d[_0x2cc117(0x9bb)](_0x1b98f7),_0x34e01b[_0x2cc117(0xf5)][_0x521ea9]=0x3,_0x34e01b[_0x2cc117(0x99d)][_0x521ea9]=0x0);}const _0x554256=[..._0x4256d5,..._0x19e37d];for(const _0x48f655 of _0x554256){_0x48f655['addEffect'](_0x2cc117(0x5a0),0x258,{'amplifier':0xff});const _0x2923f3=_0x48f655[_0x2cc117(0x299)](_0x2cc117(0xd17))['container'];for(let _0x5247cd=0x0;_0x5247cd<_0x2923f3[_0x2cc117(0x5c1)];_0x5247cd++){_0x2923f3[_0x2cc117(0xbc1)](_0x5247cd,undefined);}const _0x197c90=new ItemStack(_0x2cc117(0x9c7),0x1),_0xd02424=new ItemStack(_0x2cc117(0x974),0x1),_0x3f4f00=new ItemStack('minecraft:iron_chestplate',0x1),_0x421cc3=new ItemStack(_0x2cc117(0x2d5),0x1),_0x4bbfc0=new ItemStack(_0x2cc117(0x3b8),0x1),_0x40a271=new ItemStack('minecraft:bow',0x1),_0x1af5d9=new ItemStack(_0x2cc117(0xef),0x10),_0x587967=new ItemStack(_0x2cc117(0xa67),0x1),_0x31ea45=new ItemStack('minecraft:bread',0x20);_0x2923f3[_0x2cc117(0x3c5)](_0x197c90),_0x2923f3['addItem'](_0xd02424),_0x2923f3['addItem'](_0x3f4f00),_0x2923f3[_0x2cc117(0x3c5)](_0x421cc3),_0x2923f3['addItem'](_0x4bbfc0),_0x2923f3[_0x2cc117(0x3c5)](_0x40a271),_0x2923f3[_0x2cc117(0x3c5)](_0x1af5d9),_0x2923f3['addItem'](_0x587967),_0x2923f3[_0x2cc117(0x3c5)](_0x31ea45);}system[_0x2cc117(0x631)](()=>{const _0xca9394=_0x2cc117;try{const _0xaebd24=world[_0xca9394(0xbc8)](_0xca9394(0x182));_0xaebd24[_0xca9394(0x6ba)](_0xca9394(0xc79)),console[_0xca9394(0x5b4)](_0xca9394(0x120));}catch(_0x1307b8){console[_0xca9394(0x7bf)](_0xca9394(0x90a),_0x1307b8);}}),displayArenaSubtitles(_0x554256),system[_0x2cc117(0x633)](()=>{startArenaScoreboard(_0x34e01b,_0x554256);},0x1b*0x14),handleArenaCameraTransitions(_0x554256,_0x4256d5,_0x19e37d),system['runTimeout'](()=>{setArenaTeamFlags(_0x587195,_0x59227b);},0x64),system[_0x2cc117(0x633)](()=>{checkMatchEnd(_0x34e01b);},_0x34e01b[_0x2cc117(0x52f)]*0x3c*0x14);}catch(_0x358dde){console[_0x2cc117(0x7bf)](_0x2cc117(0x5c4),_0x358dde),_0x14b7a7['sendMessage'](_0x2cc117(0x1ac)+_0x358dde[_0x2cc117(0xc47)]);}}function checkMatchEnd(_0xa02086){const _0x59e0=_0x1d2622;try{const _0x3e7569=Object[_0x59e0(0xaf3)](_0xa02086['teams']),_0x6074f5=_0x3e7569[0x0],_0x56ec36=_0x3e7569[0x1],_0xa4da9b=_0xa02086['scores'][_0x6074f5['colonyName']]||0x0,_0x5cbd4e=_0xa02086['scores'][_0x56ec36[_0x59e0(0xb85)]]||0x0;if(_0xa4da9b===_0x5cbd4e){_0xa02086['suddenDeath']=!![];for(const _0x149246 of _0x3e7569){for(const _0x2ef36c of _0x149246['players']){const _0x51fea8=world['getPlayers']()[_0x59e0(0x2d0)](_0x1cd034=>_0x1cd034[_0x59e0(0xa45)]===_0x2ef36c);_0x51fea8&&(_0x51fea8[_0x59e0(0x34f)]('§c§lSUDDEN\x20DEATH!\x20§7Next\x20kill\x20wins!'),_0x51fea8['onScreenDisplay'][_0x59e0(0x3db)](_0x59e0(0x94f)));}}}else endMatch(_0xa02086);}catch(_0x338564){console[_0x59e0(0x7bf)](_0x59e0(0x384),_0x338564),endMatch(_0xa02086);}}function endMatch(_0x2fa35c,_0x23a317=null){const _0x3c27ca=_0x1d2622;try{_0x2fa35c[_0x3c27ca(0x95d)]=_0x3c27ca(0xbd5),_0x2fa35c['endedAt']=Date[_0x3c27ca(0x405)]();try{const _0x4d5334=world[_0x3c27ca(0xbc8)](_0x3c27ca(0x182)),_0x205992=_0x4d5334[_0x3c27ca(0xb28)]({'x':0xc36f,'y':0x67,'z':0xc36f});_0x205992&&_0x205992[_0x3c27ca(0xaf8)][_0x3c27ca(0x6ba)](_0x3c27ca(0x38d)+_0x205992['location']['x']+'\x20'+_0x205992[_0x3c27ca(0x1f2)]['y']+'\x20'+_0x205992[_0x3c27ca(0x1f2)]['z']+_0x3c27ca(0x4a1));}catch(_0x30118d){console['warn']('Failed\x20to\x20play\x20arena\x20victory\x20sound:',_0x30118d);}_0x2fa35c[_0x3c27ca(0x697)]&&system[_0x3c27ca(0xcd3)](_0x2fa35c[_0x3c27ca(0x697)]);const _0x24cf15=Object['values'](_0x2fa35c[_0x3c27ca(0xc3c)]),_0x1723c0=_0x24cf15[0x0],_0x33ec69=_0x24cf15[0x1],_0x47924f=_0x2fa35c[_0x3c27ca(0x1c8)][_0x1723c0['colonyName']]||0x0,_0x19c46d=_0x2fa35c['scores'][_0x33ec69[_0x3c27ca(0xb85)]]||0x0,_0x176e86=[_0x3c27ca(0xc3b),_0x3c27ca(0xc66),'March','April',_0x3c27ca(0x92a),_0x3c27ca(0x688),_0x3c27ca(0x7bc),'August',_0x3c27ca(0xc1d),_0x3c27ca(0x4f9),'November','December'],_0x3c7bf5=new Date(),_0x553c2a=_0x176e86[_0x3c7bf5['getMonth']()];let _0x29ab67=null,_0x47d073=0x0,_0x306d12=0x0,_0x18c008=[];if(_0x23a317){_0x29ab67=_0x23a317,_0x47d073=_0x29ab67===_0x1723c0[_0x3c27ca(0xb85)]?_0x47924f:_0x19c46d,_0x306d12=_0x29ab67===_0x1723c0['colonyName']?_0x19c46d:_0x47924f;const _0x4ff992=_0x29ab67===_0x1723c0['colonyName']?_0x33ec69:_0x1723c0;_0x18c008=[_0x4ff992[_0x3c27ca(0xb85)]];}else{if(_0x47924f>_0x19c46d)_0x29ab67=_0x1723c0[_0x3c27ca(0xb85)],_0x47d073=_0x47924f,_0x306d12=_0x19c46d,_0x18c008=[_0x33ec69[_0x3c27ca(0xb85)]];else _0x19c46d>_0x47924f&&(_0x29ab67=_0x33ec69[_0x3c27ca(0xb85)],_0x47d073=_0x19c46d,_0x306d12=_0x47924f,_0x18c008=[_0x1723c0[_0x3c27ca(0xb85)]]);}let _0x57e075='';if(_0x18c008['length']===0x1)_0x57e075=_0x18c008[0x0];else{if(_0x18c008['length']===0x2)_0x57e075=_0x18c008[0x0]+_0x3c27ca(0xb89)+_0x18c008[0x1];else _0x18c008[_0x3c27ca(0xcd6)]>0x2&&(_0x57e075=_0x18c008[_0x3c27ca(0x8e3)](0x0,-0x1)[_0x3c27ca(0x36f)](',\x20')+_0x3c27ca(0xbf4)+_0x18c008[_0x18c008[_0x3c27ca(0xcd6)]-0x1]);}let _0x57452f='';_0x29ab67?_0x57452f='§l'+_0x29ab67+'§r\x20has\x20conquered\x20the\x20§e'+_0x553c2a+'§r\x20arena,\x20and\x20defeated\x20'+_0x57e075+'§r\x20§b'+_0x47d073+_0x3c27ca(0x1a0)+_0x306d12+'§r':_0x57452f=_0x3c27ca(0x492)+_0x47924f+_0x3c27ca(0x2ef)+_0x19c46d;const _0x72fc60=_0x3c7bf5['getMonth'](),_0x450a01={0x0:_0x3c27ca(0xcc),0x1:_0x3c27ca(0x9b6),0x2:_0x3c27ca(0xab0),0x3:_0x3c27ca(0x833),0x4:'jerrys_colonies:trophy_cinco_de_mayo',0x5:_0x3c27ca(0x83b),0x6:'jerrys_colonies:trophy_sparkleburst',0x7:_0x3c27ca(0x740),0x8:_0x3c27ca(0x39c),0x9:_0x3c27ca(0x218),0xa:_0x3c27ca(0x79e),0xb:_0x3c27ca(0x461)},_0x38e6b5=_0x450a01[_0x72fc60],_0x53528d=_0x3c27ca(0xc9)+_0x57452f;for(const _0xb31936 of world['getAllPlayers']()){_0xb31936['sendMessage'](_0x53528d);try{_0xb31936[_0x3c27ca(0x285)](_0x3c27ca(0xd0c));}catch(_0x1fa993){console[_0x3c27ca(0x5b4)](_0x3c27ca(0x93b),_0x1fa993);}}for(const _0x40773e of Object[_0x3c27ca(0xaf3)](_0x2fa35c[_0x3c27ca(0xc3c)])){const _0xbe7dab=_0x29ab67&&_0x40773e[_0x3c27ca(0xb85)]===_0x29ab67;let _0x1a521a;_0x40773e['colonyName']===_0x1723c0[_0x3c27ca(0xb85)]?_0x1a521a={'x':50014.5,'y':0x68,'z':50046.5}:_0x1a521a={'x':50052.38,'y':0x69,'z':50014.54};for(const _0x47bfc6 of _0x40773e['players']){const _0x51cdf4=world[_0x3c27ca(0x272)]()['find'](_0x46b1be=>_0x46b1be['name']===_0x47bfc6);_0x51cdf4&&(_0x51cdf4[_0x3c27ca(0x903)][_0x3c27ca(0xc64)](''),_0x51cdf4[_0x3c27ca(0x54b)](_0x1a521a),_0xbe7dab&&_0x38e6b5&&(pendingArenaTrophies['set'](_0x47bfc6,_0x38e6b5),_0x51cdf4[_0x3c27ca(0x34f)](_0x3c27ca(0x3d2))));}}_0x2fa35c[_0x3c27ca(0x1e0)]&&(system['clearRun'](_0x2fa35c[_0x3c27ca(0x1e0)]),delete _0x2fa35c[_0x3c27ca(0x1e0)]),system[_0x3c27ca(0x633)](()=>{const _0x185477=_0x3c27ca;activeMatches[_0x185477(0xbcb)](_0x2fa35c['id']);},0x1770);}catch(_0x9e5bab){console[_0x3c27ca(0x7bf)]('Error\x20in\x20endMatch:',_0x9e5bab);}}async function setArenaTeamFlags(_0x3407c8,_0x419ea5){const _0x209ced=_0x1d2622;try{const _0x59b030=world['getDimension'](_0x209ced(0x182));if(!_0x59b030)return;const _0x2925de={'x':50014.5,'y':0x68,'z':50046.5},_0x1faf25={'x':50052.38,'y':0x69,'z':50014.54},_0x57826f=_0x59b030[_0x209ced(0xc8f)]({'type':_0x209ced(0xc1e),'location':ARENA_CENTER,'maxDistance':ARENA_SEARCH_RADIUS}),_0x894098=colonies['get'](_0x3407c8[_0x209ced(0x209)]),_0x46e207=colonies[_0x209ced(0xc0a)](_0x419ea5['colonyId']);if(!_0x894098||!_0x46e207){console['warn'](_0x209ced(0x395));return;}const _0x39d7b2={0x0:_0x209ced(0xc67),0x1:_0x209ced(0xe2),0x2:_0x209ced(0x397),0x3:_0x209ced(0x259),0x4:'set_yellow',0x5:_0x209ced(0x187),0x6:'set_purple',0x7:_0x209ced(0x5aa),0x8:_0x209ced(0x777),0x9:_0x209ced(0x814),0xa:_0x209ced(0xbf7),0xb:'set_brown',0xc:_0x209ced(0x1e7),0xd:'set_light_blue',0xe:_0x209ced(0x7d0),0xf:'set_magenta'},_0x2bca80=[_0x209ced(0xc08),_0x209ced(0x7fe),'set_china',_0x209ced(0xc0c),_0x209ced(0x920),'set_egypt',_0x209ced(0x14c),_0x209ced(0xa81),_0x209ced(0x281),_0x209ced(0x392),_0x209ced(0x4c5),_0x209ced(0xc8a),'set_italy',_0x209ced(0x70a),_0x209ced(0x3ee),_0x209ced(0x9d3),_0x209ced(0x4a2),_0x209ced(0xa2f),_0x209ced(0x4f0),_0x209ced(0xcbd),'set_russia',_0x209ced(0x158),_0x209ced(0x7b8),_0x209ced(0xb7a),_0x209ced(0xc40),'set_thailand',_0x209ced(0x350),_0x209ced(0xff),_0x209ced(0x53d),_0x209ced(0x481),'set_poland',_0x209ced(0x443),'set_new_zealand','set_greece','set_sweden',_0x209ced(0xcbe),_0x209ced(0xa94),_0x209ced(0xbb5),'set_intelligent',_0x209ced(0xc55),_0x209ced(0x7a1),_0x209ced(0x141),_0x209ced(0x939),_0x209ced(0xc56),_0x209ced(0xc28),_0x209ced(0x8df),_0x209ced(0x4ce),'set_control',_0x209ced(0xa32),_0x209ced(0x3f4),_0x209ced(0xa1d),_0x209ced(0x6a2),_0x209ced(0xb60),_0x209ced(0x718),_0x209ced(0x3cd),_0x209ced(0x992),_0x209ced(0x325),'set_royal'];let _0x20cc47=_0x894098[_0x209ced(0x16a)]?.['event']||_0x39d7b2[_0x894098[_0x209ced(0x16a)]?.[_0x209ced(0x768)]]||'set_white',_0xc44d11=_0x46e207[_0x209ced(0x16a)]?.[_0x209ced(0x76c)]||_0x39d7b2[_0x46e207[_0x209ced(0x16a)]?.[_0x209ced(0x768)]]||_0x209ced(0xc67);_0x20cc47&&!_0x39d7b2[_0x894098[_0x209ced(0x16a)]?.[_0x209ced(0x768)]]&&!_0x2bca80[_0x209ced(0x22d)](_0x20cc47)&&(_0x20cc47=_0x39d7b2[_0x894098[_0x209ced(0x16a)]?.[_0x209ced(0x768)]]||_0x209ced(0xc67));_0xc44d11&&!_0x39d7b2[_0x46e207['color']?.['value']]&&!_0x2bca80[_0x209ced(0x22d)](_0xc44d11)&&(_0xc44d11=_0x39d7b2[_0x46e207[_0x209ced(0x16a)]?.['value']]||_0x209ced(0xc67));for(const _0x255ca2 of _0x57826f){const _0x8be71e=_0x255ca2[_0x209ced(0x1f2)],_0x4083f9=Math[_0x209ced(0x4e0)](Math[_0x209ced(0x6bc)](_0x8be71e['x']-_0x2925de['x'],0x2)+Math[_0x209ced(0x6bc)](_0x8be71e['y']-_0x2925de['y'],0x2)+Math[_0x209ced(0x6bc)](_0x8be71e['z']-_0x2925de['z'],0x2)),_0xff9f2d=Math[_0x209ced(0x4e0)](Math['pow'](_0x8be71e['x']-_0x1faf25['x'],0x2)+Math[_0x209ced(0x6bc)](_0x8be71e['y']-_0x1faf25['y'],0x2)+Math['pow'](_0x8be71e['z']-_0x1faf25['z'],0x2));_0x4083f9<_0xff9f2d?(_0x255ca2[_0x209ced(0xbd0)](_0x20cc47),console['log'](_0x209ced(0x1ec)+_0x20cc47)):(_0x255ca2['triggerEvent'](_0xc44d11),console['log']('Set\x20cosmetic\x20flag\x20near\x20team\x202\x20to\x20'+_0xc44d11));}console[_0x209ced(0x6a4)](_0x209ced(0x5bc)+_0x57826f[_0x209ced(0xcd6)]+_0x209ced(0xb25));}catch(_0x4f2d0d){console[_0x209ced(0x7bf)]('Error\x20setting\x20arena\x20team\x20flags:',_0x4f2d0d);}}world[_0x1d2622(0xcd5)]&&world[_0x1d2622(0xcd5)][_0x1d2622(0x3ba)]&&world[_0x1d2622(0xcd5)][_0x1d2622(0x3ba)][_0x1d2622(0xba5)](_0x216b06=>{const _0x2a315d=_0x1d2622,_0x4b2527=_0x216b06[_0x2a315d(0xb8f)],_0x3d311d=_0x216b06[_0x2a315d(0xa13)];if(!_0x4b2527||!_0x3d311d)return;if(_0x3d311d[_0x2a315d(0x621)]===_0x2a315d(0xa7f)){const _0x361a84=getBlockLocationKey(_0x3d311d),_0x31282a=mailboxInventories[_0x2a315d(0xc0a)](_0x361a84)||[];let _0x49aa40=null;for(const [_0x204530,_0xdbec82]of playerMailboxes){const _0x5b1dd6=_0xdbec82[_0x2a315d(0x1f2)]['x']+','+_0xdbec82['location']['y']+','+_0xdbec82[_0x2a315d(0x1f2)]['z'];if(_0x5b1dd6===_0x361a84){_0x49aa40=_0x204530;break;}}if(_0x49aa40&&_0x49aa40!==_0x4b2527['id']&&!_0x4b2527['hasTag'](_0x2a315d(0x252))){_0x216b06[_0x2a315d(0xc21)]=!![],_0x4b2527[_0x2a315d(0x34f)](_0x2a315d(0x4be));return;}console['log'](_0x2a315d(0x483)+_0x361a84+_0x2a315d(0xe6)+_0x31282a[_0x2a315d(0xcd6)]+'\x20items'),_0x31282a[_0x2a315d(0xcd6)]>0x0&&system[_0x2a315d(0x631)](()=>{const _0x4734c8=_0x2a315d;for(const _0x100178 of _0x31282a){const _0xbf03e=new ItemStack(_0x100178['typeId'],_0x100178[_0x4734c8(0x8f0)]);try{const _0x4507a4=_0x4b2527[_0x4734c8(0x299)](_0x4734c8(0xd17))[_0x4734c8(0x26e)];_0x4507a4[_0x4734c8(0x3c5)](_0xbf03e);}catch(_0x10b753){_0x4b2527[_0x4734c8(0x34f)]('§e'+_0x100178['typeId'][_0x4734c8(0x15a)]('minecraft:','')[_0x4734c8(0x15a)](/_/g,'\x20')+'\x20x'+_0x100178['amount']+_0x4734c8(0xc51));}}_0x4b2527[_0x4734c8(0x34f)](_0x4734c8(0xcce)+_0x31282a[_0x4734c8(0xcd6)]+_0x4734c8(0x672));}),system[_0x2a315d(0x631)](()=>{const _0x30c51f=_0x2a315d;mailboxInventories[_0x30c51f(0xbcb)](_0x361a84);if(_0x49aa40){playerMailboxes[_0x30c51f(0xbcb)](_0x49aa40);for(const [_0x49391e,_0x9a61ac]of pendingDeliveries){if(_0x9a61ac['recipientId']===_0x49aa40){system[_0x30c51f(0xcd3)](_0x9a61ac[_0x30c51f(0xb02)]),pendingDeliveries['delete'](_0x49391e);const _0x2a6010=world[_0x30c51f(0x241)]()[_0x30c51f(0x2d0)](_0x5d0f0e=>_0x5d0f0e['id']===_0x9a61ac[_0x30c51f(0x9e8)]);_0x2a6010&&_0x2a6010[_0x30c51f(0x34f)]('§cYour\x20delivery\x20to\x20'+_0x9a61ac[_0x30c51f(0x126)]+'\x20was\x20cancelled\x20because\x20their\x20mailbox\x20was\x20broken.');}}saveMailboxData(),_0x4b2527[_0x30c51f(0x34f)]('§aMailbox\x20broken');}});}if(_0x3d311d[_0x2a315d(0x621)]===_0x2a315d(0x6b9)){const _0x2178d5=getBlockLocationKey(_0x3d311d),_0x127a76=Math['floor'](_0x3d311d[_0x2a315d(0x1f2)]['x']),_0xe14979=Math[_0x2a315d(0x648)](_0x3d311d['location']['y']),_0x1d433e=Math[_0x2a315d(0x648)](_0x3d311d[_0x2a315d(0x1f2)]['z']),_0x56eeca=getColonyAtLocation(_0x3d311d[_0x2a315d(0x1f2)]);if(_0x56eeca&&_0x56eeca[_0x2a315d(0x59f)]){const _0x758dfa=_0x56eeca[_0x2a315d(0x59f)][_0x2a315d(0xcd6)];_0x56eeca[_0x2a315d(0x59f)]=_0x56eeca['foodCrateLocations']['filter'](_0x145da5=>{const _0x2cb3dd=_0x2a315d,_0x4b73fa=Math[_0x2cb3dd(0x648)](_0x145da5['x']),_0x41cbe6=Math[_0x2cb3dd(0x648)](_0x145da5['y']),_0x37d675=Math[_0x2cb3dd(0x648)](_0x145da5['z']);return!(_0x4b73fa===_0x127a76&&_0x41cbe6===_0xe14979&&_0x37d675===_0x1d433e);});const _0x4280f4=_0x758dfa-_0x56eeca['foodCrateLocations'][_0x2a315d(0xcd6)];if(_0x4280f4>0x0){colonies[_0x2a315d(0x336)](_0x56eeca['id'],_0x56eeca),saveColonyData(),console['log']('Removed\x20food\x20crate\x20from\x20colony\x20'+_0x56eeca[_0x2a315d(0xa45)]+',\x20'+_0x56eeca[_0x2a315d(0x59f)]['length']+_0x2a315d(0x52c));const _0xe2d5f0=foodCratePoints[_0x2a315d(0xc0a)](_0x56eeca['id'])||0x0;_0x56eeca[_0x2a315d(0x59f)][_0x2a315d(0xcd6)]>0x0?_0x4b2527['sendMessage']('§eFood\x20crate\x20removed.\x20§6'+_0x56eeca[_0x2a315d(0xa45)]+_0x2a315d(0x330)+_0x56eeca[_0x2a315d(0x59f)][_0x2a315d(0xcd6)]+_0x2a315d(0xbfd)+_0xe2d5f0+_0x2a315d(0x79d)):_0x4b2527[_0x2a315d(0x34f)](_0x2a315d(0x71c)+_0x56eeca[_0x2a315d(0xa45)]+_0x2a315d(0x7f2)+_0xe2d5f0+_0x2a315d(0xa98));}}else{const _0x267b1d=foodCratePoints[_0x2a315d(0xc0a)](_0x2178d5)||0x0;_0x267b1d>0x0&&_0x4b2527['sendMessage'](_0x2a315d(0x4a6)+_0x267b1d+_0x2a315d(0x617)),foodCratePoints['delete'](_0x2178d5),saveFoodCrateData(),console[_0x2a315d(0x6a4)](_0x2a315d(0x53a)+_0x2178d5);}}const _0x8b848b=getColonyAtLocation(_0x3d311d['location']);if(!_0x8b848b)return;if(!isLandProtectionEnabled())return;const _0x50e461=_0x8b848b[_0x2a315d(0x396)]===_0x4b2527['id'],_0x5d695c=_0x8b848b['citizens'][_0x2a315d(0x22d)](_0x4b2527[_0x2a315d(0xa45)]),_0x2a40bf=hasColonyPermission(_0x4b2527,_0x8b848b,_0x2a315d(0x787));if(_0x50e461||_0x5d695c&&_0x2a40bf)return;if(DOOR_BLOCKS[_0x2a315d(0x22d)](_0x3d311d[_0x2a315d(0x621)]))return;_0x216b06[_0x2a315d(0xc21)]=!![],_0x4b2527[_0x2a315d(0x34f)](_0x2a315d(0xbe5)+_0x8b848b[_0x2a315d(0xa45)]+_0x2a315d(0x3c1));});world['beforeEvents']&&world[_0x1d2622(0xcd5)][_0x1d2622(0x38b)]&&world['beforeEvents'][_0x1d2622(0x38b)][_0x1d2622(0xba5)](_0x75eab2=>{const _0x31e241=_0x1d2622,_0x4680cd=_0x75eab2[_0x31e241(0xb8f)],_0x1b249b=_0x75eab2[_0x31e241(0xa13)];if(!_0x4680cd||!_0x1b249b)return;if(_0x75eab2['permutationToPlace']&&_0x75eab2[_0x31e241(0x2f2)]['type']['id']===_0x31e241(0xa7f)){if(playerMailboxes[_0x31e241(0xb61)](_0x4680cd['id'])){_0x75eab2['cancel']=!![],_0x4680cd[_0x31e241(0x34f)]('§cYou\x20can\x20only\x20have\x20one\x20mailbox!\x20Break\x20your\x20existing\x20mailbox\x20first.');return;}system['run'](()=>{const _0x58ca5a=_0x31e241,_0x5671c5={'location':{'x':_0x1b249b[_0x58ca5a(0x1f2)]['x'],'y':_0x1b249b[_0x58ca5a(0x1f2)]['y'],'z':_0x1b249b[_0x58ca5a(0x1f2)]['z'],'dimension':_0x1b249b['dimension']['id']},'playerId':_0x4680cd['id'],'playerName':_0x4680cd[_0x58ca5a(0xa45)]};playerMailboxes[_0x58ca5a(0x336)](_0x4680cd['id'],_0x5671c5);const _0x220144=getBlockLocationKey(_0x1b249b);!mailboxInventories[_0x58ca5a(0xb61)](_0x220144)&&mailboxInventories[_0x58ca5a(0x336)](_0x220144,[]),saveMailboxData(),_0x4680cd[_0x58ca5a(0x34f)]('§aMailbox\x20placed\x20successfully!');});}if(_0x75eab2[_0x31e241(0x2f2)]&&_0x75eab2[_0x31e241(0x2f2)][_0x31e241(0x9a5)]['id']===_0x31e241(0x6b9)){const _0x1ff813=getColonyAtLocation(_0x1b249b[_0x31e241(0x1f2)]);if(_0x1ff813){const _0xefeea5=colonies[_0x31e241(0xc0a)](_0x1ff813['id']);if(!_0xefeea5)return;!_0xefeea5[_0x31e241(0x59f)]&&(_0xefeea5['foodCrateLocations']=[]);const _0x497003=getBlockLocationKey(_0x1b249b),_0x587faa=Math[_0x31e241(0x648)](_0x1b249b[_0x31e241(0x1f2)]['x']),_0x103505=Math['floor'](_0x1b249b[_0x31e241(0x1f2)]['y']),_0x458fb7=Math[_0x31e241(0x648)](_0x1b249b[_0x31e241(0x1f2)]['z']),_0x3dd542=_0xefeea5[_0x31e241(0x59f)][_0x31e241(0xb49)](_0x1ebf8f=>Math['floor'](_0x1ebf8f['x'])===_0x587faa&&Math[_0x31e241(0x648)](_0x1ebf8f['y'])===_0x103505&&Math[_0x31e241(0x648)](_0x1ebf8f['z'])===_0x458fb7);!_0x3dd542&&(_0xefeea5[_0x31e241(0x59f)][_0x31e241(0x9bb)]({'x':_0x1b249b[_0x31e241(0x1f2)]['x'],'y':_0x1b249b[_0x31e241(0x1f2)]['y'],'z':_0x1b249b[_0x31e241(0x1f2)]['z']}),_0x4680cd[_0x31e241(0x34f)]('§aFood\x20crate\x20#'+_0xefeea5[_0x31e241(0x59f)]['length']+_0x31e241(0xc6e)+_0xefeea5[_0x31e241(0xa45)]+'§a!'));!foodCratePoints[_0x31e241(0xb61)](_0xefeea5['id'])&&foodCratePoints[_0x31e241(0x336)](_0xefeea5['id'],0x0);const _0x366cad=foodCratePoints[_0x31e241(0xc0a)](_0xefeea5['id'])||0x0;_0x4680cd[_0x31e241(0x34f)](_0x31e241(0x490)+_0x366cad+_0x31e241(0xa6e)),colonies['set'](_0xefeea5['id'],_0xefeea5),saveColonyData(),saveFoodCrateData();}else{const _0x20754e=getBlockLocationKey(_0x1b249b);!foodCratePoints['has'](_0x20754e)&&(foodCratePoints['set'](_0x20754e,0x0),saveFoodCrateData()),_0x4680cd[_0x31e241(0x34f)](_0x31e241(0x966));}}if(_0x75eab2[_0x31e241(0x2f2)]&&_0x75eab2[_0x31e241(0x2f2)][_0x31e241(0x9a5)]['id']===_0x31e241(0x1bc)){let _0x139c19=null;for(const [_0x359a97,_0x1b20f7]of colonies){if(_0x1b20f7['ownerId']===_0x4680cd['id']||_0x1b20f7[_0x31e241(0x709)][_0x31e241(0x22d)](_0x4680cd[_0x31e241(0xa45)])){_0x139c19=_0x1b20f7;break;}}if(!_0x139c19){_0x75eab2[_0x31e241(0xc21)]=!![],_0x4680cd[_0x31e241(0x34f)](_0x31e241(0x2ac));return;}if(!_0x139c19[_0x31e241(0x9b0)]||!_0x139c19[_0x31e241(0x9b0)][_0x31e241(0x745)]){_0x75eab2[_0x31e241(0xc21)]=!![],_0x4680cd[_0x31e241(0x34f)](_0x31e241(0xafe)),_0x4680cd[_0x31e241(0x34f)](_0x31e241(0x956));return;}}const _0x4398df=getColonyAtLocation(_0x1b249b['location']);if(!_0x4398df)return;if(!isLandProtectionEnabled())return;const _0x58fa7d=_0x4398df['ownerId']===_0x4680cd['id'],_0x11c14a=_0x4398df[_0x31e241(0x709)]['includes'](_0x4680cd[_0x31e241(0xa45)]),_0x454238=hasColonyPermission(_0x4680cd,_0x4398df,_0x31e241(0x787));if(_0x58fa7d||_0x11c14a&&_0x454238)return;_0x75eab2[_0x31e241(0xc21)]=!![],_0x4680cd[_0x31e241(0x34f)]('§cYou\x20cannot\x20place\x20blocks\x20in\x20'+_0x4398df['name']+_0x31e241(0x3c1));});world[_0x1d2622(0xcd5)][_0x1d2622(0xbb7)][_0x1d2622(0xba5)](_0x39faa1=>{const _0xd8ed5d=_0x1d2622,_0x3cb79b=_0x39faa1['source'],_0x5ddf62=_0x39faa1[_0xd8ed5d(0x4af)];if(!_0x5ddf62||_0x5ddf62[_0xd8ed5d(0x621)]!==_0xd8ed5d(0x6b2))return;if(!_0x3cb79b['hasTag'](_0xd8ed5d(0x252))){_0x3cb79b[_0xd8ed5d(0x34f)](_0xd8ed5d(0x310));return;}const _0x57ffe5=_0x39faa1[_0xd8ed5d(0xa13)];if(_0x57ffe5&&_0x57ffe5[_0xd8ed5d(0x621)]===_0xd8ed5d(0xb21)){let _0x347b68=null,_0x368acc=Infinity;for(const _0x4222ce of colonies[_0xd8ed5d(0xaf3)]()){!_0x4222ce[_0xd8ed5d(0x61a)]&&(_0x4222ce[_0xd8ed5d(0x61a)]=[_0x4222ce['location']]);for(const _0x58dcc2 of _0x4222ce['flagLocations']){const _0xd64c76=_0x57ffe5[_0xd8ed5d(0x1f2)]['x']-_0x58dcc2['x'],_0x41450d=_0x57ffe5[_0xd8ed5d(0x1f2)]['y']-_0x58dcc2['y'],_0x894279=_0x57ffe5[_0xd8ed5d(0x1f2)]['z']-_0x58dcc2['z'],_0xd2598e=Math[_0xd8ed5d(0x4e0)](_0xd64c76*_0xd64c76+_0x41450d*_0x41450d+_0x894279*_0x894279);if(_0xd2598e<=0x64&&_0xd2598e<_0x368acc){_0x368acc=_0xd2598e,_0x347b68=_0x4222ce;break;}}}_0x347b68?system[_0xd8ed5d(0x631)](()=>confirmAndDeleteColony(_0x3cb79b,_0x347b68)):_0x3cb79b[_0xd8ed5d(0x34f)](_0xd8ed5d(0xaa5));return;}}),world[_0x1d2622(0xcd5)][_0x1d2622(0x3da)][_0x1d2622(0xba5)](_0x25d290=>{const _0xa076f0=_0x1d2622,_0x480aba=_0x25d290[_0xa076f0(0xb8f)],_0x4ea49c=_0x25d290[_0xa076f0(0x2e4)],_0x79c9ff=_0x480aba[_0xa076f0(0x299)]('inventory')['container']['getItem'](_0x480aba[_0xa076f0(0x654)]);if(_0x79c9ff&&_0x79c9ff[_0xa076f0(0x621)]===_0xa076f0(0x14e)){if(_0x4ea49c[_0xa076f0(0x621)]===_0xa076f0(0x127)||_0x4ea49c[_0xa076f0(0x621)]==='jerrys_colonies:knight'||_0x4ea49c['typeId']==='jerrys_colonies:enemy_knight'){_0x25d290['cancel']=!![],system[_0xa076f0(0x631)](()=>{const _0x2d082b=_0xa076f0;try{_0x4ea49c[_0x2d082b(0x33d)]('regeneration',0x64,{'amplifier':0x0,'showParticles':!![]});const _0x44ec20=_0x4ea49c[_0x2d082b(0xa7c)]||_0x2d082b(0x381);_0x480aba[_0x2d082b(0x34f)]('§aHealed\x20'+_0x44ec20);if(_0x480aba[_0x2d082b(0x627)]()!=='creative')try{_0x480aba[_0x2d082b(0xd12)](_0x2d082b(0x7b3));}catch(_0x267493){console[_0x2d082b(0x5b4)](_0x2d082b(0x67c),_0x267493);const _0x5d5731=_0x480aba[_0x2d082b(0x299)](_0x2d082b(0x9e4))[_0x2d082b(0x26e)],_0x864552=_0x5d5731['getItem'](_0x480aba['selectedSlotIndex']);_0x864552&&_0x864552[_0x2d082b(0x621)]===_0x2d082b(0x14e)&&(_0x864552['amount']>0x1?(_0x864552[_0x2d082b(0x8f0)]-=0x1,_0x5d5731[_0x2d082b(0xbc1)](_0x480aba[_0x2d082b(0x654)],_0x864552)):_0x5d5731[_0x2d082b(0xbc1)](_0x480aba[_0x2d082b(0x654)],undefined));}}catch(_0x199e4c){console['error'](_0x2d082b(0x760),_0x199e4c),_0x480aba[_0x2d082b(0x34f)](_0x2d082b(0x96d));}});return;}}if(_0x4ea49c[_0xa076f0(0x621)]===_0xa076f0(0xc1e)){_0x25d290[_0xa076f0(0xc21)]=!![],system[_0xa076f0(0x631)](()=>{const _0x21f7ae=_0xa076f0,_0x76f5fd=_0x480aba[_0x21f7ae(0xaf8)],_0x33149c=new ItemStack(_0x21f7ae(0xc5f),0x1);_0x76f5fd['spawnItem'](_0x33149c,_0x4ea49c[_0x21f7ae(0x1f2)]),_0x4ea49c[_0x21f7ae(0xa0b)]();});return;}if(_0x4ea49c[_0xa076f0(0x621)]===_0xa076f0(0x7f6)){_0x25d290['cancel']=!![];if(_0x79c9ff&&_0x79c9ff[_0xa076f0(0x621)]===_0xa076f0(0x6b2)){const _0x1dd2e0=(_0x30cc1b,_0x2f655d)=>Math['abs'](_0x30cc1b-_0x2f655d)<0.5,_0xec9432=Array[_0xa076f0(0x2f9)](colonies[_0xa076f0(0xaf3)]())[_0xa076f0(0x2d0)](_0x5aeef8=>_0x5aeef8[_0xa076f0(0x61a)]&&_0x5aeef8['flagLocations'][_0xa076f0(0xb49)](_0x121b6b=>_0x1dd2e0(_0x121b6b['x'],_0x4ea49c[_0xa076f0(0x1f2)]['x'])&&_0x1dd2e0(_0x121b6b['y'],_0x4ea49c[_0xa076f0(0x1f2)]['y'])&&_0x1dd2e0(_0x121b6b['z'],_0x4ea49c[_0xa076f0(0x1f2)]['z'])));if(!_0xec9432){_0x480aba[_0xa076f0(0x34f)]('§6Deleting\x20unaffiliated\x20flag\x20entity...'),removeEntityAndSpawnItem(_0x4ea49c,_0xa076f0(0x91f),0x1,_0x480aba);return;}_0x480aba['hasTag']('admin')?system['run'](()=>showModToolMenu(_0x480aba,_0xec9432)):_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0x914));return;}system[_0xa076f0(0x631)](()=>{showMoveFlagForm(_0x480aba,_0x4ea49c);});return;}if(_0x4ea49c[_0xa076f0(0x621)]===_0xa076f0(0x127)){const _0x4f8c15=_0x4ea49c[_0xa076f0(0x460)]()['find'](_0x9d7b6c=>_0x9d7b6c[_0xa076f0(0x42a)](_0xa076f0(0x30d)));if(!_0x4f8c15){const _0x1cba66=_0x480aba[_0xa076f0(0x460)]()[_0xa076f0(0x2d0)](_0x4e855d=>_0x4e855d[_0xa076f0(0x42a)](_0xa076f0(0x30d))),_0xfed514=_0x480aba['getTags']()['find'](_0x4cd87a=>_0x4cd87a[_0xa076f0(0x42a)](_0xa076f0(0x3ae))),_0x22f858=_0x1cba66?.['split'](':')[0x1]||_0xfed514?.[_0xa076f0(0x44b)](':')[0x1];if(!_0x22f858){_0x480aba[_0xa076f0(0x34f)]('§cYou\x20must\x20be\x20in\x20a\x20colony\x20to\x20claim\x20citizens!');return;}const _0x24b4e5=colonies[_0xa076f0(0xc0a)](_0x22f858);if(!_0x24b4e5){_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0x6d3));return;}const _0xc7cfcf=_0x24b4e5[_0xa076f0(0x61a)]&&_0x24b4e5[_0xa076f0(0x61a)][_0xa076f0(0xcd6)]>0x0?_0x24b4e5[_0xa076f0(0x61a)][0x0]:null;if(!_0xc7cfcf){_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0x957));return;}system[_0xa076f0(0x631)](()=>{const _0x13238b=_0xa076f0;try{_0x4ea49c['teleport']({'x':_0xc7cfcf['x'],'y':_0xc7cfcf['y']+0x1,'z':_0xc7cfcf['z']});const _0x24cdf6=getColorCode(_0x24b4e5['color'][_0x13238b(0x768)]),_0x7f87=_0x24cdf6+'['+_0x24b4e5[_0x13238b(0xa45)]+_0x13238b(0x327);_0x4ea49c[_0x13238b(0x875)](_0x13238b(0x30d)+_0x24b4e5['id']),_0x4ea49c[_0x13238b(0x875)](_0x13238b(0x8bc)+_0x24b4e5[_0x13238b(0xa45)]),_0x4ea49c[_0x13238b(0x875)]('colony_owner:'+(_0x24b4e5[_0x13238b(0xcd0)]||_0x480aba[_0x13238b(0xa45)])),_0x4ea49c['addTag'](_0x13238b(0x107)+_0x7f87);const _0x42536d=_0x4ea49c[_0x13238b(0xa7c)]||_0x13238b(0x673),_0x5105c4=_0x42536d[_0x13238b(0x15a)](/§.\[.*?\]§r /g,'');_0x4ea49c[_0x13238b(0xa7c)]=_0x7f87+'\x20'+_0x5105c4,setCitizenHungerLevel(_0x4ea49c['id'],HUNGER_LEVELS[_0x13238b(0x9bf)]),_0x480aba[_0x13238b(0x34f)]('§aCitizen\x20sent\x20to\x20'+_0x24b4e5[_0x13238b(0xa45)]);}catch(_0x37b189){console[_0x13238b(0x7bf)](_0x13238b(0x314),_0x37b189),_0x480aba['sendMessage']('§cFailed\x20to\x20claim\x20citizen!');}});return;}const _0x47a85f=_0x4ea49c[_0xa076f0(0x4ac)](_0xa076f0(0x528)),_0xcea333=_0x4ea49c[_0xa076f0(0x4ac)](_0xa076f0(0xaa6)),_0x3555e7=_0x4ea49c[_0xa076f0(0x4ac)](_0xa076f0(0xcc4)),_0x4e1eb0=_0x4ea49c['hasTag']('citizen_type:explorer'),_0x56bf6c=_0x4ea49c[_0xa076f0(0x4ac)](_0xa076f0(0x279)),_0xb6699b=_0x4ea49c['hasTag'](_0xa076f0(0xb31)),_0x11ad77=_0x4ea49c['hasTag'](_0xa076f0(0xb3e)),_0x30725a=_0x4ea49c[_0xa076f0(0x4ac)](_0xa076f0(0xb41)),_0x16872b=_0x4ea49c['hasTag']('citizen_type:machinist'),_0xb6c19e=_0x4ea49c[_0xa076f0(0x4ac)](_0xa076f0(0x786)),_0x4e885c=_0x4ea49c[_0xa076f0(0x4ac)](_0xa076f0(0xb13));if(_0x47a85f||_0xcea333||_0x3555e7||_0x4e1eb0||_0x56bf6c||_0xb6699b||_0x11ad77||_0x30725a||_0x16872b||_0xb6c19e||_0x4e885c){if(_0x480aba[_0xa076f0(0x9c1)])return;let _0x298b24=_0xa076f0(0x6da);if(_0x47a85f)_0x298b24=_0xa076f0(0x3d4);if(_0xcea333)_0x298b24=_0xa076f0(0x1c5);if(_0x3555e7)_0x298b24='Builder';if(_0x4e1eb0)_0x298b24='Explorer';if(_0x56bf6c)_0x298b24=_0xa076f0(0x34e);if(_0xb6699b)_0x298b24=_0xa076f0(0x1a4);if(_0x11ad77)_0x298b24='Fisherman';if(_0x30725a)_0x298b24='Chemist';if(_0x16872b)_0x298b24=_0xa076f0(0xb90);if(_0xb6c19e)_0x298b24='Logger';if(_0x4e885c)_0x298b24=_0xa076f0(0x5f2);if(_0x4e885c){const _0x2fc877=_0x4ea49c['getComponent']('minecraft:is_tamed')!==undefined;if(_0x2fc877){const _0x1b9631=_0x480aba[_0xa076f0(0x299)](_0xa076f0(0xd17)),_0xcd61d6=_0x1b9631?.[_0xa076f0(0x26e)]?.[_0xa076f0(0x416)](_0x480aba['selectedSlotIndex']),_0x44684a=_0xcd61d6?.[_0xa076f0(0x621)]===_0xa076f0(0xa10);_0x44684a&&(_0x25d290[_0xa076f0(0xc21)]=!![],system['run'](()=>showCitizenInteractionForm(_0x480aba,_0x4ea49c)));}else{}return;}const _0x409041=_0x480aba['id']+'-'+_0x4ea49c['id'],_0x106166=citizenGiftCooldowns[_0xa076f0(0xc0a)](_0x409041)||0x0,_0x1f8478=Date[_0xa076f0(0x405)](),_0x49af22=_0x1f8478-_0x106166>=CITIZEN_GIFT_COOLDOWN_MS,_0x1d0fa5=getRandomCitizenDialogue(_0x298b24[_0xa076f0(0x97b)](),_0x49af22),_0x17648d=getCitizenHungerLevel(_0x4ea49c['id']),_0x10b236=getHungerStatusDisplay(_0x17648d);system['run'](()=>{const _0x5b9aec=_0xa076f0,_0x2becd9=new ActionFormData();_0x2becd9[_0x5b9aec(0xd1)](_0x5b9aec(0x3a0)+_0x298b24+'§r'),_0x2becd9[_0x5b9aec(0x629)](_0x5b9aec(0xcc3)+_0x1d0fa5['text']+_0x5b9aec(0x3fa)+_0x10b236),_0x49af22&&_0x2becd9[_0x5b9aec(0x31f)](_0x5b9aec(0x52a),_0x5b9aec(0xb05)),_0x2becd9['button']('§c§lClose',_0x5b9aec(0x96e)),_0x2becd9[_0x5b9aec(0x504)](_0x480aba)[_0x5b9aec(0x4c7)](_0x2da018=>{const _0x61f08d=_0x5b9aec;if(_0x2da018['canceled'])return;if(_0x49af22&&_0x2da018[_0x61f08d(0x77a)]===0x0){const _0x439264=_0x480aba['getTags']()[_0x61f08d(0x2d0)](_0x36e4a8=>_0x36e4a8['startsWith']('colony_id:')),_0x33aaa4=_0x480aba[_0x61f08d(0x460)]()[_0x61f08d(0x2d0)](_0x688792=>_0x688792[_0x61f08d(0x42a)]('colony_member:')),_0x1cfabd=_0x439264?.[_0x61f08d(0x44b)](':')[0x1]||_0x33aaa4?.['split'](':')[0x1],_0x3f9ba5=_0x4ea49c['getTags']()[_0x61f08d(0x2d0)](_0x515c53=>_0x515c53[_0x61f08d(0x42a)](_0x61f08d(0x30d))),_0x4792aa=_0x3f9ba5?.[_0x61f08d(0x44b)](':')[0x1];if(!_0x1cfabd||!_0x4792aa||_0x1cfabd!==_0x4792aa){_0x480aba[_0x61f08d(0x34f)](_0x61f08d(0x567));return;}giveCitizenGift(_0x480aba,_0x4ea49c);}});});return;}system[_0xa076f0(0x631)](()=>showCitizenTypeSelectionUI(_0x480aba,_0x4ea49c));return;}if(_0x4ea49c[_0xa076f0(0x621)]==='jerrys_colonies:knight'){const _0x57b84d=_0x4ea49c[_0xa076f0(0x299)]('minecraft:is_tamed')!==undefined;if(_0x57b84d){const _0x1196f4=_0x480aba[_0xa076f0(0x299)](_0xa076f0(0xd17)),_0x233e9c=_0x1196f4?.['container']?.['getItem'](_0x480aba[_0xa076f0(0x654)]),_0xad9e5=_0x233e9c?.[_0xa076f0(0x621)]===_0xa076f0(0xa10);if(_0xad9e5){const _0x5f2c56=_0x4ea49c[_0xa076f0(0x460)](),_0x3be96c=_0x5f2c56[_0xa076f0(0x2d0)](_0x144ee9=>_0x144ee9[_0xa076f0(0x42a)](_0xa076f0(0x30d))),_0x4d76c3=getPlayerColony(_0x480aba);if(!_0x3be96c||!_0x4d76c3){_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0x6a3)),_0x25d290[_0xa076f0(0xc21)]=!![];return;}const _0x28cf78=_0x3be96c[_0xa076f0(0x3ad)](_0xa076f0(0x30d)[_0xa076f0(0xcd6)]);if(_0x4d76c3!==_0x28cf78){_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0xfd)),_0x25d290[_0xa076f0(0xc21)]=!![];return;}const _0x5c7c86=colonies['get'](_0x4d76c3);if(!_0x5c7c86){_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0x6d3)),_0x25d290['cancel']=!![];return;}if(!hasPermission(_0x480aba,_0x5c7c86,_0xa076f0(0xc1b))){_0x480aba[_0xa076f0(0x34f)]('§cYou\x20don\x27t\x20have\x20permission\x20to\x20command\x20knights!'),_0x25d290[_0xa076f0(0xc21)]=!![];return;}_0x25d290['cancel']=!![];if(_0x480aba[_0xa076f0(0x9c1)])return;system[_0xa076f0(0x631)](()=>showCitizenInteractionForm(_0x480aba,_0x4ea49c));return;}}else{const _0x47a2f3=_0x480aba[_0xa076f0(0x299)]('inventory'),_0x4257f2=_0x47a2f3?.['container']?.[_0xa076f0(0x416)](_0x480aba[_0xa076f0(0x654)]),_0x2a6a5d=_0x4257f2?.[_0xa076f0(0x621)]===_0xa076f0(0xbe1);if(_0x2a6a5d){const _0x214a05=_0x4ea49c['getTags'](),_0x1cbdbf=_0x214a05[_0xa076f0(0x2d0)](_0x28e88f=>_0x28e88f['startsWith']('colony_id:')),_0x3958aa=_0x480aba[_0xa076f0(0x460)]()['find'](_0x3294a7=>_0x3294a7[_0xa076f0(0x42a)](_0xa076f0(0x30d))),_0x29f95b=_0x480aba[_0xa076f0(0x460)]()[_0xa076f0(0x2d0)](_0x156f98=>_0x156f98[_0xa076f0(0x42a)](_0xa076f0(0x3ae))),_0x4d732b=_0x3958aa?.['split'](':')[0x1]||_0x29f95b?.[_0xa076f0(0x44b)](':')[0x1];if(!_0x1cbdbf){_0x480aba['sendMessage']('§cThis\x20knight\x20doesn\x27t\x20belong\x20to\x20any\x20colony!'),_0x25d290['cancel']=!![];return;}const _0x56efd9=_0x1cbdbf[_0xa076f0(0x3ad)](_0xa076f0(0x30d)[_0xa076f0(0xcd6)]);if(!_0x4d732b||_0x4d732b!==_0x56efd9){_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0x6db)),_0x25d290[_0xa076f0(0xc21)]=!![];return;}}}}if(!_0x79c9ff||_0x79c9ff[_0xa076f0(0x621)]!=='jerrys_colonies:mod_tool')return;if(!_0x480aba[_0xa076f0(0x4ac)](_0xa076f0(0x252))){_0x480aba[_0xa076f0(0x34f)](_0xa076f0(0x310));return;}});function mergeColonies(_0x336946,_0x2d87eb,_0x17eb58,_0x450dca){const _0x58e978=_0x1d2622,_0x248416=(_0x17eb58[_0x58e978(0x61a)]?.[_0x58e978(0xcd6)]||0x1)+(_0x17eb58['warVictories']||0x0),_0x403455=(_0x450dca['flagLocations']?.[_0x58e978(0xcd6)]||0x1)+(_0x450dca['warVictories']||0x0);let _0x208d04,_0x13cb3e,_0x1742f7,_0x307083;_0x248416>=_0x403455?(_0x208d04=_0x17eb58,_0x13cb3e=_0x450dca,_0x1742f7=_0x336946,_0x307083=_0x2d87eb):(_0x208d04=_0x450dca,_0x13cb3e=_0x17eb58,_0x1742f7=_0x2d87eb,_0x307083=_0x336946);_0x336946['sendMessage']('Merging\x20colonies!\x20'+_0x208d04[_0x58e978(0xa45)]+_0x58e978(0xaa0)+(_0x208d04[_0x58e978(0x61a)]?.[_0x58e978(0xcd6)]||0x1)+_0x58e978(0x2b9)+_0x13cb3e[_0x58e978(0xa45)]+_0x58e978(0xaa0)+(_0x13cb3e[_0x58e978(0x61a)]?.['length']||0x1)+')'),_0x2d87eb['sendMessage']('Merging\x20colonies!\x20'+_0x208d04[_0x58e978(0xa45)]+_0x58e978(0xaa0)+(_0x208d04[_0x58e978(0x61a)]?.[_0x58e978(0xcd6)]||0x1)+_0x58e978(0x2b9)+_0x13cb3e[_0x58e978(0xa45)]+_0x58e978(0xaa0)+(_0x13cb3e['flagLocations']?.['length']||0x1)+')');if(_0x13cb3e['flagLocations']&&_0x13cb3e['flagLocations'][_0x58e978(0xcd6)]>0x0){if(!_0x208d04[_0x58e978(0x61a)])_0x208d04[_0x58e978(0x61a)]=[_0x208d04[_0x58e978(0x1f2)]];let _0x146c04='set_white';if(_0x208d04[_0x58e978(0x16a)]&&_0x208d04[_0x58e978(0x16a)][_0x58e978(0x76c)])_0x146c04=_0x208d04[_0x58e978(0x16a)][_0x58e978(0x76c)];else _0x208d04[_0x58e978(0x16a)]&&_0x208d04['color']['id']&&(_0x146c04=_0x58e978(0x339)+_0x208d04[_0x58e978(0x16a)]['id']);for(const _0xb02e4 of _0x13cb3e[_0x58e978(0x61a)]){_0x208d04[_0x58e978(0x61a)]['push'](_0xb02e4);for(const _0x35695e of _0x161a70){try{const _0x490ab1=_0x35695e['getEntities']({'type':_0x58e978(0x7f6)});for(const _0x557335 of _0x490ab1){const _0xb0c5a6=_0x557335[_0x58e978(0x1f2)],_0x55243f=Math[_0x58e978(0x572)](_0xb0c5a6['x']-_0xb02e4['x']),_0x276d18=Math[_0x58e978(0x572)](_0xb0c5a6['y']-_0xb02e4['y']),_0x305fac=Math[_0x58e978(0x572)](_0xb0c5a6['z']-_0xb02e4['z']);if(_0x55243f<0.5&&_0x276d18<0.5&&_0x305fac<0.5){system[_0x58e978(0x631)](()=>{const _0x398e9f=_0x58e978;try{_0x557335[_0x398e9f(0xbd0)](_0x146c04);}catch(_0x27a309){console[_0x398e9f(0x5b4)]('Error\x20changing\x20flag\x20color\x20during\x20merge:',_0x27a309);}});break;}}}catch(_0x978886){console[_0x58e978(0x7bf)](_0x58e978(0x7c3),_0x978886);}}}_0x336946[_0x58e978(0x34f)](_0x13cb3e[_0x58e978(0x61a)]['length']+_0x58e978(0xca8)+_0x208d04['name']),_0x2d87eb[_0x58e978(0x34f)](_0x13cb3e['flagLocations'][_0x58e978(0xcd6)]+_0x58e978(0xca8)+_0x208d04[_0x58e978(0xa45)]);}const _0x161a70=[world[_0x58e978(0xbc8)](_0x58e978(0x182)),world[_0x58e978(0xbc8)]('nether'),world['getDimension'](_0x58e978(0x18d))];let _0x19d142=0x0;for(const _0x38eea0 of _0x161a70){try{const _0x3330c8=_0x38eea0['getEntities']({'type':_0x58e978(0x127)});for(const _0x448d21 of _0x3330c8){_0x448d21['hasTag'](_0x58e978(0x30d)+_0x13cb3e['id'])&&(_0x448d21[_0x58e978(0x866)](_0x58e978(0x30d)+_0x13cb3e['id']),_0x448d21['addTag'](_0x58e978(0x30d)+_0x208d04['id']),_0x19d142++);}}catch(_0x4993c0){console['error'](_0x58e978(0x624),_0x4993c0);}}_0x19d142>0x0&&(_0x336946[_0x58e978(0x34f)](_0x19d142+_0x58e978(0x5a6)+_0x208d04[_0x58e978(0xa45)]),_0x2d87eb['sendMessage'](_0x19d142+_0x58e978(0x5a6)+_0x208d04[_0x58e978(0xa45)]));if(_0x13cb3e['citizens']&&_0x13cb3e[_0x58e978(0x709)][_0x58e978(0xcd6)]>0x0){if(!_0x208d04[_0x58e978(0x709)])_0x208d04[_0x58e978(0x709)]=[];for(const _0x41b5a6 of _0x13cb3e[_0x58e978(0x709)]){!_0x208d04[_0x58e978(0x709)][_0x58e978(0x22d)](_0x41b5a6)&&_0x208d04[_0x58e978(0x709)][_0x58e978(0x9bb)](_0x41b5a6);}}if(!_0x208d04[_0x58e978(0x709)])_0x208d04['citizens']=[];!_0x208d04[_0x58e978(0x709)]['includes'](_0x307083[_0x58e978(0xa45)])&&_0x208d04[_0x58e978(0x709)][_0x58e978(0x9bb)](_0x307083[_0x58e978(0xa45)]);const _0x426ef2=_0x307083['getTags']();for(const _0x436c61 of _0x426ef2){(_0x436c61[_0x58e978(0x42a)]('colony_id:')||_0x436c61[_0x58e978(0x42a)](_0x58e978(0x3ae))||_0x436c61[_0x58e978(0x42a)](_0x58e978(0x2c8)))&&_0x307083[_0x58e978(0x866)](_0x436c61);}_0x307083[_0x58e978(0x875)](_0x58e978(0x3ae)+_0x208d04['id']),_0x307083[_0x58e978(0xa7c)]='['+_0x208d04[_0x58e978(0xa45)]+']\x20'+_0x307083[_0x58e978(0xa45)];for(const _0x11a6b9 of world[_0x58e978(0x241)]()){const _0xa563b5=_0x11a6b9['getTags']();for(const _0x12b919 of _0xa563b5){(_0x12b919===_0x58e978(0x30d)+_0x13cb3e['id']||_0x12b919===_0x58e978(0x3ae)+_0x13cb3e['id']||_0x12b919===_0x58e978(0x2c8)+_0x13cb3e['id'])&&(_0x11a6b9[_0x58e978(0x866)](_0x12b919),!_0x11a6b9['getTags']()['includes'](_0x58e978(0x3ae)+_0x208d04['id'])&&_0x11a6b9[_0x58e978(0x875)](_0x58e978(0x3ae)+_0x208d04['id']),_0x11a6b9[_0x58e978(0xa7c)]='['+_0x208d04['name']+']\x20'+_0x11a6b9[_0x58e978(0xa45)]);}}colonies[_0x58e978(0x336)](_0x208d04['id'],_0x208d04),colonies[_0x58e978(0xbcb)](_0x13cb3e['id']);for(const _0x5019b2 of _0x161a70){try{const _0x264c0e=_0x5019b2[_0x58e978(0xc8f)]({'type':_0x58e978(0x7f6)});for(const _0x5c5145 of _0x264c0e){const _0x590f89=_0x5c5145[_0x58e978(0x1f2)];if(_0x13cb3e[_0x58e978(0x61a)])for(const _0x44f14a of _0x13cb3e['flagLocations']){const _0xaf850f=Math['abs'](_0x590f89['x']-_0x44f14a['x']),_0x1910f4=Math[_0x58e978(0x572)](_0x590f89['y']-_0x44f14a['y']),_0x4da23e=Math['abs'](_0x590f89['z']-_0x44f14a['z']);if(_0xaf850f<0.5&&_0x1910f4<0.5&&_0x4da23e<0.5){}}}}catch(_0x46a3a9){console[_0x58e978(0x7bf)](_0x58e978(0x103),_0x46a3a9);}}saveColonyData(),_0x336946[_0x58e978(0x34f)]('Marriage\x20complete!\x20Colonies\x20have\x20been\x20merged\x20successfully!'),_0x2d87eb[_0x58e978(0x34f)](_0x58e978(0x75b));}function savePlayerSpouses(){const _0x27ca8a=_0x1d2622;try{const _0xc246ef=Object[_0x27ca8a(0x5c8)](playerSpouses);world[_0x27ca8a(0x4da)](_0x27ca8a(0x68b),JSON['stringify'](_0xc246ef));}catch(_0x2f4984){console[_0x27ca8a(0x7bf)](_0x27ca8a(0x113),_0x2f4984);}}function loadPlayerSpouses(){const _0x10941a=_0x1d2622;try{const _0x3b3a96=world[_0x10941a(0x49d)](_0x10941a(0x68b));if(_0x3b3a96){const _0x206e1f=JSON[_0x10941a(0xc35)](_0x3b3a96);for(const [_0x40ef66,_0x465214]of Object['entries'](_0x206e1f)){playerSpouses[_0x10941a(0x336)](_0x40ef66,_0x465214);}}}catch(_0x1e0150){console[_0x10941a(0x7bf)](_0x10941a(0xa21),_0x1e0150);}}async function showModToolMenu(_0x1765aa,_0x31c0a4){const _0x5a8b40=_0x1d2622;if(!_0x31c0a4){const _0x2ac2ce=new ActionFormData()['title'](_0x5a8b40(0x6ef))[_0x5a8b40(0x629)](_0x5a8b40(0x4ef))['button'](_0x5a8b40(0x9a9),_0x5a8b40(0x8c5))['button'](_0x5a8b40(0x33a),'textures/items/mod_tool')[_0x5a8b40(0x31f)]('Prices','textures/items/mod_tool')[_0x5a8b40(0x31f)](_0x5a8b40(0x454),_0x5a8b40(0x8c5)),_0x3845a2=await _0x2ac2ce[_0x5a8b40(0x504)](_0x1765aa);if(_0x3845a2[_0x5a8b40(0x9d4)])return;switch(_0x3845a2[_0x5a8b40(0x77a)]){case 0x0:await showTeleportColonyMenu(_0x1765aa);break;case 0x1:await showColonyModulesMenu(_0x1765aa,null);break;case 0x2:await showAdminPricesMenu(_0x1765aa);break;case 0x3:await showGlobalSettingsMenu(_0x1765aa,null);break;}return;}let _0x5ed3c2='§4Unknown',_0x1d3d54=_0x5a8b40(0x835);if(!isMarauderAttacksEnabled())_0x5ed3c2=_0x5a8b40(0xb79);else{if(_0x31c0a4[_0x5a8b40(0x83a)]){const _0x41956e=Math['max'](0x0,_0x31c0a4[_0x5a8b40(0x83a)]-Date[_0x5a8b40(0x405)]()),_0x1297e8=Math[_0x5a8b40(0x648)](_0x41956e/0xea60);_0x1297e8>0x3c?_0x5ed3c2='§4'+Math[_0x5a8b40(0x648)](_0x1297e8/0x3c)+'\x20hours,\x20'+_0x1297e8%0x3c+_0x5a8b40(0xcf0):_0x5ed3c2='§4'+_0x1297e8+'\x20minutes';}else{if(_0x31c0a4['marauderTimeRemaining']){const _0x30aff4=Math[_0x5a8b40(0x648)](_0x31c0a4['marauderTimeRemaining']/0xea60);_0x30aff4>0x3c?_0x5ed3c2='§4'+Math[_0x5a8b40(0x648)](_0x30aff4/0x3c)+_0x5a8b40(0xb8a)+_0x30aff4%0x3c+_0x5a8b40(0x8b6):_0x5ed3c2='§4'+_0x30aff4+'\x20minutes\x20§7(PAUSED)';}}}if(!isPlaguesEnabled())_0x1d3d54='§7DISABLED';else{if(_0x31c0a4[_0x5a8b40(0xb01)]){const _0x1bbacf=Math[_0x5a8b40(0xb51)](0x0,_0x31c0a4[_0x5a8b40(0xb01)]-Date[_0x5a8b40(0x405)]()),_0x3033f9=Math[_0x5a8b40(0x648)](_0x1bbacf/0xea60);_0x3033f9>0x3c?_0x1d3d54='§5'+Math['floor'](_0x3033f9/0x3c)+_0x5a8b40(0xb8a)+_0x3033f9%0x3c+_0x5a8b40(0xcf0):_0x1d3d54='§5'+_0x3033f9+_0x5a8b40(0xcf0);}else{if(_0x31c0a4['plagueTimeRemaining']){const _0x1bc4f3=Math['floor'](_0x31c0a4['plagueTimeRemaining']/0xea60);_0x1bc4f3>0x3c?_0x1d3d54='§5'+Math[_0x5a8b40(0x648)](_0x1bc4f3/0x3c)+_0x5a8b40(0xb8a)+_0x1bc4f3%0x3c+_0x5a8b40(0x8b6):_0x1d3d54='§5'+_0x1bc4f3+_0x5a8b40(0x8b6);}}}const _0x470c1e=new ActionFormData()[_0x5a8b40(0xd1)](_0x5a8b40(0xa60)+_0x31c0a4[_0x5a8b40(0xa45)])[_0x5a8b40(0x629)](_0x5a8b40(0xa69)+_0x31c0a4[_0x5a8b40(0xa45)]+_0x5a8b40(0x74c)+_0x5ed3c2+_0x5a8b40(0xcf)+_0x1d3d54)[_0x5a8b40(0x31f)](_0x5a8b40(0x618),_0x5a8b40(0x8c5))[_0x5a8b40(0x31f)](_0x5a8b40(0x9a9),_0x5a8b40(0x8c5))[_0x5a8b40(0x31f)]('Modules',_0x5a8b40(0x8c5))['button'](_0x5a8b40(0x6a6),_0x5a8b40(0x8c5))['button'](_0x5a8b40(0x454),'textures/items/mod_tool')[_0x5a8b40(0x31f)](_0x5a8b40(0x9cc),_0x5a8b40(0xf7))['button']('§5Trigger\x20Plague\x20Event',_0x5a8b40(0xa40))[_0x5a8b40(0x31f)](_0x5a8b40(0x952),_0x5a8b40(0x89b))[_0x5a8b40(0x31f)]('§dTrigger\x20Baby\x20Request',_0x5a8b40(0x4ca)),_0x47e421=await _0x470c1e['show'](_0x1765aa);if(_0x47e421[_0x5a8b40(0x9d4)])return;switch(_0x47e421[_0x5a8b40(0x77a)]){case 0x0:await confirmAndDeleteColony(_0x1765aa,_0x31c0a4);break;case 0x1:await showTeleportColonyMenu(_0x1765aa);break;case 0x2:await showColonyModulesMenu(_0x1765aa,_0x31c0a4);break;case 0x3:await showAdminPricesMenu(_0x1765aa);break;case 0x4:await showGlobalSettingsMenu(_0x1765aa,_0x31c0a4);break;case 0x5:if(!isMarauderAttacksEnabled()){_0x1765aa['sendMessage'](_0x5a8b40(0xac9));break;}_0x31c0a4&&Array[_0x5a8b40(0x7d1)](_0x31c0a4[_0x5a8b40(0x61a)])&&_0x31c0a4['flagLocations'][_0x5a8b40(0xcd6)]>0x0?(_0x31c0a4['manualEventTriggered']=!![],spawnMarauderAttack(_0x31c0a4,_0x31c0a4[_0x5a8b40(0x61a)]),_0x1765aa[_0x5a8b40(0x34f)]('§4Marauder\x20attack\x20triggered.\x20Both\x20event\x20timers\x20reset.')):_0x1765aa[_0x5a8b40(0x34f)](_0x5a8b40(0x9f9));break;case 0x6:if(!isPlaguesEnabled()){_0x1765aa[_0x5a8b40(0x34f)](_0x5a8b40(0x435));break;}_0x31c0a4[_0x5a8b40(0x3ff)]=!![],triggerPlague(_0x31c0a4),_0x1765aa[_0x5a8b40(0x34f)]('§5Plague\x20triggered.\x20Both\x20event\x20timers\x20reset.');break;case 0x7:await showHungerManagementMenu(_0x1765aa,_0x31c0a4);break;case 0x8:if(babyRequests[_0x5a8b40(0xb61)](_0x31c0a4['id'])){_0x1765aa[_0x5a8b40(0x34f)](_0x5a8b40(0xb6b));break;}const _0x3bb353=[world[_0x5a8b40(0xbc8)](_0x5a8b40(0x182)),world['getDimension'](_0x5a8b40(0x437)),world[_0x5a8b40(0xbc8)](_0x5a8b40(0x18d))];let _0x28fdfd=null;for(const _0x41ef26 of _0x3bb353){const _0x12d03f=_0x41ef26['getEntities']({'type':_0x5a8b40(0x127)}),_0x47a9f1=_0x12d03f['filter'](_0x253e44=>_0x253e44[_0x5a8b40(0x460)]()[_0x5a8b40(0x22d)](_0x5a8b40(0x30d)+_0x31c0a4['id']));if(_0x47a9f1[_0x5a8b40(0xcd6)]>0x0){_0x28fdfd=_0x47a9f1[Math['floor'](Math[_0x5a8b40(0x247)]()*_0x47a9f1[_0x5a8b40(0xcd6)])];break;}}if(!_0x28fdfd){_0x1765aa['sendMessage'](_0x5a8b40(0x2e2));break;}babyRequests[_0x5a8b40(0x336)](_0x31c0a4['id'],{'requestTime':Date[_0x5a8b40(0x405)](),'parentCitizenId':_0x28fdfd['id'],'parentCitizenName':_0x28fdfd['nameTag']||'Citizen','notifiedPlayers':[]}),saveBabyRequests(),_0x1765aa[_0x5a8b40(0x34f)](_0x5a8b40(0x408)+_0x31c0a4[_0x5a8b40(0xa45)]+'!\x20Players\x20with\x20\x22Manage\x20Babies\x22\x20permission\x20will\x20be\x20notified.');break;}}async function showTeleportColonyMenu(_0x39571a){const _0x469bb5=_0x1d2622,_0x7d0cce=Array[_0x469bb5(0x2f9)](colonies['values']());if(_0x7d0cce['length']===0x0){_0x39571a[_0x469bb5(0x34f)](_0x469bb5(0xa95));return;}const _0x4f72a4=new ActionFormData()[_0x469bb5(0xd1)](_0x469bb5(0x6e7))['body'](_0x469bb5(0x922));for(const _0x4f759a of _0x7d0cce){_0x4f72a4['button'](''+_0x4f759a['name'],_0x469bb5(0x273));}const _0x3e4d2b=await _0x4f72a4[_0x469bb5(0x504)](_0x39571a);if(_0x3e4d2b[_0x469bb5(0x9d4)])return;const _0x1a1b7e=_0x7d0cce[_0x3e4d2b[_0x469bb5(0x77a)]];if(!_0x1a1b7e){_0x39571a[_0x469bb5(0x34f)]('§cInvalid\x20colony\x20selection.');return;}const _0x3ad2c8={'x':_0x1a1b7e['location']['x'],'y':_0x1a1b7e[_0x469bb5(0x1f2)]['y']+0x2,'z':_0x1a1b7e[_0x469bb5(0x1f2)]['z'],'dimension':_0x39571a[_0x469bb5(0xaf8)]};initiateDelayedTeleport(_0x39571a,_0x3ad2c8,_0x1a1b7e[_0x469bb5(0xa45)],'main\x20flag');}async function showGlobalSettingsMenu(_0xb9c81c,_0x7cd434){const _0x403943=_0x1d2622,_0x273bd4=getGlobalSettings(),_0x2281e5=new ModalFormData()[_0x403943(0xd1)](_0x403943(0x822))['toggle']('§aEnable\x20Land\x20Protection',_0x273bd4[_0x403943(0x470)])[_0x403943(0xe5)](_0x403943(0x9ef),_0x273bd4['flagTeleportEnabled'])[_0x403943(0xe5)](_0x403943(0x51c),_0x273bd4['plaguesEnabled'])[_0x403943(0xe5)]('§4Enable\x20Marauder\x20Attacks',_0x273bd4[_0x403943(0x945)])[_0x403943(0xe5)]('§6Enable\x20Citizen\x20Hunger',_0x273bd4[_0x403943(0x778)]??!![])[_0x403943(0xe5)](_0x403943(0x8d5),_0x273bd4[_0x403943(0x9e9)]??!![])['toggle'](_0x403943(0x33b),_0x273bd4['minimapCompatMode']??![])['slider']('§bMax\x20NPCs\x20per\x20Colony',0x5,0x32,0x1,_0x273bd4[_0x403943(0x8e0)]??0x1e)['slider'](_0x403943(0x12f),0x1,0x32,0x1,_0x273bd4[_0x403943(0x44f)]??0xa)[_0x403943(0x4d0)]('§5Plague\x20Interval',[_0x403943(0xc0f),_0x403943(0x45c),_0x403943(0xba6),_0x403943(0x427),'120\x20min\x20(2h)','180\x20min\x20(3h)',_0x403943(0x89d),_0x403943(0x61b),_0x403943(0xa6d),'720\x20min\x20(12h)',_0x403943(0xb95),'1440\x20min\x20(24h)',_0x403943(0x882),_0x403943(0x2d3),'3000\x20min\x20(50h)',_0x403943(0x159),_0x403943(0x357),'6000\x20min\x20(100h)'],((()=>{const _0x380315=_0x403943,_0x168ea6=[0xf,0x1e,0x3c,0x5a,0x78,0xb4,0xf0,0x168,0x1e0,0x2d0,0x3e8,0x5a0,0x7d0,0xb40,0xbb8,0xfa0,0x10e0,0x1770],_0x202fd9=_0x273bd4[_0x380315(0xccf)]??0x5a0;return _0x168ea6['indexOf'](_0x202fd9)!==-0x1?_0x168ea6['indexOf'](_0x202fd9):0xb;})()))[_0x403943(0x4d0)](_0x403943(0xc80),[_0x403943(0xc0f),'30\x20min\x20(0.5h)',_0x403943(0xba6),_0x403943(0x427),_0x403943(0x324),_0x403943(0x30e),_0x403943(0x89d),'360\x20min\x20(6h)',_0x403943(0xa6d),_0x403943(0x769),_0x403943(0xb95),'1440\x20min\x20(24h)',_0x403943(0x882),'2880\x20min\x20(48h)',_0x403943(0xcc0),_0x403943(0x159),_0x403943(0x357),_0x403943(0x682)],((()=>{const _0x45c14e=_0x403943,_0x1112c2=[0xf,0x1e,0x3c,0x5a,0x78,0xb4,0xf0,0x168,0x1e0,0x2d0,0x3e8,0x5a0,0x7d0,0xb40,0xbb8,0xfa0,0x10e0,0x1770],_0x5052b2=_0x273bd4['marauderIntervalMinutes']??0xfa0;return _0x1112c2[_0x45c14e(0x5f9)](_0x5052b2)!==-0x1?_0x1112c2[_0x45c14e(0x5f9)](_0x5052b2):0xf;})()))['dropdown']('§cInactive\x20Colony\x20Auto-Delete',[_0x403943(0x88b),_0x403943(0x18a),'60\x20days\x20IRL','100\x20days\x20IRL',_0x403943(0xc39),_0x403943(0xb10)],((()=>{const _0x2eefd5=_0x403943,_0x1a1af8=[0x0,0x1e,0x3c,0x64,0xc8,0x12c],_0x591217=_0x273bd4['colonyInactivityDays']??0x0;return _0x1a1af8[_0x2eefd5(0x5f9)](_0x591217)!==-0x1?_0x1a1af8[_0x2eefd5(0x5f9)](_0x591217):0x0;})())),_0xd52adb=await _0x2281e5['show'](_0xb9c81c);if(_0xd52adb[_0x403943(0x9d4)])return;const _0x563c54=[0xf,0x1e,0x3c,0x5a,0x78,0xb4,0xf0,0x168,0x1e0,0x2d0,0x3e8,0x5a0,0x7d0,0xb40,0xbb8,0xfa0,0x10e0,0x1770],_0x32e417=[0x0,0x1e,0x3c,0x64,0xc8,0x12c],_0x576e6e={'landProtectionEnabled':_0xd52adb['formValues'][0x0],'flagTeleportEnabled':_0xd52adb[_0x403943(0x36e)][0x1],'plaguesEnabled':_0xd52adb[_0x403943(0x36e)][0x2],'marauderAttacksEnabled':_0xd52adb[_0x403943(0x36e)][0x3],'citizenHungerEnabled':_0xd52adb[_0x403943(0x36e)][0x4],'arenaEnabled':_0xd52adb[_0x403943(0x36e)][0x5],'minimapCompatMode':_0xd52adb[_0x403943(0x36e)][0x6],'maxNPCs':_0xd52adb['formValues'][0x7],'maxFlags':_0xd52adb[_0x403943(0x36e)][0x8],'plagueIntervalMinutes':_0x563c54[_0xd52adb['formValues'][0x9]],'marauderIntervalMinutes':_0x563c54[_0xd52adb[_0x403943(0x36e)][0xa]],'colonyInactivityDays':_0x32e417[_0xd52adb[_0x403943(0x36e)][0xb]]};setGlobalSettings(_0x576e6e),_0xb9c81c[_0x403943(0x34f)](_0x403943(0x448)),_0xb9c81c[_0x403943(0x34f)](_0x403943(0xaa9)+(_0x576e6e[_0x403943(0x470)]?'ON':_0x403943(0xa4c))),_0xb9c81c[_0x403943(0x34f)](_0x403943(0x89e)+(_0x576e6e[_0x403943(0x604)]?'ON':_0x403943(0xa4c))),_0xb9c81c[_0x403943(0x34f)]('§5Plagues:\x20'+(_0x576e6e['plaguesEnabled']?'ON':_0x403943(0xa4c))),_0xb9c81c[_0x403943(0x34f)]('§4Marauder\x20Attacks:\x20'+(_0x576e6e[_0x403943(0x945)]?'ON':_0x403943(0xa4c))),_0xb9c81c['sendMessage'](_0x403943(0x4bd)+(_0x576e6e[_0x403943(0x778)]?'ON':_0x403943(0xa4c))),_0xb9c81c['sendMessage'](_0x403943(0xa06)+(_0x576e6e[_0x403943(0x9e9)]?'ON':_0x403943(0xa4c))),_0xb9c81c['sendMessage'](_0x403943(0xabd)+(_0x576e6e[_0x403943(0x38f)]?'ON':'OFF')),_0xb9c81c[_0x403943(0x34f)](_0x403943(0x5cf)+_0x576e6e[_0x403943(0x8e0)]+_0x403943(0x5d8)+_0x576e6e[_0x403943(0x44f)]),_0xb9c81c[_0x403943(0x34f)]('§5Plague\x20Interval:\x20'+_0x576e6e[_0x403943(0xccf)]+_0x403943(0x5d2)+(_0x576e6e['plagueIntervalMinutes']/0x3c)[_0x403943(0xb4a)](0x1)+'h)'),_0xb9c81c[_0x403943(0x34f)](_0x403943(0xc11)+_0x576e6e[_0x403943(0x12a)]+_0x403943(0x5d2)+(_0x576e6e[_0x403943(0x12a)]/0x3c)[_0x403943(0xb4a)](0x1)+'h)'),_0xb9c81c[_0x403943(0x34f)](_0x403943(0x8d1)+(_0x576e6e[_0x403943(0x645)]===0x0?_0x403943(0x830):_0x576e6e[_0x403943(0x645)]+_0x403943(0x93d)));for(const _0x4b4561 of colonies[_0x403943(0xaf3)]()){_0x4b4561[_0x403943(0xb01)]&&(_0x4b4561[_0x403943(0xb01)]=Date[_0x403943(0x405)]()+_0x576e6e[_0x403943(0xccf)]*0xea60,_0x4b4561[_0x403943(0xcb2)]=null),_0x4b4561['nextMarauderAttack']&&(_0x4b4561[_0x403943(0x83a)]=Date[_0x403943(0x405)]()+_0x576e6e[_0x403943(0x12a)]*0xea60,_0x4b4561['marauderTimeRemaining']=null),colonies[_0x403943(0x336)](_0x4b4561['id'],_0x4b4561);}saveColonyData();}async function showHungerManagementMenu(_0x1f1e5d,_0xd296f2){const _0x47daed=_0x1d2622,_0xe4e1f4=world['getDimension'](_0x47daed(0x182)),_0x2e7b4f=_0xe4e1f4[_0x47daed(0xc8f)]({'type':'jerrys_colonies:citizen'})['filter'](_0xf93798=>_0xf93798[_0x47daed(0x4ac)]('colony_id:'+_0xd296f2['id'])),_0x2e8a99={[HUNGER_LEVELS['FULL']]:0x0,[HUNGER_LEVELS[_0x47daed(0xad0)]]:0x0,[HUNGER_LEVELS[_0x47daed(0x5ff)]]:0x0,[HUNGER_LEVELS[_0x47daed(0x6ec)]]:0x0,[HUNGER_LEVELS[_0x47daed(0x9a4)]]:0x0};for(const _0x33a8f0 of _0x2e7b4f){const _0x57902f=getCitizenHungerLevel(_0x33a8f0['id']);_0x2e8a99[_0x57902f]++;}const _0x22bf2c=new ActionFormData()[_0x47daed(0xd1)]('§eHunger\x20Management:\x20'+_0xd296f2[_0x47daed(0xa45)])[_0x47daed(0x629)](_0x47daed(0x980)+_0x2e7b4f[_0x47daed(0xcd6)]+_0x47daed(0x4b4)+_0x2e8a99[HUNGER_LEVELS[_0x47daed(0x9bf)]]+_0x47daed(0x663)+_0x2e8a99[HUNGER_LEVELS['SLIGHTLY_HUNGRY']]+_0x47daed(0x8af)+_0x2e8a99[HUNGER_LEVELS[_0x47daed(0x5ff)]]+'\x0a§cStarving:\x20'+_0x2e8a99[HUNGER_LEVELS[_0x47daed(0x6ec)]]+_0x47daed(0xbe2)+_0x2e8a99[HUNGER_LEVELS[_0x47daed(0x9a4)]])[_0x47daed(0x31f)]('§aFeed\x20All\x20Citizens',_0x47daed(0x89b))[_0x47daed(0x31f)](_0x47daed(0x878),_0x47daed(0x810))[_0x47daed(0x31f)](_0x47daed(0x168),'textures/items/paper')['button']('§9Back\x20to\x20Menu','textures/items/arrow'),_0x3e3721=await _0x22bf2c[_0x47daed(0x504)](_0x1f1e5d);if(_0x3e3721[_0x47daed(0x9d4)])return;switch(_0x3e3721[_0x47daed(0x77a)]){case 0x0:for(const _0x1738b8 of _0x2e7b4f){setCitizenHungerLevel(_0x1738b8['id'],HUNGER_LEVELS[_0x47daed(0x9bf)]);try{_0x1738b8['removeEffect'](_0x47daed(0x431)),_0x1738b8['removeEffect']('slowness'),_0x1738b8[_0x47daed(0x132)]('mining_fatigue');}catch(_0x11cdc5){}}_0x1f1e5d[_0x47daed(0x34f)](_0x47daed(0x55b)+_0x2e7b4f[_0x47daed(0xcd6)]+'\x20citizens\x20in\x20'+_0xd296f2[_0x47daed(0xa45)]+'!');break;case 0x1:checkCitizenHunger(),_0x1f1e5d[_0x47daed(0x34f)]('§6Manual\x20hunger\x20check\x20triggered\x20for\x20all\x20colonies!');break;case 0x2:await showIndividualCitizenHunger(_0x1f1e5d,_0xd296f2,_0x2e7b4f);break;case 0x3:await showModToolMenu(_0x1f1e5d,_0xd296f2);break;}}async function showIndividualCitizenHunger(_0x6b3083,_0xf3a3f9,_0x454398){const _0x546c51=_0x1d2622;if(_0x454398['length']===0x0){_0x6b3083[_0x546c51(0x34f)](_0x546c51(0x896));return;}const _0x4ecb88=new ActionFormData()[_0x546c51(0xd1)](_0x546c51(0x770)+_0xf3a3f9['name'])[_0x546c51(0x629)](_0x546c51(0x24c));for(const _0x4b2b52 of _0x454398){const _0x2c9f79=getCitizenHungerLevel(_0x4b2b52['id']),_0x353d43=getHungerStatusDisplay(_0x2c9f79),_0x384be0=_0x4b2b52[_0x546c51(0xa7c)]||_0x546c51(0x4e3);_0x4ecb88[_0x546c51(0x31f)](_0x384be0+'\x0a'+_0x353d43,_0x546c51(0x701));}_0x4ecb88[_0x546c51(0x31f)]('§9Back',_0x546c51(0xf7));const _0x34d253=await _0x4ecb88['show'](_0x6b3083);if(_0x34d253[_0x546c51(0x9d4)])return;if(_0x34d253[_0x546c51(0x77a)]===_0x454398[_0x546c51(0xcd6)]){await showHungerManagementMenu(_0x6b3083,_0xf3a3f9);return;}const _0x4e8470=_0x454398[_0x34d253[_0x546c51(0x77a)]];_0x4e8470&&await showCitizenHungerControl(_0x6b3083,_0xf3a3f9,_0x4e8470);}async function showCitizenHungerControl(_0x41c0cd,_0x24542e,_0x101cdb){const _0x5f11db=_0x1d2622,_0xcd87e9=getCitizenHungerLevel(_0x101cdb['id']),_0x1e8acf=getHungerStatusDisplay(_0xcd87e9),_0x3d4cb3=_0x101cdb['nameTag']||'Unnamed\x20Citizen',_0x43d82f=new ActionFormData()['title'](_0x5f11db(0x46a)+_0x3d4cb3)[_0x5f11db(0x629)](_0x5f11db(0xc09)+_0x1e8acf+_0x5f11db(0xc53))[_0x5f11db(0x31f)](_0x5f11db(0x2d1),_0x5f11db(0x89b))[_0x5f11db(0x31f)]('§eSet\x20to\x20Slightly\x20Hungry',_0x5f11db(0x89b))['button'](_0x5f11db(0x57b),_0x5f11db(0x89b))['button'](_0x5f11db(0x411),_0x5f11db(0x89b))[_0x5f11db(0x31f)](_0x5f11db(0x6c3),_0x5f11db(0x89b))[_0x5f11db(0x31f)](_0x5f11db(0x620),'textures/items/arrow'),_0x3453fc=await _0x43d82f[_0x5f11db(0x504)](_0x41c0cd);if(_0x3453fc[_0x5f11db(0x9d4)])return;switch(_0x3453fc[_0x5f11db(0x77a)]){case 0x0:setCitizenHungerLevel(_0x101cdb['id'],HUNGER_LEVELS[_0x5f11db(0x9bf)]),applyCitizenHungerEffects(_0x101cdb,HUNGER_LEVELS[_0x5f11db(0x9bf)]),_0x41c0cd[_0x5f11db(0x34f)]('§a'+_0x3d4cb3+_0x5f11db(0xc52));break;case 0x1:setCitizenHungerLevel(_0x101cdb['id'],HUNGER_LEVELS[_0x5f11db(0xad0)]),applyCitizenHungerEffects(_0x101cdb,HUNGER_LEVELS['SLIGHTLY_HUNGRY']),_0x41c0cd[_0x5f11db(0x34f)]('§e'+_0x3d4cb3+_0x5f11db(0x37b));break;case 0x2:setCitizenHungerLevel(_0x101cdb['id'],HUNGER_LEVELS['HUNGRY']),applyCitizenHungerEffects(_0x101cdb,HUNGER_LEVELS[_0x5f11db(0x5ff)]),_0x41c0cd[_0x5f11db(0x34f)]('§6'+_0x3d4cb3+_0x5f11db(0x57e));break;case 0x3:setCitizenHungerLevel(_0x101cdb['id'],HUNGER_LEVELS[_0x5f11db(0x6ec)]),applyCitizenHungerEffects(_0x101cdb,HUNGER_LEVELS[_0x5f11db(0x6ec)]),_0x41c0cd[_0x5f11db(0x34f)]('§c'+_0x3d4cb3+'\x20is\x20now\x20starving!');break;case 0x4:setCitizenHungerLevel(_0x101cdb['id'],HUNGER_LEVELS[_0x5f11db(0x9a4)]),applyCitizenHungerEffects(_0x101cdb,HUNGER_LEVELS[_0x5f11db(0x9a4)]),_0x41c0cd[_0x5f11db(0x34f)]('§4'+_0x3d4cb3+_0x5f11db(0x2c5));break;case 0x5:await showIndividualCitizenHunger(_0x41c0cd,_0x24542e,[_0x101cdb]);break;}}function getDefaultGlobalPrices(){const _0x4411c0=_0x1d2622,_0x4a97ff={},_0x139b4a=getAllBlueprints();for(const _0x9c4b0a of _0x139b4a){_0x4a97ff[_0x9c4b0a['typeId']]={'item':_0x4411c0(0x387),'amount':0xa};}return _0x4a97ff[_0x4411c0(0xa59)]={'item':_0x4411c0(0x387),'amount':0xa},_0x4a97ff['colony_flag']={'item':'minecraft:emerald','amount':0x14},_0x4a97ff;}function getGlobalPrices(){const _0x5a5ac8=_0x1d2622;let _0x12bdff=world['getDynamicProperty'](_0x5a5ac8(0x471));if(!_0x12bdff){const _0x28a135=getDefaultGlobalPrices();return world['setDynamicProperty']('global_prices',JSON[_0x5a5ac8(0x1db)](_0x28a135)),_0x28a135;}try{return JSON[_0x5a5ac8(0xc35)](_0x12bdff);}catch{return getDefaultGlobalPrices();}}function setGlobalPrices(_0x5d71bb){const _0x35d6ff=_0x1d2622;world[_0x35d6ff(0x4da)](_0x35d6ff(0x471),JSON[_0x35d6ff(0x1db)](_0x5d71bb));}async function showAdminPricesMenu(_0x34be3d){const _0x5d2585=_0x1d2622;let _0x323613=getGlobalPrices();const _0xeea0d2=new ModalFormData()[_0x5d2585(0xd1)](_0x5d2585(0xb07)),_0x4f48f3=getAllBlueprints();for(const _0x49f771 of _0x4f48f3){const _0xf82541=_0x323613[_0x49f771[_0x5d2585(0x621)]]||{'item':'minecraft:emerald','amount':0x1e},_0x520b6d=_0x49f771[_0x5d2585(0x994)]?_0x49f771[_0x5d2585(0x5cb)]+'\x20('+_0x49f771[_0x5d2585(0xacd)]+')':_0x49f771[_0x5d2585(0x5cb)];_0xeea0d2[_0x5d2585(0x556)]('§a'+_0x520b6d+_0x5d2585(0x901),_0xf82541[_0x5d2585(0xcd8)]??_0x5d2585(0x387))[_0x5d2585(0x556)]('§a'+_0x520b6d+_0x5d2585(0x1a7),String(_0xf82541[_0x5d2585(0x8f0)]??0x1e));}const _0x1a38eb=_0x323613[_0x5d2585(0xa59)]||{'item':_0x5d2585(0x387),'amount':0x5};_0xeea0d2['textField'](_0x5d2585(0x8c4),_0x1a38eb[_0x5d2585(0xcd8)]??_0x5d2585(0x387))[_0x5d2585(0x556)]('§aCitizen\x20Purchase\x20Amount',String(_0x1a38eb['amount']??0x5));const _0x73c067=_0x323613[_0x5d2585(0x6cf)]||{'item':_0x5d2585(0x387),'amount':0x14};_0xeea0d2['textField'](_0x5d2585(0x6f1),_0x73c067[_0x5d2585(0xcd8)]??_0x5d2585(0x387))[_0x5d2585(0x556)](_0x5d2585(0x51a),String(_0x73c067['amount']??0x14));const _0x5cc6dc=await _0xeea0d2[_0x5d2585(0x504)](_0x34be3d);if(_0x5cc6dc[_0x5d2585(0x9d4)])return;let _0x5e71bf=0x0;for(const _0x41b492 of _0x4f48f3){const _0x12872a=_0x5cc6dc[_0x5d2585(0x36e)][_0x5e71bf++]||_0x5d2585(0x387);let _0x5833f4=parseInt(_0x5cc6dc['formValues'][_0x5e71bf++]);if(isNaN(_0x5833f4)||_0x5833f4<=0x0)_0x5833f4=0x1e;_0x323613[_0x41b492[_0x5d2585(0x621)]]={'item':_0x12872a,'amount':_0x5833f4};}const _0x4b4735=_0x5cc6dc[_0x5d2585(0x36e)][_0x5e71bf++]||'minecraft:emerald';let _0x3a4368=parseInt(_0x5cc6dc[_0x5d2585(0x36e)][_0x5e71bf++]);if(isNaN(_0x3a4368)||_0x3a4368<=0x0)_0x3a4368=0x5;_0x323613[_0x5d2585(0xa59)]={'item':_0x4b4735,'amount':_0x3a4368};const _0x32d730=_0x5cc6dc[_0x5d2585(0x36e)][_0x5e71bf++]||_0x5d2585(0x387);let _0x1cf0b4=parseInt(_0x5cc6dc[_0x5d2585(0x36e)][_0x5e71bf++]);if(isNaN(_0x1cf0b4)||_0x1cf0b4<=0x0)_0x1cf0b4=0x14;_0x323613[_0x5d2585(0x6cf)]={'item':_0x32d730,'amount':_0x1cf0b4},setGlobalPrices(_0x323613),_0x34be3d[_0x5d2585(0x34f)](_0x5d2585(0xcd));}const MAYOR_MODULES=[{'id':'view_info','name':_0x1d2622(0x8f6),'icon':'textures/ui/infobulb'},{'id':'view_colony_flags','name':_0x1d2622(0xada),'icon':_0x1d2622(0xb71)},{'id':_0x1d2622(0x519),'name':_0x1d2622(0xcfa),'icon':_0x1d2622(0x39b)},{'id':_0x1d2622(0x3dc),'name':_0x1d2622(0x17c),'icon':_0x1d2622(0xa7a)},{'id':'construction','name':_0x1d2622(0xb94),'icon':_0x1d2622(0x793)},{'id':_0x1d2622(0x2ca),'name':_0x1d2622(0x68d),'icon':'textures/ui/worldsIcon.png'},{'id':_0x1d2622(0x19b),'name':_0x1d2622(0x5a5),'icon':'textures/ui/icon_multiplayer.png'},{'id':'leave_colony','name':_0x1d2622(0xc77),'icon':'textures/ui/cancel'},{'id':'rename_colony','name':_0x1d2622(0x49b),'icon':'textures/ui/pencil_edit_icon.png'},{'id':_0x1d2622(0x1cc),'name':_0x1d2622(0x2a9),'icon':'textures/ui/trash.png'}],PACK_VISIBILITY_MODULES=[{'id':_0x1d2622(0x4b8),'name':_0x1d2622(0x206),'icon':'textures/items/colony_flag'},{'id':_0x1d2622(0x9db),'name':'Show\x20Structure\x20Packs','icon':_0x1d2622(0x793)}];function getDefaultGlobalModules(){const _0x4d2e91={};for(const _0x557430 of MAYOR_MODULES)_0x4d2e91[_0x557430['id']]=!![];return _0x4d2e91;}function getGlobalModules(){const _0x15481a=_0x1d2622;let _0x284bb4=world[_0x15481a(0x49d)](_0x15481a(0x6fd));if(!_0x284bb4){const _0x4bd6f1=getDefaultGlobalModules();return world[_0x15481a(0x4da)](_0x15481a(0x6fd),JSON[_0x15481a(0x1db)](_0x4bd6f1)),_0x4bd6f1;}let _0x15ea5f;try{_0x15ea5f=JSON['parse'](_0x284bb4);}catch{_0x15ea5f=getDefaultGlobalModules();}const _0x537bde=getDefaultGlobalModules();for(const _0x123ce6 in _0x537bde){!(_0x123ce6 in _0x15ea5f)&&(_0x15ea5f[_0x123ce6]=_0x537bde[_0x123ce6]);}return _0x15ea5f;}function setGlobalModules(_0x51f347){const _0x253e7c=_0x1d2622;world['setDynamicProperty'](_0x253e7c(0x6fd),JSON[_0x253e7c(0x1db)](_0x51f347));}function getDefaultPackVisibility(){const _0x3e47ad={};for(const _0x4036a3 of PACK_VISIBILITY_MODULES)_0x3e47ad[_0x4036a3['id']]=!![];return _0x3e47ad;}function getPackVisibility(){const _0x4997f6=_0x1d2622;let _0x4df04b=world[_0x4997f6(0x49d)](_0x4997f6(0x936));if(!_0x4df04b){const _0x5138d4=getDefaultPackVisibility();return world[_0x4997f6(0x4da)](_0x4997f6(0x936),JSON[_0x4997f6(0x1db)](_0x5138d4)),_0x5138d4;}let _0x177f90;try{_0x177f90=JSON[_0x4997f6(0xc35)](_0x4df04b);}catch{_0x177f90=getDefaultPackVisibility();}const _0xce01cf=getDefaultPackVisibility();for(const _0x226a60 in _0xce01cf){!(_0x226a60 in _0x177f90)&&(_0x177f90[_0x226a60]=_0xce01cf[_0x226a60]);}return _0x177f90;}function setPackVisibility(_0x58f1a3){const _0x28b906=_0x1d2622;world[_0x28b906(0x4da)](_0x28b906(0x936),JSON[_0x28b906(0x1db)](_0x58f1a3));}function isPackVisible(_0x3b85bd){const _0x4a25a3=getPackVisibility();return _0x4a25a3[_0x3b85bd]!==![];}function getGlobalSettings(){const _0xf06c6a=_0x1d2622;let _0x2b3d2f=world[_0xf06c6a(0x49d)]('global_settings');if(_0x2b3d2f)try{return JSON[_0xf06c6a(0xc35)](_0x2b3d2f);}catch(_0x16141f){console[_0xf06c6a(0x5b4)](_0xf06c6a(0xa27),_0x16141f);}return getDefaultGlobalSettings();}function getDefaultGlobalSettings(){return{'plaguesEnabled':!![],'marauderAttacksEnabled':!![],'landProtectionEnabled':!![],'flagTeleportEnabled':!![],'citizenHungerEnabled':!![],'arenaEnabled':!![],'minimapCompatMode':![],'maxNPCs':0x1e,'maxFlags':0xa,'plagueIntervalMinutes':0x5a0,'marauderIntervalMinutes':0xfa0,'colonyInactivityDays':0x0};}function setGlobalSettings(_0x222490){const _0x22f728=_0x1d2622;world[_0x22f728(0x4da)]('global_settings',JSON['stringify'](_0x222490));}function isPlaguesEnabled(){const _0x50dac8=getGlobalSettings();return _0x50dac8['plaguesEnabled']!==![];}function isMarauderAttacksEnabled(){const _0x5597f0=_0x1d2622,_0x66bcd8=getGlobalSettings();return _0x66bcd8[_0x5597f0(0x945)]!==![];}function isLandProtectionEnabled(){const _0x2858fd=_0x1d2622,_0x37f73c=getGlobalSettings();return _0x37f73c[_0x2858fd(0x470)]!==![];}function isFlagTeleportEnabled(){const _0x5cf3d5=getGlobalSettings();return _0x5cf3d5['flagTeleportEnabled']!==![];}function isCitizenHungerEnabled(){const _0x3a6782=_0x1d2622,_0x2d5749=getGlobalSettings();return _0x2d5749[_0x3a6782(0x778)]!==![];}function isArenaEnabled(){const _0x102bb7=_0x1d2622,_0x513aa3=getGlobalSettings();return _0x513aa3[_0x102bb7(0x9e9)]!==![];}function isMinimapCompatModeEnabled(){const _0x12054f=getGlobalSettings();return _0x12054f['minimapCompatMode']===!![];}function getGlobalMaxNPCs(){const _0x58c80f=_0x1d2622,_0x1f9c71=getGlobalSettings();return _0x1f9c71[_0x58c80f(0x8e0)]??0x1e;}function getGlobalMaxFlags(){const _0x22b620=_0x1d2622,_0x17b859=getGlobalSettings();return _0x17b859[_0x22b620(0x44f)]??0xa;}function getGlobalPlagueInterval(){const _0x3a085d=getGlobalSettings();return _0x3a085d['plagueIntervalMinutes']??0x5a0;}function getGlobalMarauderInterval(){const _0x417192=getGlobalSettings();return _0x417192['marauderIntervalMinutes']??0xfa0;}function getGlobalColonyInactivityDays(){const _0x446eb4=_0x1d2622,_0x58f3e9=getGlobalSettings();return _0x58f3e9[_0x446eb4(0x645)]??0x0;}function getDefaultModules(){const _0x29e3e9={};for(const _0x5a4165 of MAYOR_MODULES)_0x29e3e9[_0x5a4165['id']]=!![];return _0x29e3e9;}function isModuleEnabled(_0x2576d0,_0x523042){const _0x286637=getGlobalModules();return _0x286637[_0x523042]!==![];}async function showColonyModulesMenu(_0x27cc4e,_0x46f7df){const _0x8b8716=_0x1d2622;let _0x2cd1a0=getGlobalModules(),_0x40fbc5=getPackVisibility();const _0x378d6b=new ModalFormData()[_0x8b8716(0xd1)](_0x8b8716(0x2ea));for(const _0x574d3b of MAYOR_MODULES){_0x378d6b['toggle']('§a'+_0x574d3b[_0x8b8716(0xa45)],_0x2cd1a0[_0x574d3b['id']]??!![]);}_0x378d6b[_0x8b8716(0xe5)]('§e[Flag]\x20Basic\x20Colors',_0x40fbc5['flag_pack_basic']??!![]),_0x378d6b[_0x8b8716(0xe5)](_0x8b8716(0xa6a),_0x40fbc5[_0x8b8716(0x533)]??!![]),_0x378d6b[_0x8b8716(0xe5)](_0x8b8716(0x3cc),_0x40fbc5[_0x8b8716(0x8e6)]??!![]),_0x378d6b['toggle'](_0x8b8716(0xbe7),_0x40fbc5[_0x8b8716(0x2dd)]??!![]),_0x378d6b['toggle'](_0x8b8716(0x463),_0x40fbc5['structure_pack_plains']??!![]),_0x378d6b[_0x8b8716(0xe5)]('§e[Structure]\x20Desert\x20Pack',_0x40fbc5['structure_pack_desert']??!![]),_0x378d6b[_0x8b8716(0xe5)](_0x8b8716(0x4f2),_0x40fbc5[_0x8b8716(0x553)]??!![]);const _0x4e4898=await _0x378d6b[_0x8b8716(0x504)](_0x27cc4e);if(_0x4e4898[_0x8b8716(0x9d4)])return;let _0x292e05=0x0;MAYOR_MODULES[_0x8b8716(0x2c2)](_0x2cc852=>{_0x2cd1a0[_0x2cc852['id']]=_0x4e4898['formValues'][_0x292e05++];}),_0x40fbc5[_0x8b8716(0x4ec)]=_0x4e4898[_0x8b8716(0x36e)][_0x292e05++],_0x40fbc5[_0x8b8716(0x533)]=_0x4e4898[_0x8b8716(0x36e)][_0x292e05++],_0x40fbc5[_0x8b8716(0x8e6)]=_0x4e4898['formValues'][_0x292e05++],_0x40fbc5[_0x8b8716(0x2dd)]=_0x4e4898[_0x8b8716(0x36e)][_0x292e05++],_0x40fbc5[_0x8b8716(0xa37)]=_0x4e4898[_0x8b8716(0x36e)][_0x292e05++],_0x40fbc5[_0x8b8716(0xbd3)]=_0x4e4898[_0x8b8716(0x36e)][_0x292e05++],_0x40fbc5[_0x8b8716(0x553)]=_0x4e4898['formValues'][_0x292e05++],setGlobalModules(_0x2cd1a0),setPackVisibility(_0x40fbc5),_0x27cc4e[_0x8b8716(0x34f)](_0x8b8716(0xa86));}async function confirmAndDeleteColony(_0x365b4e,_0x392581){const _0x3e1672=_0x1d2622;if(_0x392581&&_0x392581['id']){const _0x39d318=colonies[_0x3e1672(0xc0a)](_0x392581['id']);if(_0x39d318)_0x392581=_0x39d318;else{_0x365b4e[_0x3e1672(0x34f)]('§cError:\x20Colony\x20no\x20longer\x20exists\x20in\x20the\x20system.');return;}}else{_0x365b4e['sendMessage']('§cError:\x20Invalid\x20colony\x20data.\x20Cannot\x20delete.');return;}const _0x415234=_0x392581[_0x3e1672(0xa45)],_0xa9df3f=_0x365b4e[_0x3e1672(0x4ac)](_0x3e1672(0x252)),_0x25b877=_0xa9df3f?_0x3e1672(0x62c):'§cDelete\x20Colony',_0x33bad0=new ActionFormData()[_0x3e1672(0xd1)](_0x25b877)[_0x3e1672(0x629)](_0x3e1672(0xaa3)+_0x415234+'\x22?\x20This\x20cannot\x20be\x20undone!')[_0x3e1672(0x31f)]('§cDelete\x20Colony',_0x3e1672(0x933))[_0x3e1672(0x31f)](_0x3e1672(0x6e3),_0x3e1672(0x96e)),_0x1aea12=await _0x33bad0[_0x3e1672(0x504)](_0x365b4e);if(_0x1aea12[_0x3e1672(0x9d4)]||_0x1aea12[_0x3e1672(0x77a)]===0x1)return;const _0x194ae4=await deleteColony(_0x365b4e,_0x392581);_0x194ae4&&_0xa9df3f&&_0x365b4e[_0x3e1672(0x34f)](_0x3e1672(0xb5a)+_0x415234+_0x3e1672(0x681));}import{world,system,BlockPermutation,ItemStack,EquipmentSlot}from'@minecraft/server';import{ModalFormData,ActionFormData,MessageFormData}from'@minecraft/server-ui';const musicDiscs={'jerrys_colonies:thearena':{'sound':{'volume':0x1,'id':'record.thearena'}}};if(world[_0x1d2622(0x49d)](_0x1d2622(0xa93))==undefined)world[_0x1d2622(0x4da)](_0x1d2622(0xa93),JSON[_0x1d2622(0x1db)]({}));class jukeboxManager{static[_0x1d2622(0x348)](_0x518b4f){const _0x3e1d86=_0x1d2622,_0x3e03c5=this[_0x3e1d86(0x935)]();if(_0x3e03c5[_0x3e1d86(0x2d6)](JSON['stringify'](_0x518b4f)))return _0x3e03c5[JSON[_0x3e1d86(0x1db)](_0x518b4f)];else return undefined;}static['getAllJukeboxes'](){const _0x4dde42=_0x1d2622;let _0x18e286=world[_0x4dde42(0x49d)](_0x4dde42(0xa93));if(_0x18e286==undefined)_0x18e286={};return JSON[_0x4dde42(0xc35)](_0x18e286);}static[_0x1d2622(0x3f3)](_0x4311d4,_0x295d30){const _0x547db1=_0x1d2622,_0x711551=this[_0x547db1(0x935)]();_0x711551[JSON[_0x547db1(0x1db)](_0x4311d4)]=_0x295d30,world[_0x547db1(0x4da)](_0x547db1(0xa93),JSON[_0x547db1(0x1db)](_0x711551));}static[_0x1d2622(0x342)](_0x3c2d30){const _0x12f760=_0x1d2622,_0x1ea696=this[_0x12f760(0x935)]();delete _0x1ea696[JSON[_0x12f760(0x1db)](_0x3c2d30)],world['setDynamicProperty'](_0x12f760(0xa93),JSON[_0x12f760(0x1db)](_0x1ea696));}}world[_0x1d2622(0xcd5)][_0x1d2622(0x76b)][_0x1d2622(0xba5)](_0x9925db=>{const _0x54961b=_0x1d2622,{player:_0x37b066,block:_0x572ea6}=_0x9925db,_0xefa429=_0x37b066[_0x54961b(0x299)](_0x54961b(0x328)),_0x18b1d7=_0xefa429[_0x54961b(0x8a9)](EquipmentSlot[_0x54961b(0x584)]);if(_0x572ea6[_0x54961b(0x91a)]['matches'](_0x54961b(0x7ec))){if(jukeboxManager[_0x54961b(0x348)](_0x572ea6[_0x54961b(0x1f2)])==undefined)jukeboxManager['setJukebox'](_0x572ea6[_0x54961b(0x1f2)],{'playing_disc':_0x54961b(0x48a)});const _0x96a78f=jukeboxManager[_0x54961b(0x348)](_0x572ea6[_0x54961b(0x1f2)]);if(_0x18b1d7[_0x54961b(0xadc)]()&&_0x96a78f[_0x54961b(0xce1)]==_0x54961b(0x48a)){const _0x3975c1=_0x18b1d7[_0x54961b(0x416)]();if(_0x3975c1&&musicDiscs['hasOwnProperty'](_0x3975c1[_0x54961b(0x621)])){system['run'](function(){const _0x43a7ab=_0x54961b,_0x6f5aa7=_0xefa429[_0x43a7ab(0x8a9)](EquipmentSlot['Mainhand']);if(_0x6f5aa7[_0x43a7ab(0xadc)]()){const _0x5eaf45=_0x6f5aa7[_0x43a7ab(0x416)](),_0x245268=musicDiscs[_0x5eaf45[_0x43a7ab(0x621)]][_0x43a7ab(0x5e1)];_0x572ea6[_0x43a7ab(0xaf8)][_0x43a7ab(0x285)](_0x245268['id'],_0x572ea6[_0x43a7ab(0x1f2)],{'volume':_0x245268[_0x43a7ab(0xc2e)]}),jukeboxManager[_0x43a7ab(0x3f3)](_0x572ea6[_0x43a7ab(0x1f2)],{'playing_disc':_0x5eaf45['typeId']}),_0x6f5aa7[_0x43a7ab(0xbc1)](undefined);}});return;}}else{if(_0x96a78f['playing_disc']!='nothing'){const _0x2e3a52=new ItemStack(_0x96a78f[_0x54961b(0xce1)],0x1);jukeboxManager[_0x54961b(0x3f3)](_0x572ea6[_0x54961b(0x1f2)],{'playing_disc':_0x54961b(0x48a)}),system['runTimeout'](()=>{const _0x2da0d1=_0x54961b;_0x572ea6[_0x2da0d1(0xaf8)][_0x2da0d1(0x3ec)](_0x2e3a52,{'x':_0x572ea6[_0x2da0d1(0x1f2)]['x']+0.5,'y':_0x572ea6[_0x2da0d1(0x1f2)]['y']+0x1,'z':_0x572ea6[_0x2da0d1(0x1f2)]['z']+0.5}),_0x572ea6[_0x2da0d1(0xaf8)]['runCommand'](_0x2da0d1(0x798)+_0x572ea6[_0x2da0d1(0x1f2)]['x']+'\x20'+_0x572ea6[_0x2da0d1(0x1f2)]['y']+'\x20'+_0x572ea6['location']['z']+_0x2da0d1(0x8fa)+musicDiscs[_0x96a78f[_0x2da0d1(0xce1)]]['sound']['id']);});}}}if(_0x18b1d7['hasItem']()){const _0x5ddc37=_0x18b1d7['getItem']();if(_0x5ddc37&&_0x5ddc37['typeId']===_0x54961b(0xd6)&&_0x5ddc37[_0x54961b(0xa7c)]==='test'){_0x37b066['sendMessage'](_0x54961b(0xba7));const _0x94a4c1={'id':'test-match','name':_0x54961b(0x795),'createdBy':_0x37b066['name'],'createdByColony':_0x54961b(0x7ee),'status':'waiting','maxPlayers':0x8,'duration':0xa,'teams':{'0':{'colonyId':_0x54961b(0x456),'colonyName':_0x54961b(0x100),'players':[_0x37b066['name']]},'1':{'colonyId':'colony2','colonyName':_0x54961b(0xa55),'players':['FakePlayer']}},'startedAt':null,'endedAt':null,'waitingTimeout':null};try{startMatch(_0x37b066,_0x94a4c1),_0x37b066[_0x54961b(0x34f)](_0x54961b(0xa6c));}catch(_0x198bee){_0x37b066[_0x54961b(0x34f)](_0x54961b(0xa47)+_0x198bee['message']),console[_0x54961b(0x7bf)](_0x54961b(0x924),_0x198bee);}}}}),world[_0x1d2622(0x290)][_0x1d2622(0x3ba)][_0x1d2622(0xba5)](_0x3c2d81=>{const _0x2c5f7a=_0x1d2622,{block:_0x524979}=_0x3c2d81;if(_0x3c2d81[_0x2c5f7a(0x8b2)]['matches']('minecraft:jukebox')){const _0x48943b=jukeboxManager[_0x2c5f7a(0x348)](_0x524979[_0x2c5f7a(0x1f2)]);if(_0x48943b?.[_0x2c5f7a(0xce1)]!='nothing'){const _0x114c2f=new ItemStack(_0x48943b[_0x2c5f7a(0xce1)],0x1);_0x524979[_0x2c5f7a(0xaf8)][_0x2c5f7a(0x3ec)](_0x114c2f,{'x':_0x524979['location']['x']+0.5,'y':_0x524979['location']['y']+0x1,'z':_0x524979['location']['z']+0.5}),_0x524979[_0x2c5f7a(0xaf8)]['runCommand'](_0x2c5f7a(0x798)+_0x524979[_0x2c5f7a(0x1f2)]['x']+'\x20'+_0x524979[_0x2c5f7a(0x1f2)]['y']+'\x20'+_0x524979[_0x2c5f7a(0x1f2)]['z']+'\x20run\x20stopsound\x20@a[r=100]\x20'+musicDiscs[_0x48943b[_0x2c5f7a(0xce1)]][_0x2c5f7a(0x5e1)]['id']);}jukeboxManager[_0x2c5f7a(0x342)](_0x524979[_0x2c5f7a(0x1f2)]);}});const expansionBlueprints=new Map(),loadedExpansionPacks=new Set();function registerExpansionBlueprint(_0x1d2f61,_0x4c0104){const _0x48ea0a=_0x1d2622;if(!_0x4c0104[_0x48ea0a(0x621)]||!_0x4c0104[_0x48ea0a(0x5cb)])return console[_0x48ea0a(0x7bf)]('Invalid\x20expansion\x20blueprint\x20from\x20'+_0x1d2f61+':',_0x4c0104),![];if(!_0x4c0104[_0x48ea0a(0x243)]&&!_0x4c0104[_0x48ea0a(0x29f)])return console[_0x48ea0a(0x7bf)](_0x48ea0a(0xacb)+_0x1d2f61+':\x20non-entity\x20blueprint\x20requires\x20structure',_0x4c0104),![];return!_0x4c0104[_0x48ea0a(0x5c1)]?_0x4c0104[_0x48ea0a(0x5c1)]={'width':0xf,'height':0x16,'depth':0xf}:(_0x4c0104['size'][_0x48ea0a(0x499)]>0xf||_0x4c0104[_0x48ea0a(0x5c1)][_0x48ea0a(0x518)]>0x16||_0x4c0104[_0x48ea0a(0x5c1)]['depth']>0xf)&&(console[_0x48ea0a(0x5b4)](_0x48ea0a(0x9e0)+_0x1d2f61+_0x48ea0a(0xc3e)+_0x4c0104[_0x48ea0a(0x5cb)]+_0x48ea0a(0x1e8)),_0x4c0104[_0x48ea0a(0x5c1)][_0x48ea0a(0x499)]=Math[_0x48ea0a(0x2c1)](_0x4c0104[_0x48ea0a(0x5c1)][_0x48ea0a(0x499)],0xf),_0x4c0104['size'][_0x48ea0a(0x518)]=Math[_0x48ea0a(0x2c1)](_0x4c0104[_0x48ea0a(0x5c1)]['height'],0x16),_0x4c0104[_0x48ea0a(0x5c1)]['depth']=Math[_0x48ea0a(0x2c1)](_0x4c0104[_0x48ea0a(0x5c1)][_0x48ea0a(0x7b9)],0xf)),!_0x4c0104['frontSide']&&(_0x4c0104[_0x48ea0a(0xbdd)]=_0x48ea0a(0x1fe)),_0x4c0104['isExpansion']=!![],_0x4c0104[_0x48ea0a(0xacd)]=_0x1d2f61,expansionBlueprints[_0x48ea0a(0x336)](_0x4c0104[_0x48ea0a(0x621)],_0x4c0104),console[_0x48ea0a(0x6a4)](_0x48ea0a(0x713)+_0x4c0104['displayName']+_0x48ea0a(0xb99)+_0x1d2f61),!![];}function getAllBlueprints(){const _0x395ec3=_0x1d2622,_0x3a6ffb=[...BLUEPRINTS];for(const _0x4c74e0 of expansionBlueprints[_0x395ec3(0xaf3)]()){_0x3a6ffb['push'](_0x4c74e0);}return _0x3a6ffb;}let activeWars=[];const pendingKnightConversions=new Map(),pendingFlagSteals=new Map();function savePendingFlagSteals(){const _0x58eda2=_0x1d2622;try{const _0xc92efc=Object[_0x58eda2(0x5c8)](pendingFlagSteals);world[_0x58eda2(0x4da)](_0x58eda2(0x4f7),JSON[_0x58eda2(0x1db)](_0xc92efc));}catch(_0x45bdfa){console[_0x58eda2(0x7bf)](_0x58eda2(0xc5c),_0x45bdfa);}}function loadPendingFlagSteals(){const _0x28133b=_0x1d2622;try{const _0x1ef737=world[_0x28133b(0x49d)](_0x28133b(0x4f7));if(_0x1ef737){const _0x1b2610=JSON[_0x28133b(0xc35)](_0x1ef737);for(const [_0x1ea1d,_0x4c36ae]of Object[_0x28133b(0x74e)](_0x1b2610)){pendingFlagSteals[_0x28133b(0x336)](_0x1ea1d,_0x4c36ae);}console['log'](_0x28133b(0xa42)+pendingFlagSteals[_0x28133b(0x5c1)]+'\x20pending\x20flag\x20steal(s)');}}catch(_0x74c9db){console[_0x28133b(0x7bf)](_0x28133b(0x82a),_0x74c9db);}}function getCitizenDeathMessage(_0x11a9ea,_0x3c6a81,_0x4b9af0){const _0x3fa505=_0x1d2622;let _0x508634='citizen.death.generic',_0x5dcc80=[_0x4b9af0];if(!_0x3c6a81)return world[_0x3fa505(0xb37)]()[_0x3fa505(0xc17)](_0x508634,..._0x5dcc80);const _0x3422e9=_0x3c6a81[_0x3fa505(0x9f1)];if(_0x3c6a81[_0x3fa505(0x851)]){const _0x4cc1b3=_0x3c6a81['damagingEntity'],_0x3ddc09=_0x4cc1b3[_0x3fa505(0xa7c)]||(_0x4cc1b3[_0x3fa505(0x621)][_0x3fa505(0x22d)](':')?_0x4cc1b3[_0x3fa505(0x621)][_0x3fa505(0x44b)](':')[0x1]:_0x4cc1b3[_0x3fa505(0x621)])[_0x3fa505(0x15a)](/_/g,'\x20');_0x4cc1b3['typeId']===_0x3fa505(0x2d8)?(_0x508634=_0x3fa505(0x246),_0x5dcc80=[_0x4b9af0,_0x3ddc09]):(_0x508634='citizen.death.mob',_0x5dcc80=[_0x4b9af0,_0x3ddc09]);if(_0x3422e9===_0x3fa505(0x40b)){if(_0x3c6a81['projectile']?.['typeId']===_0x3fa505(0xef))_0x508634=_0x3fa505(0x45d),_0x5dcc80=[_0x4b9af0];else _0x3c6a81[_0x3fa505(0x40b)]?.[_0x3fa505(0x621)]===_0x3fa505(0x302)&&(_0x508634=_0x3fa505(0x894),_0x5dcc80=[_0x4b9af0]);}_0x3422e9===_0x3fa505(0xa2c)&&(_0x508634=_0x3fa505(0x370),_0x5dcc80=[_0x4b9af0,_0x3ddc09]);}else switch(_0x3422e9){case _0x3fa505(0xc5b):_0x508634=_0x3fa505(0x340);break;case'fire':case'fire_tick':_0x508634=_0x3fa505(0x899);break;case _0x3fa505(0x313):_0x508634=_0x3fa505(0x608);break;case'drowning':_0x508634=_0x3fa505(0xa01);break;case _0x3fa505(0x940):_0x508634=_0x3fa505(0x43c);break;case'magic':_0x508634=_0x3fa505(0x45b);break;case _0x3fa505(0xa8c):_0x508634=_0x3fa505(0x9ee);break;case _0x3fa505(0x29d):_0x508634=_0x3fa505(0x75f);break;case _0x3fa505(0x280):_0x508634=_0x3fa505(0x4db);break;case _0x3fa505(0x5ab):_0x508634=_0x3fa505(0x781);break;case _0x3fa505(0x941):_0x508634=_0x3fa505(0x2fb);break;case _0x3fa505(0x7e3):_0x508634=_0x3fa505(0xc05);break;case _0x3fa505(0xa1a):_0x508634='citizen.death.lightning';break;default:_0x508634=_0x3fa505(0x8d6);break;}try{let _0x5dec86='';switch(_0x508634){case _0x3fa505(0x8d6):_0x5dec86=_0x3fa505(0x13b);break;case _0x3fa505(0x340):_0x5dec86=_0x3fa505(0x1ba);break;case _0x3fa505(0x899):_0x5dec86='%s\x20burned\x20to\x20death';break;case _0x3fa505(0x608):_0x5dec86=_0x3fa505(0x35f);break;case _0x3fa505(0xa01):_0x5dec86='%s\x20drowned';break;case'citizen.death.explosion':_0x5dec86=_0x3fa505(0x32f);break;case _0x3fa505(0x45b):_0x5dec86='%s\x20was\x20killed\x20by\x20magic';break;case'citizen.death.mob':_0x5dec86='%s\x20was\x20slain\x20by\x20%s';break;case _0x3fa505(0x246):_0x5dec86=_0x3fa505(0x13f);break;case _0x3fa505(0x45d):_0x5dec86=_0x3fa505(0xa56);break;case _0x3fa505(0x9ee):_0x5dec86=_0x3fa505(0x8cc);break;case _0x3fa505(0x75f):_0x5dec86=_0x3fa505(0xa68);break;case _0x3fa505(0x4db):_0x5dec86='%s\x20fell\x20into\x20the\x20void';break;case _0x3fa505(0x781):_0x5dec86=_0x3fa505(0xc63);break;case'citizen.death.anvil':_0x5dec86=_0x3fa505(0xd02);break;case _0x3fa505(0x370):_0x5dec86=_0x3fa505(0x473);break;case _0x3fa505(0xc05):_0x5dec86=_0x3fa505(0x7f4);break;case _0x3fa505(0x894):_0x5dec86=_0x3fa505(0x819);break;case _0x3fa505(0xc86):_0x5dec86=_0x3fa505(0x9e3);break;default:_0x5dec86=_0x3fa505(0x97a);break;}return _0x5dcc80[_0x3fa505(0xcd6)]>=0x1&&(_0x5dec86=_0x5dec86[_0x3fa505(0x15a)]('%s',_0x5dcc80[0x0]),_0x5dcc80[_0x3fa505(0xcd6)]>=0x2&&(_0x5dec86=_0x5dec86[_0x3fa505(0x15a)]('%s',_0x5dcc80[0x1]))),'§c'+_0x5dec86+'§r';}catch(_0xec695f){return'§c'+_0x4b9af0+_0x3fa505(0x7ea);}}world[_0x1d2622(0x290)][_0x1d2622(0xa87)]['subscribe'](_0x2accbd=>{const _0x5b5117=_0x1d2622;let _0x4a0106=0x0;const _0x4ec772=0x14,_0x46ca36=()=>{const _0x1c7436=_0x4f32;_0x4a0106++;try{const _0xb1fcc3=world[_0x1c7436(0x241)]();if(_0xb1fcc3[_0x1c7436(0xcd6)]>0x0){const _0x3079e1=_0xb1fcc3[_0xb1fcc3[_0x1c7436(0xcd6)]-0x1];if(!_0x3079e1||!_0x3079e1[_0x1c7436(0x25f)]())return;const _0x404408=_0x3079e1['name']||_0x1c7436(0x6da);console['warn'](_0x1c7436(0x7ba)+_0x404408+_0x1c7436(0x2a5)),loadCitizenGiftCooldowns(),loadVisitedColonies(),loadPendingFlagSteals(),system[_0x1c7436(0x633)](()=>{handleArenaReconnection(_0x3079e1);},0x14),system[_0x1c7436(0x633)](()=>{const _0x58652a=_0x1c7436;try{if(!_0x3079e1||!_0x3079e1[_0x58652a(0x25f)]()){console[_0x58652a(0x5b4)](_0x58652a(0x534));return;}const _0x1ffb5d=getPlayerColony(_0x3079e1);console[_0x58652a(0x5b4)]('[PLAYER\x20JOIN]\x20'+_0x3079e1['name']+_0x58652a(0x5d1)+_0x1ffb5d);if(_0x1ffb5d){const _0x4cdeab=colonies[_0x58652a(0xc0a)](_0x1ffb5d);console['warn'](_0x58652a(0x255)+(_0x4cdeab?_0x58652a(0xb76):'NO')+_0x58652a(0xc7b)+_0x4cdeab?.[_0x58652a(0xcd0)]+_0x58652a(0x571)+_0x4cdeab?.[_0x58652a(0x396)]+_0x58652a(0x3c2)+_0x3079e1['id']),_0x4cdeab?syncPlayerPermissions(_0x3079e1,_0x4cdeab):console[_0x58652a(0x5b4)](_0x58652a(0x960)+_0x1ffb5d+_0x58652a(0x511));}}catch(_0x386325){console[_0x58652a(0x5b4)]('[PLAYER\x20JOIN]\x20Error\x20syncing\x20permissions:',_0x386325,_0x386325[_0x58652a(0x14d)]);}},0x5),system[_0x1c7436(0x633)](()=>{const _0x1fcb4f=_0x1c7436;try{if(!_0x3079e1||!_0x3079e1[_0x1fcb4f(0x25f)]())return;giveFirstTimeGuidebook(_0x3079e1),checkUpcomingTaxPayments(_0x3079e1),checkPendingFlagSteal(_0x3079e1);}catch(_0x593716){console[_0x1fcb4f(0x5b4)](_0x1fcb4f(0x62f),_0x593716,_0x593716[_0x1fcb4f(0x14d)]);}},0x64);return;}if(_0x4a0106>=_0x4ec772){console[_0x1c7436(0x7bf)](_0x1c7436(0x4c9));return;}system[_0x1c7436(0x633)](_0x46ca36,0xa);}catch(_0x1fe0be){console[_0x1c7436(0x7bf)]('[PLAYER\x20JOIN]\x20Critical\x20error\x20in\x20pollForPlayer:',_0x1fe0be,_0x1fe0be[_0x1c7436(0x14d)]);}};system[_0x5b5117(0x633)](_0x46ca36,0xa);});function giveFirstTimeGuidebook(_0x7cb666){const _0x10c64b=_0x1d2622;try{if(!_0x7cb666||!_0x7cb666[_0x10c64b(0x25f)]()){console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Invalid\x20player\x20object\x20in\x20giveFirstTimeGuidebook');return;}const _0x3bc996=_0x7cb666[_0x10c64b(0x460)]();console[_0x10c64b(0x5b4)](_0x10c64b(0x90c)+_0x7cb666[_0x10c64b(0xa45)]+'\x20current\x20tags:',JSON['stringify'](_0x3bc996));const _0x46c092=_0x3bc996[_0x10c64b(0x22d)](_0x10c64b(0x62a));console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Player\x20'+_0x7cb666[_0x10c64b(0xa45)]+_0x10c64b(0x964)+_0x46c092);if(!_0x46c092){console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20=====\x20STARTING\x20GUIDEBOOK\x20DISTRIBUTION\x20FOR:\x20'+_0x7cb666['name']+_0x10c64b(0x2a5)),console[_0x10c64b(0x5b4)](_0x10c64b(0xbdc)),_0x7cb666['sendMessage'](_0x10c64b(0x9ce)),_0x7cb666[_0x10c64b(0x34f)]('§e§lWelcome\x20to\x20Jerry\x27s\x20Colonies!'),_0x7cb666[_0x10c64b(0x34f)]('§7Start\x20by\x20opening\x20the\x20§eGuidebook§7,'),_0x7cb666[_0x10c64b(0x34f)](_0x10c64b(0x7cf)),_0x7cb666[_0x10c64b(0x34f)]('§6§l━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');try{_0x7cb666[_0x10c64b(0x285)]('event.whistle');}catch(_0x3b9d67){console[_0x10c64b(0x5b4)](_0x10c64b(0xc59)+_0x7cb666['name']+':\x20'+_0x3b9d67);}console[_0x10c64b(0x5b4)](_0x10c64b(0x334)),console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Creating\x20guidebook\x20item...');const _0x3e1681=new ItemStack(_0x10c64b(0x789),0x1);console[_0x10c64b(0x5b4)](_0x10c64b(0x714),_0x3e1681[_0x10c64b(0x621)]),console[_0x10c64b(0x5b4)](_0x10c64b(0x2a7));const _0x5396c9=new ItemStack(_0x10c64b(0x80d),0x1);console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Colony\x20ledger\x20item\x20created:',_0x5396c9[_0x10c64b(0x621)]),console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Attempting\x20to\x20add\x20to\x20inventory...');const _0xeff4f8=_0x7cb666[_0x10c64b(0x299)](_0x10c64b(0x9e4));if(_0xeff4f8&&_0xeff4f8[_0x10c64b(0x26e)]){console[_0x10c64b(0x5b4)](_0x10c64b(0xac0));try{_0xeff4f8['container'][_0x10c64b(0x3c5)](_0x3e1681),console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Successfully\x20added\x20guidebook\x20to\x20inventory'),_0xeff4f8[_0x10c64b(0x26e)]['addItem'](_0x5396c9),console[_0x10c64b(0x5b4)](_0x10c64b(0x4d4));}catch(_0x11fc29){console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Failed\x20to\x20add\x20to\x20inventory\x20(likely\x20full),\x20dropping\x20at\x20player\x20location'),_0x7cb666[_0x10c64b(0xaf8)]['spawnItem'](_0x3e1681,_0x7cb666[_0x10c64b(0x1f2)]),_0x7cb666['dimension'][_0x10c64b(0x3ec)](_0x5396c9,_0x7cb666[_0x10c64b(0x1f2)]);}}else console[_0x10c64b(0x5b4)](_0x10c64b(0x6b3)),_0x7cb666[_0x10c64b(0xaf8)][_0x10c64b(0x3ec)](_0x3e1681,_0x7cb666[_0x10c64b(0x1f2)]),_0x7cb666['dimension'][_0x10c64b(0x3ec)](_0x5396c9,_0x7cb666[_0x10c64b(0x1f2)]);console['warn'](_0x10c64b(0x204)),_0x7cb666[_0x10c64b(0x875)](_0x10c64b(0x62a)),console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Tag\x20added,\x20verifying...');const _0x225c39=_0x7cb666[_0x10c64b(0x460)]()[_0x10c64b(0x22d)](_0x10c64b(0x62a));console[_0x10c64b(0x5b4)]('[GUIDEBOOK]\x20Tag\x20verification\x20result:\x20'+_0x225c39),console[_0x10c64b(0x5b4)](_0x10c64b(0xce3)+_0x7cb666[_0x10c64b(0xa45)]+_0x10c64b(0x2a5));}else console[_0x10c64b(0x5b4)](_0x10c64b(0x90c)+_0x7cb666[_0x10c64b(0xa45)]+_0x10c64b(0xb54));}catch(_0x36afed){console[_0x10c64b(0x7bf)](_0x10c64b(0x17b),_0x36afed,_0x36afed[_0x10c64b(0x14d)]);}}const warCooldowns=new Map(),WAR_COOLDOWN_TICKS=0x3a980,WAR_COOLDOWN_SECONDS=0x2ee0,WAR_COOLDOWN_MS=0xc8*0x3c*0x3e8;function saveWarCooldowns(){const _0x4c1b5e=_0x1d2622;try{const _0x567f0b=Object[_0x4c1b5e(0x5c8)](warCooldowns);world['setDynamicProperty'](_0x4c1b5e(0x94c),JSON[_0x4c1b5e(0x1db)](_0x567f0b));}catch(_0x409808){}}function loadWarCooldowns(){const _0x5d4ac4=_0x1d2622;try{const _0x33321b=world['getDynamicProperty']('war_cooldowns');if(_0x33321b){const _0x3fe44d=JSON[_0x5d4ac4(0xc35)](_0x33321b);for(const [_0x3dbc25,_0x1ef091]of Object[_0x5d4ac4(0x74e)](_0x3fe44d)){warCooldowns[_0x5d4ac4(0x336)](_0x3dbc25,_0x1ef091);}}}catch(_0x2e3972){}}system[_0x1d2622(0x633)](loadWarCooldowns,0x1),system[_0x1d2622(0x613)](saveWarCooldowns,0x258);function updateWarSideTags(){const _0x48294a=_0x1d2622;try{if(!activeWars||activeWars[_0x48294a(0xcd6)]===0x0)return;const _0x37ec5e=0xa;let _0x4eed1e=0x0;for(const _0x538414 of[world['getDimension'](_0x48294a(0x182)),world['getDimension'](_0x48294a(0x437)),world[_0x48294a(0xbc8)](_0x48294a(0x18d))]){if(_0x4eed1e>=_0x37ec5e)break;try{const _0x2505f1=_0x538414['getEntities']({'type':_0x48294a(0x127)});for(const _0x3d2e57 of _0x2505f1){if(_0x4eed1e>=_0x37ec5e)break;try{const _0x2715de=_0x3d2e57[_0x48294a(0x460)]();for(const _0x5524a0 of _0x2715de){_0x5524a0['startsWith'](_0x48294a(0x5a7))&&_0x3d2e57[_0x48294a(0x866)](_0x5524a0);}_0x4eed1e++;}catch(_0x471445){}}}catch(_0xbf3f49){}}for(const _0x57f48d of activeWars){try{setWarSideTags(0x1,_0x57f48d[_0x48294a(0x6d0)][_0x48294a(0x709)][_0x48294a(0x15e)]([_0x57f48d[_0x48294a(0x6d0)][_0x48294a(0xcd0)]]),[_0x57f48d[_0x48294a(0x6d0)]['id']]),setWarSideTags(0x2,_0x57f48d['colonyB']['citizens'][_0x48294a(0x15e)]([_0x57f48d['colonyB'][_0x48294a(0xcd0)]]),[_0x57f48d['colonyB']['id']]);}catch(_0xdd0697){}}}catch(_0x2110f8){console[_0x48294a(0x7bf)](_0x48294a(0xae6),_0x2110f8);}}system[_0x1d2622(0x613)](()=>{updateWarSideTags();},0x4b0);function loadActiveWars(){const _0x57ef91=_0x1d2622;try{const _0x10dd65=world[_0x57ef91(0x49d)](_0x57ef91(0xca1));if(_0x10dd65){const _0x81bff9=JSON['parse'](_0x10dd65);activeWars=_0x81bff9[_0x57ef91(0xc89)](_0x1b637c=>{const _0x12adb7=_0x57ef91,_0x1bade0=colonies[_0x12adb7(0xc0a)](_0x1b637c['colonyAId']),_0x29eaec=colonies[_0x12adb7(0xc0a)](_0x1b637c[_0x12adb7(0x52e)]);if(_0x1bade0&&_0x29eaec){let _0x147b33=_0x1b637c[_0x12adb7(0x60f)]||0x0;if(_0x147b33>0x4e20)try{_0x147b33=Math[_0x12adb7(0x648)](_0x147b33/0x14),console[_0x12adb7(0x6a4)](_0x12adb7(0xbfb)+_0x1b637c[_0x12adb7(0x902)]+_0x12adb7(0xca7)+_0x1b637c[_0x12adb7(0x52e)]+':\x20'+_0x147b33+'s');}catch(_0x4934b9){}return{'colonyA':_0x1bade0,'colonyB':_0x29eaec,'timeLeft':_0x147b33,'killsA':_0x1b637c[_0x12adb7(0x984)],'killsB':_0x1b637c[_0x12adb7(0xb2c)]};}return null;})['filter'](Boolean);}}catch(_0x3a6cfa){}}function getColonyEnabledMayorModules(_0x516346){return getEnabledMayorModules();}const BLUEPRINTS=[{'typeId':'jerrys_colonies:blueprint_tower_house','displayName':'Tower\x20House','size':{'width':0xa,'height':0xe,'depth':0xd},'frontSide':_0x1d2622(0x1fe)},{'typeId':_0x1d2622(0xcbc),'displayName':'Watchtower','structure':_0x1d2622(0xccb),'size':{'width':0xb,'height':0xe,'depth':0x9},'frontSide':_0x1d2622(0x1fe)},{'typeId':_0x1d2622(0x8ad),'displayName':'Barracks','structure':'barracks','size':{'width':0x11,'height':0x9,'depth':0xa},'frontSide':'max_z'},{'typeId':_0x1d2622(0x2cd),'displayName':_0x1d2622(0xb14),'structure':_0x1d2622(0xb65),'size':{'width':0x12,'height':0xa,'depth':0xf},'frontSide':'max_z'},{'typeId':_0x1d2622(0x86b),'displayName':'House\x20with\x20Farm','structure':_0x1d2622(0xb65),'size':{'width':0xb,'height':0xa,'depth':0xf},'frontSide':'max_z'},{'typeId':_0x1d2622(0x7ce),'displayName':'House\x20with\x20Chimney','structure':_0x1d2622(0xbac),'size':{'width':0xe,'height':0x9,'depth':0x10},'frontSide':_0x1d2622(0x1fe)},{'typeId':'jerrys_colonies:blueprint_forge','displayName':_0x1d2622(0xad1),'structure':_0x1d2622(0x7b4),'size':{'width':0xf,'height':0xf,'depth':0x14},'frontSide':_0x1d2622(0x1fe)},{'typeId':_0x1d2622(0x15f),'displayName':_0x1d2622(0xcc9),'structure':_0x1d2622(0xb1b),'size':{'width':0xa,'height':0x3,'depth':0x9},'frontSide':_0x1d2622(0x1fe)},{'typeId':_0x1d2622(0x757),'displayName':'Wheat\x20Farm','structure':_0x1d2622(0x4f5),'size':{'width':0xa,'height':0x3,'depth':0x8},'frontSide':_0x1d2622(0x1fe)},{'typeId':'jerrys_colonies:blueprint_road','displayName':'Road','structure':_0x1d2622(0x5c7),'size':{'width':0x19,'height':0x1,'depth':0x5},'frontSide':_0x1d2622(0x1fe)},{'typeId':_0x1d2622(0x665),'displayName':_0x1d2622(0x30a),'structure':'library','size':{'width':0x11,'height':0xc,'depth':0x17},'frontSide':'max_z'},{'typeId':_0x1d2622(0xcfc),'displayName':_0x1d2622(0x5ad),'structure':_0x1d2622(0x176),'size':{'width':0xa,'height':0xf,'depth':0x8},'frontSide':_0x1d2622(0x1fe)},{'typeId':_0x1d2622(0x372),'displayName':_0x1d2622(0x8da),'structure':_0x1d2622(0x6d2),'size':{'width':0x5,'height':0x5,'depth':0x8},'frontSide':_0x1d2622(0x1fe)},{'typeId':_0x1d2622(0xb3d),'displayName':_0x1d2622(0x73c),'structure':_0x1d2622(0x8fb),'size':{'width':0xf,'height':0xa,'depth':0x12},'frontSide':_0x1d2622(0x1fe)}];world[_0x1d2622(0xcd5)][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0xd395a3=>{const _0x4004cb=_0x1d2622,_0x2d26f2=_0xd395a3['source'],_0x5eb9c0=_0xd395a3[_0x4004cb(0x4af)],_0x4d3381=getAllBlueprints(),_0x58597a=_0x4d3381[_0x4004cb(0x2d0)](_0x42fdaa=>_0x5eb9c0?.['typeId']===_0x42fdaa['typeId']);_0x58597a&&(_0xd395a3['cancel']=!![],system['run'](()=>{const _0x1c81d3=_0x4004cb;_0x58597a[_0x1c81d3(0x243)]?placeEntityBlueprint(_0x2d26f2,_0x58597a):showBlueprintPreview(_0x2d26f2,_0x58597a);}));}),world[_0x1d2622(0xcd5)][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0x50170f=>{const _0x4a2208=_0x1d2622,_0x2bd573=_0x50170f[_0x4a2208(0xb68)],_0x159d95=_0x50170f[_0x4a2208(0x4af)];_0x159d95?.[_0x4a2208(0x621)]===_0x4a2208(0x789)&&(_0x50170f[_0x4a2208(0xc21)]=!![],system[_0x4a2208(0x631)](()=>{showGuidebookMainMenu(_0x2bd573);}));});async function showGuidebookMainMenu(_0x37b27a){const _0x363f99=_0x1d2622,_0x410711=new ActionFormData()[_0x363f99(0xd1)](_0x363f99(0x223))[_0x363f99(0x629)](_0x363f99(0x6a9)+'Wiki:\x0a'+_0x363f99(0x2a3)+'Discord\x20Server:\x0a'+'discord.gg/P3ahdUzgMH')[_0x363f99(0x31f)]('Close',_0x363f99(0x96e));await _0x410711[_0x363f99(0x504)](_0x37b27a);}const activeBlueprintPlacements=new Map();async function showBlueprintPreview(_0x24f08f,_0x3aca6b){const _0x529456=_0x1d2622;if(activeBlueprintPlacements[_0x529456(0xb61)](_0x24f08f['id'])){_0x24f08f[_0x529456(0x34f)](_0x529456(0xb0d));return;}const _0x4f50b4=_0x24f08f['getBlockFromViewDirection']({'includeLiquidBlocks':![],'includePassableBlocks':![],'maxDistance':0xa});if(!_0x4f50b4){_0x24f08f[_0x529456(0x34f)](_0x529456(0x494));return;}if(!isPlayerInOwnColony(_0x24f08f,_0x4f50b4[_0x529456(0xa13)]['location'])){_0x24f08f[_0x529456(0x34f)](_0x529456(0x4ed));return;}const _0x243c95=_0x4f50b4[_0x529456(0xa13)][_0x529456(0x1f2)];let _0x4428fa='south';switch(_0x4f50b4[_0x529456(0x1ea)]){case _0x529456(0x7ed):_0x4428fa=_0x529456(0xd0f);break;case _0x529456(0x192):_0x4428fa=_0x529456(0x8a7);break;case _0x529456(0x404):_0x4428fa=_0x529456(0x420);break;case _0x529456(0x543):_0x4428fa=_0x529456(0xa18);break;default:const _0x54e907=(_0x24f08f['getRotation']()['y']%0x168+0x168)%0x168;if(_0x54e907>=0x13b||_0x54e907<0x2d)_0x4428fa='north';else{if(_0x54e907>=0x2d&&_0x54e907<0x87)_0x4428fa='east';else{if(_0x54e907>=0x87&&_0x54e907<0xe1)_0x4428fa='south';else _0x4428fa='west';}}}const {width:_0x4b3748,height:_0x17b9c7,depth:_0x59cf05}=_0x3aca6b[_0x529456(0x5c1)];let _0x2f46f4=_0x243c95['x'],_0x43d5fe=_0x243c95['y']+0x1,_0xc0b4da=_0x243c95['z'],_0x2ab730='180_degrees';if(_0x4428fa===_0x529456(0xd0f))_0xc0b4da=_0xc0b4da-(_0x59cf05-0x1),_0x2ab730=_0x529456(0x4f4);else{if(_0x4428fa===_0x529456(0x420))_0xc0b4da=_0xc0b4da-(_0x4b3748-0x1),_0x2ab730=_0x529456(0x55e);else{if(_0x4428fa===_0x529456(0x8a7))_0x2ab730=_0x529456(0x70c);else _0x4428fa===_0x529456(0xa18)&&(_0x2f46f4=_0x2f46f4-(_0x59cf05-0x1),_0x2ab730=_0x529456(0x767));}}const _0xa2a07f=_0x24f08f['dimension'];let _0x1c27b8=Math[_0x529456(0x648)]((0x30-_0x4b3748)/0x2);_0x1c27b8=Math[_0x529456(0xb51)](_0x1c27b8,0x1);let _0x521c16=Math[_0x529456(0x648)]((0x30-_0x17b9c7-0x2)/0x2);_0x521c16=Math[_0x529456(0xb51)](_0x521c16,0x0);let _0x6d2333=Math[_0x529456(0x648)]((0x30-_0x59cf05)/0x2);_0x6d2333=Math[_0x529456(0xb51)](_0x6d2333,0x1);const _0x53835b=Math[_0x529456(0xb51)](-0x1c9c380,_0x2f46f4-_0x1c27b8),_0x2b2d43=Math[_0x529456(0xb51)](0x0,_0x43d5fe-0x1-_0x521c16),_0x3a7df0=Math[_0x529456(0xb51)](-0x1c9c380,_0xc0b4da-_0x6d2333),_0x544eb6=Math['min'](0x1c9c380,_0x2f46f4+_0x4b3748-0x1+_0x1c27b8),_0x4ab286=Math['min'](0x13f,_0x43d5fe+_0x17b9c7+_0x521c16),_0x6f7b63=Math[_0x529456(0x2c1)](0x1c9c380,_0xc0b4da+_0x59cf05-0x1+_0x6d2333),_0x1afd76=_0x544eb6-_0x53835b+0x1,_0x261b37=_0x4ab286-_0x2b2d43+0x1,_0xb45539=_0x6f7b63-_0x3a7df0+0x1;if(_0x1afd76>0x30||_0x261b37>0x30||_0xb45539>0x30){_0x24f08f[_0x529456(0x34f)](_0x529456(0xbd1)+_0x1afd76+'x'+_0x261b37+'x'+_0xb45539);return;}const _0x45e066=Date[_0x529456(0x405)]()[_0x529456(0x72b)]()[_0x529456(0x8e3)](-0x6),_0xf8c2a7=_0x529456(0xc20)+(_0x3aca6b['structure']||_0x529456(0xa7b))+'_'+_0x45e066,_0xe0e7a8='/structure\x20save\x20\x22'+_0xf8c2a7+'\x22\x20'+_0x53835b+'\x20'+_0x2b2d43+'\x20'+_0x3a7df0+'\x20'+_0x544eb6+'\x20'+_0x4ab286+'\x20'+_0x6f7b63+_0x529456(0x8c7);try{const _0x3f262d=await _0x24f08f[_0x529456(0x6ba)](_0xe0e7a8);if(_0x3f262d[_0x529456(0x738)]===0x0){_0x24f08f[_0x529456(0x34f)](_0x529456(0xda));return;}const _0x541b7c=_0x3aca6b[_0x529456(0x29f)]||_0x3aca6b['displayName'],_0x1c2913=_0x529456(0x3f7)+_0x541b7c+'\x22\x20'+_0x2f46f4+'\x20'+(_0x43d5fe-0x1)+'\x20'+_0xc0b4da+'\x20'+_0x2ab730+_0x529456(0xb00),_0x4f6de4=await _0x24f08f['runCommandAsync'](_0x1c2913);if(_0x4f6de4[_0x529456(0x738)]===0x0){_0x24f08f[_0x529456(0x34f)](_0x529456(0x34a)),await _0x24f08f[_0x529456(0x6ba)](_0x529456(0x466)+_0xf8c2a7+'\x22')[_0x529456(0xb84)](()=>{});return;}_0x24f08f['sendMessage']('§a'+_0x3aca6b['displayName']+_0x529456(0x106));const _0x1643bc=_0x24f08f['getViewDirection'](),_0x2532f8=_0x24f08f[_0x529456(0x1f2)]['x']+_0x1643bc['x'],_0x19c68b=_0x24f08f[_0x529456(0x1f2)]['z']+_0x1643bc['z'],_0x39c9d4=_0x43d5fe+0x1,_0x1c651e={},_0x288fcc=1.2,_0x1bf731=1.2;try{_0x1c651e[_0x529456(0x178)]=_0xa2a07f[_0x529456(0x26c)]('jerrys_colonies:blueprint_button_up',{'x':_0x2532f8,'y':_0x39c9d4+_0x288fcc,'z':_0x19c68b}),_0x1c651e['moveForward']=_0xa2a07f[_0x529456(0x26c)](_0x529456(0x603),{'x':_0x2532f8,'y':_0x39c9d4,'z':_0x19c68b}),_0x1c651e['moveLeft']=_0xa2a07f[_0x529456(0x26c)]('jerrys_colonies:blueprint_button_left',{'x':_0x2532f8+_0x1bf731,'y':_0x39c9d4+_0x288fcc,'z':_0x19c68b}),_0x1c651e[_0x529456(0xae3)]=_0xa2a07f[_0x529456(0x26c)](_0x529456(0x97f),{'x':_0x2532f8+_0x1bf731,'y':_0x39c9d4,'z':_0x19c68b}),_0x1c651e[_0x529456(0xe4)]=_0xa2a07f[_0x529456(0x26c)](_0x529456(0x951),{'x':_0x2532f8+_0x1bf731*0x2,'y':_0x39c9d4+_0x288fcc,'z':_0x19c68b}),_0x1c651e[_0x529456(0x108)]=_0xa2a07f[_0x529456(0x26c)](_0x529456(0x657),{'x':_0x2532f8+_0x1bf731*0x2,'y':_0x39c9d4,'z':_0x19c68b}),_0x1c651e[_0x529456(0xc21)]=_0xa2a07f['spawnEntity']('jerrys_colonies:blueprint_button_cancel',{'x':_0x2532f8+_0x1bf731*0x3,'y':_0x39c9d4,'z':_0x19c68b});for(const _0x189d94 of Object['values'](_0x1c651e)){_0x189d94[_0x529456(0x875)](_0x529456(0x5c5)+_0x24f08f['id']);}}catch(_0xdfc96d){_0x24f08f[_0x529456(0x34f)](_0x529456(0xaaa)),console['error'](_0x529456(0x6e8),_0xdfc96d),await _0x24f08f['runCommandAsync'](_0x529456(0x3f7)+_0xf8c2a7+'\x22\x20'+_0x53835b+'\x20'+_0x2b2d43+'\x20'+_0x3a7df0)[_0x529456(0xb84)](()=>{}),await _0x24f08f['runCommandAsync']('/structure\x20delete\x20\x22'+_0xf8c2a7+'\x22')[_0x529456(0xb84)](()=>{});return;}const _0x52c7e3={'playerId':_0x24f08f['id'],'structureName':_0x541b7c,'blueprintTypeId':_0x3aca6b[_0x529456(0x621)],'blueprintDisplayName':_0x3aca6b['displayName'],'currentLocation':{'x':_0x2f46f4,'y':_0x43d5fe,'z':_0xc0b4da},'dimension':_0xa2a07f,'rotation':_0x2ab730,'backupName':_0xf8c2a7,'backupLocation':{'x':_0x53835b,'y':_0x2b2d43,'z':_0x3a7df0},'backupSize':{'width':_0x1afd76,'height':_0x261b37,'depth':_0xb45539},'buttons':_0x1c651e,'buttonBasePos':{'x':_0x2532f8,'y':_0x39c9d4,'z':_0x19c68b},'blueprintSize':{'width':_0x4b3748,'height':_0x17b9c7,'depth':_0x59cf05}};activeBlueprintPlacements['set'](_0x24f08f['id'],_0x52c7e3);const _0x5b1fb9=system['runTimeout'](async()=>{const _0x47ff2c=_0x529456,_0x5d8ff3=activeBlueprintPlacements['get'](_0x24f08f['id']);_0x5d8ff3&&_0x5d8ff3[_0x47ff2c(0x39d)]===_0xf8c2a7&&(_0x24f08f[_0x47ff2c(0x34f)]('§e'+_0x3aca6b['displayName']+_0x47ff2c(0x54e)),await confirmBlueprintPlacement(_0x24f08f));},0x190);_0x52c7e3[_0x529456(0x515)]=_0x5b1fb9;const _0x706626=_0x24f08f['getComponent']('inventory')[_0x529456(0x26e)];for(let _0x42e763=0x0;_0x42e763<_0x706626[_0x529456(0x5c1)];_0x42e763++){const _0x3b2fd0=_0x706626[_0x529456(0x416)](_0x42e763);if(_0x3b2fd0&&_0x3b2fd0['typeId']===_0x3aca6b[_0x529456(0x621)]){_0x3b2fd0[_0x529456(0x8f0)]>0x1?(_0x3b2fd0[_0x529456(0x8f0)]-=0x1,_0x706626['setItem'](_0x42e763,_0x3b2fd0)):_0x706626['setItem'](_0x42e763,undefined);break;}}}catch(_0x562eb6){_0x24f08f[_0x529456(0x34f)](_0x529456(0x139)+_0x562eb6[_0x529456(0xc47)]),console['error']('Blueprint\x20placement\x20error:',_0x562eb6);}}async function moveBlueprintStructure(_0x1771a7,_0xeb8ea7){const _0x5eaa8c=_0x1d2622,_0x47ad98=activeBlueprintPlacements[_0x5eaa8c(0xc0a)](_0x1771a7['id']);if(!_0x47ad98)return;_0x47ad98['autoConfirmTimeout']!==undefined&&system[_0x5eaa8c(0xcd3)](_0x47ad98['autoConfirmTimeout']);const _0x52bc3f=system['runTimeout'](async()=>{const _0x1b3854=_0x5eaa8c,_0x4502f8=activeBlueprintPlacements[_0x1b3854(0xc0a)](_0x1771a7['id']);_0x4502f8&&_0x4502f8[_0x1b3854(0x39d)]===_0x47ad98[_0x1b3854(0x39d)]&&(_0x1771a7[_0x1b3854(0x34f)]('§e'+_0x47ad98['blueprintDisplayName']+_0x1b3854(0x54e)),await confirmBlueprintPlacement(_0x1771a7));},0x190);_0x47ad98[_0x5eaa8c(0x515)]=_0x52bc3f;try{const _0x1086c2=_0x47ad98[_0x5eaa8c(0xc85)]['x']+_0x47ad98['blueprintSize']['width']/0x2,_0x532b06=_0x47ad98['currentLocation']['y']+_0x47ad98[_0x5eaa8c(0x386)][_0x5eaa8c(0x518)]/0x2,_0x495306=_0x47ad98[_0x5eaa8c(0xc85)]['z']+_0x47ad98[_0x5eaa8c(0x386)][_0x5eaa8c(0x7b9)]/0x2,_0x4167a4=_0x1771a7[_0x5eaa8c(0xaf8)],_0x3599c3=_0x4167a4['getEntities']({'location':{'x':_0x1086c2,'y':_0x532b06,'z':_0x495306},'maxDistance':0xf}),_0x50d50b=[];for(const _0x5a7f39 of _0x3599c3){if(_0x5a7f39[_0x5eaa8c(0x621)]===_0x5eaa8c(0x79f)||_0x5a7f39[_0x5eaa8c(0x621)]===_0x5eaa8c(0x6a0)||_0x5a7f39[_0x5eaa8c(0x621)]===_0x5eaa8c(0x4a8))_0x5a7f39['kill']();else _0x5a7f39[_0x5eaa8c(0x621)]===_0x5eaa8c(0x6b0)&&_0x50d50b[_0x5eaa8c(0x9bb)](_0x5a7f39);}system['runTimeout'](()=>{const _0x245626=_0x5eaa8c;for(const _0x50eead of _0x50d50b){_0x50eead[_0x245626(0x25f)]()&&_0x50eead[_0x245626(0x63d)]();}},0x14);}catch(_0x1975dc){console[_0x5eaa8c(0x7bf)](_0x5eaa8c(0x547),_0x1975dc);}const {currentLocation:_0x3556a6,structureName:_0x497f1d,rotation:_0x2b86e5,blueprintSize:_0x3df27c}=_0x47ad98;let {x:_0x1a277e,y:_0x1d4415,z:_0xbc796a}=_0x3556a6;switch(_0xeb8ea7){case'back':_0xbc796a-=0x1;break;case _0x5eaa8c(0xc8d):_0xbc796a+=0x1;break;case _0x5eaa8c(0x813):_0x1a277e-=0x1;break;case _0x5eaa8c(0x8d7):_0x1a277e+=0x1;break;}try{const {width:_0x3565ac,height:_0x52a43c,depth:_0x691e76}=_0x3df27c;await _0x1771a7['runCommandAsync'](_0x5eaa8c(0x56f)+_0x3556a6['x']+'\x20'+_0x3556a6['y']+'\x20'+_0x3556a6['z']+'\x20'+(_0x3556a6['x']+_0x3565ac-0x1)+'\x20'+(_0x3556a6['y']+_0x52a43c-0x1)+'\x20'+(_0x3556a6['z']+_0x691e76-0x1)+_0x5eaa8c(0x7f7)),await _0x1771a7[_0x5eaa8c(0x6ba)]('/structure\x20load\x20\x22'+_0x497f1d+'\x22\x20'+_0x1a277e+'\x20'+(_0x1d4415-0x1)+'\x20'+_0xbc796a+'\x20'+_0x2b86e5+'\x20none'),_0x47ad98[_0x5eaa8c(0xc85)]={'x':_0x1a277e,'y':_0x1d4415,'z':_0xbc796a},updateButtonPositions(_0x47ad98),_0x1771a7[_0x5eaa8c(0x34f)](_0x5eaa8c(0x588)+_0xeb8ea7);}catch(_0x2614d2){_0x1771a7[_0x5eaa8c(0x34f)]('§cFailed\x20to\x20move\x20structure!'),console[_0x5eaa8c(0x7bf)](_0x5eaa8c(0x455),_0x2614d2);}}async function rotateBlueprintStructure(_0x592de2){const _0x57305d=_0x1d2622,_0x4f1512=activeBlueprintPlacements[_0x57305d(0xc0a)](_0x592de2['id']);if(!_0x4f1512)return;_0x4f1512['autoConfirmTimeout']!==undefined&&system[_0x57305d(0xcd3)](_0x4f1512[_0x57305d(0x515)]);const _0x4a6880=system[_0x57305d(0x633)](async()=>{const _0x3fd158=_0x57305d,_0x19a8b8=activeBlueprintPlacements[_0x3fd158(0xc0a)](_0x592de2['id']);_0x19a8b8&&_0x19a8b8[_0x3fd158(0x39d)]===_0x4f1512['backupName']&&(_0x592de2[_0x3fd158(0x34f)]('§e'+_0x4f1512['blueprintDisplayName']+_0x3fd158(0x54e)),await confirmBlueprintPlacement(_0x592de2));},0x190);_0x4f1512[_0x57305d(0x515)]=_0x4a6880;try{const _0x3d726f=_0x4f1512[_0x57305d(0xc85)]['x']+_0x4f1512[_0x57305d(0x386)]['width']/0x2,_0x93e813=_0x4f1512[_0x57305d(0xc85)]['y']+_0x4f1512[_0x57305d(0x386)][_0x57305d(0x518)]/0x2,_0x14ca80=_0x4f1512[_0x57305d(0xc85)]['z']+_0x4f1512[_0x57305d(0x386)][_0x57305d(0x7b9)]/0x2,_0x2b5e23=_0x592de2['dimension'],_0x1ec105=_0x2b5e23[_0x57305d(0xc8f)]({'location':{'x':_0x3d726f,'y':_0x93e813,'z':_0x14ca80},'maxDistance':0xf}),_0xe0fb7c=[];for(const _0x1b63aa of _0x1ec105){if(_0x1b63aa[_0x57305d(0x621)]==='minecraft:cow'||_0x1b63aa[_0x57305d(0x621)]==='minecraft:pig'||_0x1b63aa[_0x57305d(0x621)]===_0x57305d(0x4a8))_0x1b63aa[_0x57305d(0x63d)]();else _0x1b63aa['typeId']===_0x57305d(0x6b0)&&_0xe0fb7c[_0x57305d(0x9bb)](_0x1b63aa);}system[_0x57305d(0x633)](()=>{const _0x5e4c94=_0x57305d;for(const _0x56fa0f of _0xe0fb7c){_0x56fa0f[_0x5e4c94(0x25f)]()&&_0x56fa0f['kill']();}},0x14);}catch(_0x4299f0){console[_0x57305d(0x7bf)]('Error\x20cleaning\x20up\x20entities:',_0x4299f0);}const {currentLocation:_0x602f1c,structureName:_0x2fbc39,rotation:_0x11ea72,blueprintSize:_0x987dc1}=_0x4f1512,{x:_0x423242,y:_0x38f019,z:_0x2fe8e5}=_0x602f1c,_0xe14e5e=[_0x57305d(0x4f4),_0x57305d(0x55e),_0x57305d(0x70c),'270_degrees'],_0x2e0b28=_0xe14e5e[_0x57305d(0x5f9)](_0x11ea72),_0x567d2b=_0xe14e5e[(_0x2e0b28+0x1)%0x4];try{const {width:_0x3b913f,height:_0x30e946,depth:_0x8ce6f9}=_0x987dc1;await _0x592de2[_0x57305d(0x6ba)](_0x57305d(0x56f)+_0x423242+'\x20'+_0x38f019+'\x20'+_0x2fe8e5+'\x20'+(_0x423242+_0x3b913f-0x1)+'\x20'+(_0x38f019+_0x30e946-0x1)+'\x20'+(_0x2fe8e5+_0x8ce6f9-0x1)+_0x57305d(0x7f7)),await _0x592de2['runCommandAsync'](_0x57305d(0x3f7)+_0x2fbc39+'\x22\x20'+_0x423242+'\x20'+(_0x38f019-0x1)+'\x20'+_0x2fe8e5+'\x20'+_0x567d2b+_0x57305d(0xb00)),_0x4f1512[_0x57305d(0x592)]=_0x567d2b,_0x592de2[_0x57305d(0x34f)](_0x57305d(0xf8));}catch(_0x394c6a){_0x592de2[_0x57305d(0x34f)](_0x57305d(0xc6a)),console[_0x57305d(0x7bf)](_0x57305d(0x881),_0x394c6a);}}async function confirmBlueprintPlacement(_0x19b776){const _0x37e261=_0x1d2622,_0x26e529=activeBlueprintPlacements[_0x37e261(0xc0a)](_0x19b776['id']);if(!_0x26e529)return;try{_0x26e529[_0x37e261(0x515)]!==undefined&&system[_0x37e261(0xcd3)](_0x26e529[_0x37e261(0x515)]);const _0x9807dd=getPlayerColony(_0x19b776);let _0x2cef93=[];if(_0x9807dd){const _0x2b3181=_0x19b776[_0x37e261(0xaf8)],_0x240246=_0x2b3181[_0x37e261(0xc8f)]({'type':_0x37e261(0x127)});for(const _0x43081b of _0x240246){if(_0x43081b[_0x37e261(0x4ac)](_0x37e261(0xcc4))&&_0x43081b[_0x37e261(0x460)]()[_0x37e261(0x22d)](_0x37e261(0x30d)+_0x9807dd)){_0x2cef93['push'](_0x43081b);if(_0x2cef93['length']>=0x2)break;}}}if(_0x2cef93['length']<0x2){_0x19b776[_0x37e261(0x34f)](_0x37e261(0xcad)),_0x19b776['sendMessage'](_0x37e261(0x3b2)),await cancelBlueprintPlacement(_0x19b776);return;}const _0x4e5c75=_0x26e529[_0x37e261(0xce2)][_0x37e261(0x108)];if(_0x4e5c75&&_0x4e5c75[_0x37e261(0x25f)]()){const _0x3b2a1b=_0x4e5c75[_0x37e261(0x1f2)];for(const _0x1ae143 of _0x2cef93){try{_0x1ae143['teleport'](_0x3b2a1b);}catch(_0x26eefc){console['warn'](_0x37e261(0x938),_0x26eefc);}}try{_0x19b776['playSound'](_0x37e261(0x369),{'location':_0x3b2a1b,'volume':0x1,'pitch':0x1});}catch(_0x1f51d3){console['warn'](_0x37e261(0x495),_0x1f51d3);}}await new Promise(_0x4f4e9=>system['runTimeout'](()=>_0x4f4e9(),0x28));const {currentLocation:_0x661a32,blueprintSize:_0x5c3a9c}=_0x26e529,{width:_0x1dcd31,height:_0x493474,depth:_0x3d1852}=_0x5c3a9c;await _0x19b776['runCommandAsync'](_0x37e261(0x56f)+_0x661a32['x']+'\x20'+_0x661a32['y']+'\x20'+_0x661a32['z']+'\x20'+(_0x661a32['x']+_0x1dcd31-0x1)+'\x20'+(_0x661a32['y']+_0x493474-0x1)+'\x20'+(_0x661a32['z']+_0x3d1852-0x1)+_0x37e261(0x7f7));const {backupName:_0x5e69d0,backupLocation:_0x59ffad}=_0x26e529;await _0x19b776[_0x37e261(0x6ba)](_0x37e261(0x3f7)+_0x5e69d0+'\x22\x20'+_0x59ffad['x']+'\x20'+_0x59ffad['y']+'\x20'+_0x59ffad['z']);const {structureName:_0x341e5a,rotation:_0x305542}=_0x26e529;await _0x19b776['runCommandAsync'](_0x37e261(0x3f7)+_0x341e5a+'\x22\x20'+_0x661a32['x']+'\x20'+(_0x661a32['y']-0x1)+'\x20'+_0x661a32['z']+'\x20'+_0x305542+'\x20none\x20layer_by_layer\x205'),await _0x19b776['runCommandAsync']('/structure\x20delete\x20\x22'+_0x5e69d0+'\x22')[_0x37e261(0xb84)](()=>{});for(const _0x37805a of Object[_0x37e261(0xaf3)](_0x26e529[_0x37e261(0xce2)])){if(_0x37805a['isValid']())_0x37805a[_0x37e261(0x63d)]();}activeBlueprintPlacements[_0x37e261(0xbcb)](_0x19b776['id']),_0x19b776[_0x37e261(0x34f)]('§a'+_0x26e529['blueprintDisplayName']+_0x37e261(0x858));}catch(_0x350804){_0x19b776[_0x37e261(0x34f)]('§cError\x20confirming\x20placement!'),console[_0x37e261(0x7bf)](_0x37e261(0x32d),_0x350804);}}async function cancelBlueprintPlacement(_0x1f57b3){const _0x4c2581=_0x1d2622,_0x5e9949=activeBlueprintPlacements[_0x4c2581(0xc0a)](_0x1f57b3['id']);if(!_0x5e9949)return;try{const _0x166bf8=_0x5e9949[_0x4c2581(0xc85)]['x']+_0x5e9949['blueprintSize'][_0x4c2581(0x499)]/0x2,_0x3e3ad2=_0x5e9949[_0x4c2581(0xc85)]['y']+_0x5e9949[_0x4c2581(0x386)]['height']/0x2,_0x5c35ff=_0x5e9949['currentLocation']['z']+_0x5e9949[_0x4c2581(0x386)][_0x4c2581(0x7b9)]/0x2,_0x311336=_0x1f57b3[_0x4c2581(0xaf8)],_0x377070=_0x311336[_0x4c2581(0xc8f)]({'location':{'x':_0x166bf8,'y':_0x3e3ad2,'z':_0x5c35ff},'maxDistance':0xf}),_0x40cc1c=[];for(const _0x531c5c of _0x377070){if(_0x531c5c[_0x4c2581(0x621)]==='minecraft:cow'||_0x531c5c['typeId']===_0x4c2581(0x6a0)||_0x531c5c[_0x4c2581(0x621)]===_0x4c2581(0x4a8))_0x531c5c[_0x4c2581(0x63d)]();else _0x531c5c[_0x4c2581(0x621)]===_0x4c2581(0x6b0)&&_0x40cc1c['push'](_0x531c5c);}system[_0x4c2581(0x633)](()=>{const _0x4f7c77=_0x4c2581;for(const _0x1c5e2a of _0x40cc1c){_0x1c5e2a[_0x4f7c77(0x25f)]()&&_0x1c5e2a['kill']();}},0x14);}catch(_0x203283){console[_0x4c2581(0x7bf)](_0x4c2581(0x547),_0x203283);}try{_0x5e9949[_0x4c2581(0x515)]!==undefined&&system[_0x4c2581(0xcd3)](_0x5e9949['autoConfirmTimeout']);const {currentLocation:_0x2d215b,blueprintSize:_0x4dda66}=_0x5e9949,{width:_0x182552,height:_0x2930d5,depth:_0x57484f}=_0x4dda66;await _0x1f57b3['runCommandAsync']('/fill\x20'+_0x2d215b['x']+'\x20'+_0x2d215b['y']+'\x20'+_0x2d215b['z']+'\x20'+(_0x2d215b['x']+_0x182552-0x1)+'\x20'+(_0x2d215b['y']+_0x2930d5-0x1)+'\x20'+(_0x2d215b['z']+_0x57484f-0x1)+_0x4c2581(0x7f7));const {backupName:_0x3c5e43,backupLocation:_0x450ea2}=_0x5e9949;await _0x1f57b3['runCommandAsync'](_0x4c2581(0x3f7)+_0x3c5e43+'\x22\x20'+_0x450ea2['x']+'\x20'+_0x450ea2['y']+'\x20'+_0x450ea2['z']),await _0x1f57b3[_0x4c2581(0x6ba)](_0x4c2581(0x466)+_0x3c5e43+'\x22')['catch'](()=>{});for(const _0x5b9b0a of Object[_0x4c2581(0xaf3)](_0x5e9949['buttons'])){if(_0x5b9b0a[_0x4c2581(0x25f)]())_0x5b9b0a[_0x4c2581(0x63d)]();}const _0x4b2457=_0x1f57b3[_0x4c2581(0x299)]('inventory')['container'],_0x1d6406=new ItemStack(_0x5e9949[_0x4c2581(0xc27)],0x1);_0x4b2457[_0x4c2581(0x3c5)](_0x1d6406),activeBlueprintPlacements[_0x4c2581(0xbcb)](_0x1f57b3['id']),_0x1f57b3[_0x4c2581(0x34f)]('§7'+_0x5e9949['blueprintDisplayName']+_0x4c2581(0x711));}catch(_0x2653fa){_0x1f57b3[_0x4c2581(0x34f)](_0x4c2581(0x58c)),console[_0x4c2581(0x7bf)](_0x4c2581(0x656),_0x2653fa);}}function updateButtonPositions(_0xfb4857){const _0x5dd028=_0x1d2622,{buttons:_0x1edbe0,buttonBasePos:_0x48d082}=_0xfb4857,_0x133a18=_0xfb4857[_0x5dd028(0xc85)]['y']+0x1,_0x1e19e5=1.2,_0x5bc970=1.2,_0x35041a=_0x48d082['x'],_0x4728a1=_0x48d082['z'];try{if(_0x1edbe0['moveBack']?.[_0x5dd028(0x25f)]())_0x1edbe0[_0x5dd028(0x178)][_0x5dd028(0x54b)]({'x':_0x35041a,'y':_0x133a18+_0x1e19e5,'z':_0x4728a1});if(_0x1edbe0[_0x5dd028(0x7c7)]?.[_0x5dd028(0x25f)]())_0x1edbe0[_0x5dd028(0x7c7)][_0x5dd028(0x54b)]({'x':_0x35041a,'y':_0x133a18,'z':_0x4728a1});if(_0x1edbe0[_0x5dd028(0x7e7)]?.[_0x5dd028(0x25f)]())_0x1edbe0[_0x5dd028(0x7e7)]['teleport']({'x':_0x35041a+_0x5bc970,'y':_0x133a18+_0x1e19e5,'z':_0x4728a1});if(_0x1edbe0[_0x5dd028(0xae3)]?.[_0x5dd028(0x25f)]())_0x1edbe0[_0x5dd028(0xae3)][_0x5dd028(0x54b)]({'x':_0x35041a+_0x5bc970,'y':_0x133a18,'z':_0x4728a1});if(_0x1edbe0['rotate']?.['isValid']())_0x1edbe0['rotate'][_0x5dd028(0x54b)]({'x':_0x35041a+_0x5bc970*0x2,'y':_0x133a18+_0x1e19e5,'z':_0x4728a1});if(_0x1edbe0[_0x5dd028(0x108)]?.[_0x5dd028(0x25f)]())_0x1edbe0['confirm']['teleport']({'x':_0x35041a+_0x5bc970*0x2,'y':_0x133a18,'z':_0x4728a1});if(_0x1edbe0['cancel']?.[_0x5dd028(0x25f)]())_0x1edbe0[_0x5dd028(0xc21)][_0x5dd028(0x54b)]({'x':_0x35041a+_0x5bc970*0x3,'y':_0x133a18,'z':_0x4728a1});}catch(_0x2d9b72){console[_0x5dd028(0x7bf)](_0x5dd028(0x725),_0x2d9b72);}}world[_0x1d2622(0xcd5)]['playerInteractWithEntity'][_0x1d2622(0xba5)](_0x585f4c=>{const _0x5ccfd2=_0x1d2622,_0x2e6a6b=_0x585f4c[_0x5ccfd2(0x2e4)],_0x13d7a7=_0x585f4c[_0x5ccfd2(0xb8f)];if(!_0x2e6a6b['typeId'][_0x5ccfd2(0x42a)](_0x5ccfd2(0xc32)))return;const _0x491edb=_0x2e6a6b[_0x5ccfd2(0x460)]()[_0x5ccfd2(0x2d0)](_0x15eca1=>_0x15eca1[_0x5ccfd2(0x42a)](_0x5ccfd2(0x5c5)));if(!_0x491edb||_0x491edb[_0x5ccfd2(0x44b)](':')[0x1]!==_0x13d7a7['id']){_0x13d7a7['sendMessage'](_0x5ccfd2(0x86e)),_0x585f4c[_0x5ccfd2(0xc21)]=!![];return;}_0x585f4c[_0x5ccfd2(0xc21)]=!![],system['run'](async()=>{const _0x3500f1=_0x5ccfd2;if(_0x2e6a6b['typeId']==='jerrys_colonies:blueprint_button_up')await moveBlueprintStructure(_0x13d7a7,'back');else{if(_0x2e6a6b[_0x3500f1(0x621)]==='jerrys_colonies:blueprint_button_down')await moveBlueprintStructure(_0x13d7a7,'forward');else{if(_0x2e6a6b['typeId']===_0x3500f1(0xc25))await moveBlueprintStructure(_0x13d7a7,_0x3500f1(0x813));else{if(_0x2e6a6b[_0x3500f1(0x621)]===_0x3500f1(0x97f))await moveBlueprintStructure(_0x13d7a7,'right');else{if(_0x2e6a6b[_0x3500f1(0x621)]===_0x3500f1(0x951))await rotateBlueprintStructure(_0x13d7a7);else{if(_0x2e6a6b[_0x3500f1(0x621)]===_0x3500f1(0x657))await confirmBlueprintPlacement(_0x13d7a7);else _0x2e6a6b[_0x3500f1(0x621)]===_0x3500f1(0xce8)&&await cancelBlueprintPlacement(_0x13d7a7);}}}}}});});async function placeEntityBlueprint(_0x505aa3,_0x54b119){const _0x21ccfd=_0x1d2622,_0x5636c0=_0x54b119[_0x21ccfd(0x621)]===_0x21ccfd(0x271);let _0x352788,_0x265954,_0x370da4;if(_0x5636c0){const _0x22b48c=_0x505aa3[_0x21ccfd(0x8f2)](),_0x58d7df=_0x505aa3[_0x21ccfd(0x1f2)],_0x1c58e7=0x3;_0x352788=Math[_0x21ccfd(0x648)](_0x58d7df['x']+_0x22b48c['x']*_0x1c58e7),_0x265954=Math[_0x21ccfd(0x648)](_0x58d7df['y']-0.5),_0x370da4=Math[_0x21ccfd(0x648)](_0x58d7df['z']+_0x22b48c['z']*_0x1c58e7);}else{const _0x3b7416={'includeLiquidBlocks':!![],'includePassableBlocks':![],'maxDistance':0xa},_0x522a6a=_0x505aa3['getBlockFromViewDirection'](_0x3b7416);if(!_0x522a6a){_0x505aa3[_0x21ccfd(0x34f)](_0x21ccfd(0x90b));return;}const _0x3831fb=_0x522a6a[_0x21ccfd(0xa13)];_0x352788=_0x3831fb['x'],_0x265954=_0x3831fb['y'],_0x370da4=_0x3831fb['z'];}if(!_0x5636c0&&!canPlayerBuildAtLocation(_0x505aa3,{'x':_0x352788,'y':_0x265954,'z':_0x370da4})){_0x505aa3[_0x21ccfd(0x34f)](_0x21ccfd(0x7cb));return;}let _0x2134cb;_0x54b119[_0x21ccfd(0x621)]===_0x21ccfd(0x271)?_0x2134cb=_0x21ccfd(0x271):_0x2134cb=_0x54b119[_0x21ccfd(0x621)][_0x21ccfd(0x15a)](_0x21ccfd(0x6e4),_0x21ccfd(0x292));let _0x5dbd85=_0x265954;!_0x5636c0&&(_0x5dbd85=_0x265954+0x1);const _0x1b44ca=_0x21ccfd(0x905)+_0x2134cb+'\x20'+(_0x352788+0.5)+'\x20'+_0x5dbd85+'\x20'+(_0x370da4+0.5);try{const _0x295e26=await _0x505aa3[_0x21ccfd(0x6ba)](_0x1b44ca);_0x295e26[_0x21ccfd(0x738)]>0x0?(_0x505aa3['sendMessage']('§a'+_0x54b119[_0x21ccfd(0x5cb)]+_0x21ccfd(0x143)),consumeOneItemFromInventory(_0x505aa3,_0x54b119[_0x21ccfd(0x621)])):_0x505aa3[_0x21ccfd(0x34f)](_0x21ccfd(0x55f)+_0x54b119[_0x21ccfd(0x5cb)]+'\x20entity.');}catch(_0x1d59c3){_0x505aa3['sendMessage'](_0x21ccfd(0x139)+_0x1d59c3['message']),console['warn'](_0x21ccfd(0xbe4),_0x1d59c3);}}function isBlockInColonyTerritory(_0x384ada,_0x476b13){return canPlayerBuildAtLocation(_0x384ada,_0x476b13);}function canPlayerBuildAtLocation(_0x34a167,_0x1997e7){const _0x2e9ecd=_0x1d2622,_0x555fc2=getPlayerColony(_0x34a167);try{for(const _0x5c4747 of colonies[_0x2e9ecd(0xaf3)]()){!_0x5c4747['flagLocations']&&(_0x5c4747[_0x2e9ecd(0x61a)]=[_0x5c4747[_0x2e9ecd(0x1f2)]]);let _0x5d240a=![];for(const _0x12fcd1 of _0x5c4747[_0x2e9ecd(0x61a)]){const _0x47f73b=Math[_0x2e9ecd(0x572)](_0x12fcd1['x']-_0x1997e7['x']),_0x54c32b=Math[_0x2e9ecd(0x572)](_0x12fcd1['z']-_0x1997e7['z']);if(_0x47f73b<=COLONY_RADIUS&&_0x54c32b<=COLONY_RADIUS){_0x5d240a=!![];break;}}if(!_0x5d240a)continue;if(_0x555fc2!==_0x5c4747['id'])return![];if(_0x555fc2===_0x5c4747['id'])return!![];}return!![];}catch(_0x591ecb){return console['warn'](_0x2e9ecd(0x7a8),_0x591ecb),!![];}}function playerHasColonyTag(_0x32adfc){const _0x3c6c45=_0x1d2622,_0x5ad858=_0x32adfc['getTags']();return _0x5ad858[_0x3c6c45(0xb49)](_0x339345=>_0x339345[_0x3c6c45(0x42a)](_0x3c6c45(0x30d))||_0x339345['startsWith'](_0x3c6c45(0x3ae)));}function getPlayerColony(_0x4dc26f){const _0x5f0933=_0x1d2622;if(!_0x4dc26f||!_0x4dc26f[_0x5f0933(0x460)])return null;const _0x2e4156=_0x4dc26f[_0x5f0933(0x460)]()[_0x5f0933(0x2d0)](_0x2dee92=>_0x2dee92[_0x5f0933(0x42a)]('colony_id:')),_0x1b7652=_0x4dc26f[_0x5f0933(0x460)]()[_0x5f0933(0x2d0)](_0x55dcb1=>_0x55dcb1[_0x5f0933(0x42a)]('colony_member:'));return _0x2e4156?.[_0x5f0933(0x44b)](':')[0x1]||_0x1b7652?.[_0x5f0933(0x44b)](':')[0x1];}async function cleanupBackupArea(_0x2d35b7,_0xee60a5,_0x353f7e,_0x521016,_0x102254,_0x47ca5d,_0x4457b5){const _0x1f7dcb=_0x1d2622;try{const _0x583b75=_0x1f7dcb(0x56f)+_0x2d35b7+'\x20'+_0xee60a5+'\x20'+_0x353f7e+'\x20'+(_0x2d35b7+_0x521016-0x1)+'\x20'+(_0xee60a5+_0x102254-0x1)+'\x20'+(_0x353f7e+_0x47ca5d-0x1)+'\x20air';await _0x4457b5[_0x1f7dcb(0x6ba)](_0x583b75);}catch(_0x2f82d0){console[_0x1f7dcb(0x5b4)](_0x1f7dcb(0x680),_0x2f82d0);}}function consumeOneItemFromInventory(_0x4fd1e8,_0x522172){const _0x4f9374=_0x1d2622,_0x4a3bd1=_0x4fd1e8[_0x4f9374(0x299)](_0x4f9374(0xd17))[_0x4f9374(0x26e)];for(let _0x396001=0x0;_0x396001<_0x4a3bd1[_0x4f9374(0x5c1)];_0x396001++){const _0x182227=_0x4a3bd1['getItem'](_0x396001);if(_0x182227&&_0x182227[_0x4f9374(0x621)]===_0x522172){_0x182227[_0x4f9374(0x8f0)]>0x1?(_0x182227[_0x4f9374(0x8f0)]--,_0x4a3bd1[_0x4f9374(0xbc1)](_0x396001,_0x182227)):_0x4a3bd1[_0x4f9374(0xbc1)](_0x396001,undefined);break;}}}async function showUndoOption(_0xce3d8e,_0x1bf1b9,_0x2a2d4d){const _0x3895e4=_0x1d2622;if(!_0xce3d8e[_0x3895e4(0x25f)]()){_0x1bf1b9[_0x3895e4(0x62d)]?_0xce3d8e[_0x3895e4(0x6ba)](_0x3895e4(0x466)+_0x1bf1b9['backupName']+'\x22')['catch'](()=>{}):cleanupBackupArea(_0x1bf1b9['backupLocation']['x'],_0x1bf1b9['backupLocation']['y'],_0x1bf1b9[_0x3895e4(0x205)]['z'],_0x1bf1b9[_0x3895e4(0x46c)][_0x3895e4(0x499)],_0x1bf1b9[_0x3895e4(0x46c)][_0x3895e4(0x518)],_0x1bf1b9[_0x3895e4(0x46c)]['depth'],_0xce3d8e);return;}const _0x511278=new ActionFormData()[_0x3895e4(0xd1)](_0x3895e4(0x655))[_0x3895e4(0x629)](_0x3895e4(0x837)+_0x2a2d4d[_0x3895e4(0x5cb)]+'.\x0aDo\x20you\x20want\x20to\x20keep\x20it\x20or\x20undo\x20the\x20placement?')[_0x3895e4(0x31f)](_0x3895e4(0x263),_0x3895e4(0x933))[_0x3895e4(0x31f)]('§cUndo\x20Placement',_0x3895e4(0x96e));try{const _0x49f54a=await _0x511278[_0x3895e4(0x504)](_0xce3d8e);if(_0x49f54a['canceled']||_0x49f54a['selection']===0x0){_0xce3d8e[_0x3895e4(0x34f)](_0x3895e4(0x6f9));_0x1bf1b9[_0x3895e4(0x62d)]?_0xce3d8e['runCommandAsync']('/structure\x20delete\x20\x22'+_0x1bf1b9[_0x3895e4(0x39d)]+'\x22')['catch'](()=>{}):await cleanupBackupArea(_0x1bf1b9[_0x3895e4(0x205)]['x'],_0x1bf1b9['backupLocation']['y'],_0x1bf1b9[_0x3895e4(0x205)]['z'],_0x1bf1b9[_0x3895e4(0x46c)]['width'],_0x1bf1b9[_0x3895e4(0x46c)]['height'],_0x1bf1b9[_0x3895e4(0x46c)][_0x3895e4(0x7b9)],_0xce3d8e);return;}if(_0x1bf1b9['useStructureBackup']){const {x:_0x2aea35,y:_0x288dce,z:_0x434d04}=_0x1bf1b9['location'],_0x46708b=_0x3895e4(0x3f7)+_0x1bf1b9[_0x3895e4(0x39d)]+'\x22\x20'+_0x2aea35+'\x20'+_0x288dce+'\x20'+_0x434d04;try{console['log'](_0x3895e4(0xd10)+_0x46708b),_0xce3d8e[_0x3895e4(0x34f)](_0x3895e4(0x242));const _0xc64f89=await _0xce3d8e[_0x3895e4(0x6ba)](_0x46708b);_0xc64f89[_0x3895e4(0x738)]>0x0?_0xce3d8e[_0x3895e4(0x34f)](_0x3895e4(0x78c)):_0xce3d8e[_0x3895e4(0x34f)](_0x3895e4(0xc4c)),_0xce3d8e[_0x3895e4(0x6ba)](_0x3895e4(0x466)+_0x1bf1b9[_0x3895e4(0x39d)]+'\x22')['catch'](()=>{});}catch(_0xcc3901){console[_0x3895e4(0x5b4)](_0x3895e4(0x5bb),_0xcc3901),_0xce3d8e[_0x3895e4(0x34f)]('§cError\x20restoring\x20area:\x20'+_0xcc3901[_0x3895e4(0xc47)]+_0x3895e4(0x10a)),_0xce3d8e[_0x3895e4(0x6ba)](_0x3895e4(0x466)+_0x1bf1b9[_0x3895e4(0x39d)]+'\x22')[_0x3895e4(0xb84)](()=>{});}}const _0x4729ca=_0xce3d8e[_0x3895e4(0x299)]('inventory')[_0x3895e4(0x26e)];let _0x5047bf=![];for(let _0x25b796=0x0;_0x25b796<_0x4729ca[_0x3895e4(0x5c1)];_0x25b796++){const _0x4c5242=_0x4729ca['getItem'](_0x25b796);if(_0x4c5242&&_0x4c5242[_0x3895e4(0x621)]===_0x2a2d4d[_0x3895e4(0x621)]){_0x4c5242[_0x3895e4(0x8f0)]+=0x1,_0x4729ca[_0x3895e4(0xbc1)](_0x25b796,_0x4c5242),_0x5047bf=!![];break;}}if(!_0x5047bf)for(let _0x298fe0=0x0;_0x298fe0<_0x4729ca[_0x3895e4(0x5c1)];_0x298fe0++){if(!_0x4729ca[_0x3895e4(0x416)](_0x298fe0)){const _0xf7d5e7=new ItemStack(_0x2a2d4d[_0x3895e4(0x621)],0x1);_0x4729ca['setItem'](_0x298fe0,_0xf7d5e7),_0x5047bf=!![];break;}}_0x5047bf?_0xce3d8e[_0x3895e4(0x34f)](_0x3895e4(0x5ce)):(_0xce3d8e['sendMessage'](_0x3895e4(0xbae)),_0xce3d8e['dimension']['spawnItem'](new ItemStack(_0x2a2d4d[_0x3895e4(0x621)],0x1),_0xce3d8e[_0x3895e4(0x1f2)]));}catch(_0x27c151){console['warn'](_0x3895e4(0xc8b),_0x27c151),_0x1bf1b9[_0x3895e4(0x39d)]&&_0xce3d8e[_0x3895e4(0x6ba)](_0x3895e4(0x466)+_0x1bf1b9[_0x3895e4(0x39d)]+'\x22')[_0x3895e4(0xb84)](()=>{});}finally{structurePlacements[_0x3895e4(0xbcb)](_0xce3d8e['id']);}}function cleanupPlacementData(_0x2a650d){const _0x21f9fc=_0x1d2622;try{world['getDimension'](_0x21f9fc(0x182))[_0x21f9fc(0x6ba)]('/structure\x20delete\x20\x22'+_0x2a650d+'\x22')['catch'](()=>{});}catch(_0xd34d53){console[_0x21f9fc(0x5b4)](_0x21f9fc(0x80a),_0xd34d53);}}function saveActiveWars(){const _0x54e0b8=_0x1d2622;try{const _0x1541d0=activeWars[_0x54e0b8(0xc89)](_0x2a0f65=>({'colonyAId':_0x2a0f65[_0x54e0b8(0x6d0)]['id'],'colonyBId':_0x2a0f65['colonyB']['id'],'timeLeft':_0x2a0f65['timeLeft'],'killsA':_0x2a0f65['killsA'],'killsB':_0x2a0f65['killsB']}));world['setDynamicProperty']('active_wars',JSON[_0x54e0b8(0x1db)](_0x1541d0));}catch(_0x1420bc){}}system[_0x1d2622(0x633)](()=>{const _0x493e0b=_0x1d2622;loadActiveWars();for(const _0x14d6ce of activeWars){let _0x149792=0x0;_0x14d6ce[_0x493e0b(0x569)]=system[_0x493e0b(0x613)](()=>{const _0x310d5c=_0x493e0b;updateWarActionbar(_0x14d6ce),_0x14d6ce[_0x310d5c(0x60f)]--,_0x14d6ce['timeLeft']<=0x0&&endWar(_0x14d6ce),_0x149792++,_0x149792>=0x1e&&(saveActiveWars(),_0x149792=0x0);},0x14),updateWarActionbar(_0x14d6ce);}system['runInterval'](()=>{const _0x18a9da=_0x493e0b,_0x335202=Date[_0x18a9da(0x405)]();for(const [_0x3ca33d,_0x3700ab]of structurePlacements[_0x18a9da(0x74e)]()){_0x335202-_0x3700ab[_0x18a9da(0x144)]>0x5*0x3c*0x3e8&&(_0x3700ab[_0x18a9da(0xb02)]!==null&&system[_0x18a9da(0xcd3)](_0x3700ab['timeoutId']),cleanupPlacementData(_0x3700ab[_0x18a9da(0x39d)]),structurePlacements['delete'](_0x3ca33d));}},0x1770);},0x2),system[_0x1d2622(0x613)](()=>{saveActiveWars();},0x258),system['runInterval'](()=>{const _0x248aa6=_0x1d2622;if(pendingKnightConversions[_0x248aa6(0x5c1)]===0x0)return;const _0x437aab=[];for(const [_0xebf4f1,_0xcd6962]of pendingKnightConversions[_0x248aa6(0x74e)]()){try{let _0x4c66c9=![];for(const _0x16ba43 of[world[_0x248aa6(0xbc8)]('overworld'),world[_0x248aa6(0xbc8)](_0x248aa6(0x437)),world[_0x248aa6(0xbc8)](_0x248aa6(0x18d))]){try{let _0x3fd7b9;_0xcd6962['type']===_0x248aa6(0x6fe)?_0x3fd7b9=_0x16ba43['getEntities']({'type':'jerrys_colonies:knight'}):_0x3fd7b9=_0x16ba43[_0x248aa6(0xc8f)]({'type':_0x248aa6(0x1e3)});for(const _0x486497 of _0x3fd7b9){if(_0x486497['id']===_0xebf4f1){_0x4c66c9=!![];const _0x4c76d3=_0x486497[_0x248aa6(0x460)](),_0x4cf168=_0x4c76d3[_0x248aa6(0x2d0)](_0x1a09bc=>_0x1a09bc['startsWith'](_0x248aa6(0x30d)));if(!_0x4cf168){_0x437aab['push'](_0xebf4f1);break;}const _0x2f02a3=_0x4cf168[_0x248aa6(0x3ad)]('colony_id:'[_0x248aa6(0xcd6)]);if(_0x2f02a3!==_0xcd6962[_0x248aa6(0x209)]){_0x437aab['push'](_0xebf4f1);break;}try{const _0x3a8374=_0x486497['location'];if(_0xcd6962[_0x248aa6(0x9a5)]===_0x248aa6(0x6fe)){const _0x3135ea=Array[_0x248aa6(0x2f9)](colonies['values']())[_0x248aa6(0x2d0)](_0x422570=>_0x422570['id']===_0xcd6962[_0x248aa6(0x209)]);_0x3135ea&&(convertSingleKnightToEnemy(_0x486497,_0x16ba43),console[_0x248aa6(0x6a4)](_0x248aa6(0x874)));}else{const _0x2a51d4=Array[_0x248aa6(0x2f9)](colonies[_0x248aa6(0xaf3)]())[_0x248aa6(0x2d0)](_0x343be3=>_0x343be3['id']===_0xcd6962['colonyId']);_0x2a51d4&&(convertSingleEnemyKnightToRegular(_0x486497,_0x16ba43),console[_0x248aa6(0x6a4)](_0x248aa6(0x600)));}_0x437aab[_0x248aa6(0x9bb)](_0xebf4f1);}catch(_0x97902f){!_0x97902f[_0x248aa6(0x72b)]()[_0x248aa6(0x22d)](_0x248aa6(0x4d9))&&!_0x97902f[_0x248aa6(0x72b)]()[_0x248aa6(0x22d)](_0x248aa6(0x6d1))&&(console['warn'](_0x248aa6(0xb50),_0x97902f),_0x437aab[_0x248aa6(0x9bb)](_0xebf4f1));}break;}}if(_0x4c66c9)break;}catch(_0xd07a74){}}!_0x4c66c9&&Date[_0x248aa6(0x405)]()-_0xcd6962['timestamp']>0x493e0&&(_0x437aab[_0x248aa6(0x9bb)](_0xebf4f1),console['warn'](_0x248aa6(0x8c0)+_0xebf4f1));}catch(_0x551789){console[_0x248aa6(0x5b4)](_0x248aa6(0xb17),_0x551789),_0x437aab['push'](_0xebf4f1);}}for(const _0x59b106 of _0x437aab){pendingKnightConversions[_0x248aa6(0xbcb)](_0x59b106);}},0x28),system['runInterval'](()=>{const _0x23b01e=_0x1d2622;try{for(const _0x3c4946 of[world[_0x23b01e(0xbc8)](_0x23b01e(0x182)),world[_0x23b01e(0xbc8)](_0x23b01e(0x437)),world['getDimension']('the_end')]){try{const _0x1c055f=_0x3c4946['getEntities']({'type':_0x23b01e(0x7f6)});for(const _0x27eeec of _0x1c055f){try{const _0x5ddd0a=_0x27eeec[_0x23b01e(0x460)](),_0xecc97f=_0x5ddd0a[_0x23b01e(0x2d0)](_0x529574=>_0x529574[_0x23b01e(0x42a)](_0x23b01e(0x30d)));if(_0xecc97f){const _0x169fc7=_0xecc97f[_0x23b01e(0x3ad)](_0x23b01e(0x30d)[_0x23b01e(0xcd6)]);!colonies['has'](_0x169fc7)&&(_0x27eeec[_0x23b01e(0xa0b)](),_0x3c4946[_0x23b01e(0x3ec)](new ItemStack(_0x23b01e(0x91f),0x1),_0x27eeec[_0x23b01e(0x1f2)]),console[_0x23b01e(0x6a4)](_0x23b01e(0x451)+_0x169fc7));}}catch(_0xa76c9a){}}}catch(_0x2d1359){}}}catch(_0x453798){console[_0x23b01e(0x5b4)](_0x23b01e(0x79a),_0x453798);}},0x1770);const citizenNames=[_0x1d2622(0xc9f),_0x1d2622(0x4cb),_0x1d2622(0x5df),_0x1d2622(0x1f4),'Cearl',_0x1d2622(0x65d),_0x1d2622(0x7d6),_0x1d2622(0xb70),_0x1d2622(0x146),_0x1d2622(0x3e3),_0x1d2622(0x20d),_0x1d2622(0x4bb),_0x1d2622(0x1ae),_0x1d2622(0x147),_0x1d2622(0x8ca),'Mead',_0x1d2622(0x7d7),_0x1d2622(0x8b7),_0x1d2622(0x749),_0x1d2622(0xb33),_0x1d2622(0x582),_0x1d2622(0x7ad),_0x1d2622(0x803),_0x1d2622(0x308),_0x1d2622(0x44c),'Arden','Ezra',_0x1d2622(0x26a),_0x1d2622(0x440),_0x1d2622(0x932),_0x1d2622(0x9cd),_0x1d2622(0xd0b),'Joel','Pinell',_0x1d2622(0x214),_0x1d2622(0x11f),'Ottie',_0x1d2622(0x7d4),_0x1d2622(0x551),'Sidney',_0x1d2622(0x918),_0x1d2622(0x16e),_0x1d2622(0xbcd),_0x1d2622(0xc9b),_0x1d2622(0xcb0),_0x1d2622(0x6e2),_0x1d2622(0xa75),_0x1d2622(0x4a5),_0x1d2622(0x63b),'Mel',_0x1d2622(0xb74),_0x1d2622(0x362),_0x1d2622(0xa88),_0x1d2622(0x26d),'Salem','Raine',_0x1d2622(0x3d0),'Ash','Wynn',_0x1d2622(0x867),'Angel',_0x1d2622(0x512),_0x1d2622(0x7e1),_0x1d2622(0x998),'Sylas'];function getRandomName(){const _0x195b45=_0x1d2622;return citizenNames[Math['floor'](Math[_0x195b45(0x247)]()*citizenNames[_0x195b45(0xcd6)])];}function getRandomCitizenDialogue(_0x330c29,_0x41e454){const _0x42ec89=_0x1d2622,_0x199368={'miner':{'ready':[_0x42ec89(0x92b),'Hey\x20there!\x20Been\x20diggin\x27\x20all\x20day\x20and\x20hit\x20some\x20nice\x20ore.\x20Check\x20this\x20out!',_0x42ec89(0xb47)],'working':[_0x42ec89(0x821),_0x42ec89(0x76f),_0x42ec89(0x7e4)]},'hunter':{'ready':['Hey!\x20Just\x20got\x20back\x20from\x20hunting.\x20Got\x20some\x20meat\x20and\x20leather\x20for\x20ya!',_0x42ec89(0xbe6),_0x42ec89(0xb9c)],'working':[_0x42ec89(0xcaf),_0x42ec89(0x812),_0x42ec89(0x7d2)]},'builder':{'ready':[_0x42ec89(0x5f8),_0x42ec89(0x4ee),'Howdy!\x20My\x20workshop\x27s\x20been\x20busy.\x20Got\x20some\x20good\x20building\x20stuff\x20here.'],'working':[_0x42ec89(0x6b1),_0x42ec89(0x371),'Oh\x20hey!\x20I\x27m\x20right\x20in\x20the\x20middle\x20of\x20planning\x20something.\x20Check\x20back\x20later.']},'explorer':{'ready':[_0x42ec89(0x1e9),_0x42ec89(0xc46),_0x42ec89(0x82f)],'working':[_0x42ec89(0xb78),_0x42ec89(0x4a9),'Oh\x20hey!\x20I\x27m\x20on\x20an\x20adventure,\x20but\x20I\x27ll\x20have\x20cool\x20stuff\x20for\x20ya\x20soon.']},'botanist':{'ready':[_0x42ec89(0xb63),'Heya!\x20Had\x20a\x20good\x20harvest.\x20Got\x20some\x20tasty\x20stuff\x20for\x20ya!',_0x42ec89(0xb75)],'working':['Hey!\x20Plants\x20are\x20still\x20growing.\x20Gotta\x20wait\x20a\x20bit\x20more\x20for\x20the\x20good\x20stuff.',_0x42ec89(0x3e8),'Oh\x20hey!\x20Still\x20watering\x20and\x20stuff.\x20Plants\x20need\x20more\x20time\x20to\x20grow.']},'baker':{'ready':[_0x42ec89(0x735),_0x42ec89(0x6de),_0x42ec89(0x289)],'working':[_0x42ec89(0xf4),'Howdy!\x20The\x20oven\x27s\x20heating\x20up\x20right\x20now.\x20Check\x20back\x20for\x20fresh\x20stuff!',_0x42ec89(0x562)]},'fisherman':{'ready':['Hey!\x20Just\x20got\x20back\x20from\x20the\x20water.\x20Caught\x20some\x20fresh\x20fish\x20for\x20ya!',_0x42ec89(0xc92),_0x42ec89(0x250)],'working':[_0x42ec89(0xcca),_0x42ec89(0x186),_0x42ec89(0x4b5)]},'chemist':{'ready':[_0x42ec89(0x4a4),_0x42ec89(0x446),_0x42ec89(0x539)],'working':[_0x42ec89(0x19a),_0x42ec89(0xa38),_0x42ec89(0xb16)]},'machinist':{'ready':[_0x42ec89(0xb86),_0x42ec89(0x116),_0x42ec89(0xa03)],'working':['Hey!\x20Still\x20working\x20on\x20this\x20complex\x20machine.\x20Almost\x20got\x20it!','Howdy!\x20Redstone\x27s\x20being\x20tricky\x20today.\x20Check\x20back\x20for\x20the\x20finished\x20goods!',_0x42ec89(0x10e)]},'logger':{'ready':['Hey!\x20Been\x20chopping\x20trees\x20all\x20day.\x20Got\x20fresh\x20wood\x20for\x20ya!',_0x42ec89(0x949),'Hey!\x20My\x20axe\x27s\x20been\x20busy.\x20Got\x20lots\x20of\x20good\x20wood\x20if\x20you\x20want\x20it.'],'working':['Hey!\x20Still\x20cutting\x20down\x20trees.\x20These\x20big\x20ones\x20take\x20time!',_0x42ec89(0x379),_0x42ec89(0x462)]},'default':{'ready':['Hey!\x20Been\x20working\x20hard\x20and\x20got\x20some\x20stuff\x20for\x20ya!',_0x42ec89(0xe3),_0x42ec89(0x1a5)],'working':[_0x42ec89(0xac1),'Howdy!\x20Busy\x20doing\x20work\x20things\x20right\x20now.\x20Try\x20again\x20later!',_0x42ec89(0x619)]}},_0x3fcbba=_0x199368[_0x330c29]||_0x199368[_0x42ec89(0x402)],_0x394077=_0x41e454?_0x3fcbba[_0x42ec89(0x43f)]:_0x3fcbba['working'],_0x18a627=_0x394077[Math[_0x42ec89(0x648)](Math['random']()*_0x394077[_0x42ec89(0xcd6)])];return{'text':_0x18a627};}function setWarSideTags(_0x254a56,_0x354603=[],_0x2e1f1c=[]){const _0xbee09=_0x1d2622,_0x3a20f7=_0xbee09(0x5a7)+_0x254a56;for(const _0x1d36e1 of _0x2e1f1c){const _0x3e3ff4=_0xbee09(0x5a7)+_0x254a56+_0xbee09(0xb2d)+_0x1d36e1;for(const _0x150ddb of[world[_0xbee09(0xbc8)]('overworld'),world[_0xbee09(0xbc8)](_0xbee09(0x437)),world[_0xbee09(0xbc8)](_0xbee09(0x18d))]){for(const _0x4d07cb of _0x150ddb[_0xbee09(0xc8f)]({'type':_0xbee09(0x127)})){const _0x2714a6=_0x4d07cb[_0xbee09(0x460)]();if(_0x2714a6[_0xbee09(0x22d)]('colony_id:'+_0x1d36e1)){if(_0x2714a6[_0xbee09(0x22d)]('war_side_1'))_0x4d07cb[_0xbee09(0x866)]('war_side_1');if(_0x2714a6[_0xbee09(0x22d)](_0xbee09(0xa14)))_0x4d07cb['removeTag'](_0xbee09(0xa14));if(!_0x2714a6[_0xbee09(0x22d)](_0x3a20f7)){_0x4d07cb[_0xbee09(0x875)](_0x3a20f7),_0x4d07cb['addTag'](_0x3e3ff4);try{if(_0x254a56===0x1)_0x4d07cb['triggerEvent'](_0xbee09(0x477));else{if(_0x254a56===0x2)_0x4d07cb['triggerEvent'](_0xbee09(0x268));}}catch(_0x503777){}}}}}for(const _0x5ee3b2 of world[_0xbee09(0x272)]()){const _0xf7f5a6=_0x5ee3b2[_0xbee09(0x460)]();if(_0xf7f5a6[_0xbee09(0x22d)](_0xbee09(0x30d)+_0x1d36e1)){if(_0x254a56===0x1&&_0xf7f5a6['includes'](_0xbee09(0xa14)))_0x5ee3b2[_0xbee09(0x866)](_0xbee09(0xa14));if(_0x254a56===0x2&&_0xf7f5a6[_0xbee09(0x22d)](_0xbee09(0xb32)))_0x5ee3b2[_0xbee09(0x866)](_0xbee09(0xb32));!_0xf7f5a6[_0xbee09(0x22d)](_0x3a20f7)&&(_0x5ee3b2['addTag'](_0x3a20f7),_0x5ee3b2[_0xbee09(0x875)](_0x3e3ff4));}}}}function clearWarSideTags(){const _0x42503f=_0x1d2622;for(const _0x1489c0 of world['getPlayers']()){const _0x560acd=_0x1489c0[_0x42503f(0x460)]();for(const _0x20a90a of _0x560acd){if(_0x20a90a[_0x42503f(0x42a)]('war_side_'))_0x1489c0[_0x42503f(0x866)](_0x20a90a);}}for(const _0x9028ae of[world[_0x42503f(0xbc8)](_0x42503f(0x182)),world[_0x42503f(0xbc8)](_0x42503f(0x437)),world['getDimension'](_0x42503f(0x18d))]){try{const _0x13aa92=_0x9028ae['getEntities']({'type':_0x42503f(0x127)});for(const _0x160111 of _0x13aa92){const _0x428521=_0x160111[_0x42503f(0x460)]();for(const _0xbe1249 of _0x428521){if(_0xbe1249[_0x42503f(0x42a)](_0x42503f(0x5a7)))_0x160111[_0x42503f(0x866)](_0xbe1249);}try{_0x160111[_0x42503f(0xbd0)]('end_war_mode');}catch(_0x1b23f0){}}}catch(_0x2bc84e){}}}function forceCorrectWarTags(_0x2239a0,_0x318083){const _0x287319=_0x1d2622;clearWarSideTags(),setWarSideTags(0x1,_0x2239a0[_0x287319(0x709)]['concat']([_0x2239a0[_0x287319(0xcd0)]]),[_0x2239a0['id']]),setWarSideTags(0x2,_0x318083['citizens'][_0x287319(0x15e)]([_0x318083[_0x287319(0xcd0)]]),[_0x318083['id']]);}world[_0x1d2622(0x290)][_0x1d2622(0xaee)][_0x1d2622(0xba5)](_0x3b9e4d=>{const _0x440451=_0x1d2622,_0x411790=_0x3b9e4d['entity'];if(_0x411790['typeId']===_0x440451(0x127))try{const _0x46bf5c=getRandomName();_0x411790['nameTag']=_0x46bf5c;}catch(_0x2f30bb){console[_0x440451(0x5b4)](_0x440451(0x8dc),_0x2f30bb);}else{if(_0x411790[_0x440451(0x621)]===_0x440451(0xca9))try{const _0x2ed49e=_0x411790[_0x440451(0x460)](),_0x549dd1=_0x2ed49e['find'](_0x528b19=>_0x528b19['startsWith']('colony_id:'));if(_0x549dd1){const _0x2e5529=_0x549dd1[_0x440451(0x44b)](':')[0x1];if(colonies['has'](_0x2e5529)){const _0x326889=colonies['get'](_0x2e5529);if(!_0x326889['knights'])_0x326889[_0x440451(0x2ad)]=[];const _0xce654e=_0x326889[_0x440451(0x2ad)]['some'](_0x1e2c87=>_0x1e2c87['id']===_0x411790['id']);!_0xce654e&&(_0x326889['knights'][_0x440451(0x9bb)]({'id':_0x411790['id'],'name':_0x411790[_0x440451(0xa7c)]||_0x440451(0x5f2),'dimension':_0x411790[_0x440451(0xaf8)]['id']}),saveColonyData(),console[_0x440451(0x6a4)]('Registered\x20knight\x20'+_0x411790['id']+_0x440451(0x442)+_0x2e5529));}}}catch(_0x4fe437){console[_0x440451(0x5b4)](_0x440451(0x6a1),_0x4fe437);}}}),system['runInterval'](()=>{const _0x360a56=_0x1d2622;try{if(activeBlueprintPlacements[_0x360a56(0x5c1)]===0x0)return;for(const [_0x11241f,_0x38dcd6]of activeBlueprintPlacements['entries']()){const _0x441df9=_0x38dcd6['currentLocation']['x']+_0x38dcd6[_0x360a56(0x386)][_0x360a56(0x499)]/0x2,_0x34abe4=_0x38dcd6['currentLocation']['y']+_0x38dcd6['blueprintSize']['height']/0x2,_0xf0fa2f=_0x38dcd6[_0x360a56(0xc85)]['z']+_0x38dcd6[_0x360a56(0x386)][_0x360a56(0x7b9)]/0x2,_0x1ae83c=world['getAllPlayers']()[_0x360a56(0x7ae)](_0xe2ad8b=>{const _0x23b975=_0x360a56;if(_0xe2ad8b[_0x23b975(0xaf8)]['id']!==_0x38dcd6['dimension']['id'])return![];const _0x3e9a9a=_0xe2ad8b[_0x23b975(0x1f2)]['x']-_0x441df9,_0x546d50=_0xe2ad8b[_0x23b975(0x1f2)]['y']-_0x34abe4,_0xa9f877=_0xe2ad8b[_0x23b975(0x1f2)]['z']-_0xf0fa2f,_0x5f0f28=Math[_0x23b975(0x4e0)](_0x3e9a9a*_0x3e9a9a+_0x546d50*_0x546d50+_0xa9f877*_0xa9f877);return _0x5f0f28<=0x1e;});for(const _0x1296c5 of _0x1ae83c){try{_0x1296c5[_0x360a56(0x33d)](_0x360a56(0xbe9),0x3c,{'amplifier':0x4,'showParticles':![]});}catch(_0x107f59){console[_0x360a56(0x5b4)](_0x360a56(0x5fc),_0x107f59);}}}}catch(_0x5ccc4a){console[_0x360a56(0x7bf)](_0x360a56(0x4a0),_0x5ccc4a);}},0x3c),system[_0x1d2622(0x613)](()=>{const _0xa784d1=_0x1d2622;try{const _0x20200c=world[_0xa784d1(0xbc8)](_0xa784d1(0x182))['getEntities']({'type':_0xa784d1(0x127)}),_0x27080f=0x5;!system['citizenNamingIndex']&&(system['citizenNamingIndex']=0x0);for(let _0x99c1b2=0x0;_0x99c1b2<_0x27080f&&_0x99c1b2<_0x20200c[_0xa784d1(0xcd6)];_0x99c1b2++){const _0x3f44b3=(system[_0xa784d1(0x36a)]+_0x99c1b2)%_0x20200c['length'],_0x476aed=_0x20200c[_0x3f44b3];try{if(!_0x476aed[_0xa784d1(0xa7c)]||_0x476aed[_0xa784d1(0xa7c)]===''){const _0x41aecd=getRandomName();_0x476aed[_0xa784d1(0xa7c)]=_0x41aecd;}}catch(_0x5db1b2){}}system[_0xa784d1(0x36a)]=(system[_0xa784d1(0x36a)]+_0x27080f)%(_0x20200c['length']||0x1);}catch(_0x4b42c5){console[_0xa784d1(0x7bf)](_0xa784d1(0x8d4),_0x4b42c5);}},0x12c),system[_0x1d2622(0x613)](()=>{const _0x30a00e=_0x1d2622;try{for(const _0x24fff6 of world[_0x30a00e(0x272)]()){let _0x2b791a=![],_0x2b266b='',_0x4aec3a='§6',_0x1221cc=null,_0x4d708f=null;for(const _0x2466d8 of colonies[_0x30a00e(0xaf3)]()){try{!_0x2466d8[_0x30a00e(0x61a)]&&(_0x2466d8[_0x30a00e(0x61a)]=[_0x2466d8[_0x30a00e(0x1f2)]]);for(const _0x47b0c7 of _0x2466d8[_0x30a00e(0x61a)]){if(_0x2466d8[_0x30a00e(0xaf8)]&&_0x2466d8[_0x30a00e(0xaf8)]!==_0x24fff6[_0x30a00e(0xaf8)]['id'])continue;const _0x1aee8f=Math[_0x30a00e(0x572)](_0x24fff6[_0x30a00e(0x1f2)]['x']-_0x47b0c7['x']),_0x3fcd12=Math[_0x30a00e(0x572)](_0x24fff6['location']['z']-_0x47b0c7['z']);if(_0x1aee8f<=0x64&&_0x3fcd12<=0x64){_0x2b791a=!![],_0x2b266b=_0x2466d8[_0x30a00e(0xa45)],_0x1221cc=_0x2466d8['id'],_0x4d708f=_0x2466d8;_0x2466d8[_0x30a00e(0x16a)]&&_0x2466d8['color'][_0x30a00e(0x768)]!==undefined&&(_0x4aec3a=getColorCode(_0x2466d8[_0x30a00e(0x16a)][_0x30a00e(0x768)]));break;}}if(_0x2b791a)break;}catch(_0xe46f96){}}if(!_0x2b791a)try{const _0x373da9=_0x24fff6['dimension'][_0x30a00e(0xc8f)]({'type':_0x30a00e(0x7f6),'location':_0x24fff6['location'],'maxDistance':0x64});for(const _0x3b6a18 of _0x373da9){try{const _0x138e0d=_0x24fff6[_0x30a00e(0x1f2)]['x']-_0x3b6a18[_0x30a00e(0x1f2)]['x'],_0x18dcc2=_0x24fff6['location']['y']-_0x3b6a18[_0x30a00e(0x1f2)]['y'],_0x9561b=_0x24fff6[_0x30a00e(0x1f2)]['z']-_0x3b6a18['location']['z'],_0x19536a=Math[_0x30a00e(0x4e0)](_0x138e0d*_0x138e0d+_0x18dcc2*_0x18dcc2+_0x9561b*_0x9561b);if(_0x19536a<=0x64){const _0x249392=_0x3b6a18['getTags']();for(const _0x2a1188 of _0x249392){if(_0x2a1188[_0x30a00e(0x42a)](_0x30a00e(0x8bc)))_0x2b791a=!![],_0x2b266b=_0x2a1188[_0x30a00e(0x3ad)](_0x30a00e(0x8bc)[_0x30a00e(0xcd6)]);else _0x2a1188[_0x30a00e(0x42a)]('colony_id:')&&(_0x1221cc=_0x2a1188[_0x30a00e(0x3ad)](_0x30a00e(0x30d)['length']),colonies[_0x30a00e(0xb61)](_0x1221cc)&&(_0x4d708f=colonies[_0x30a00e(0xc0a)](_0x1221cc),_0x4d708f[_0x30a00e(0xaf8)]&&_0x4d708f[_0x30a00e(0xaf8)]!==_0x24fff6[_0x30a00e(0xaf8)]['id']&&(_0x2b791a=![],_0x1221cc=null,_0x4d708f=null,_0x2b266b='')));}try{const _0x1aada3=_0x3b6a18[_0x30a00e(0xbd0)]('');if(_0x1aada3&&_0x1aada3[_0x30a00e(0x22d)](_0x30a00e(0x773))){const _0x2db440=_0x1aada3['match'](/flag_color:(\d+)/);if(_0x2db440&&_0x2db440[0x1]){const _0x321dd5=parseInt(_0x2db440[0x1]);_0x4aec3a=getColorCode(_0x321dd5);}}}catch(_0x5ea4c0){}if(_0x2b791a)break;}}catch(_0x21e40c){}}}catch(_0x303428){}if(_0x2b791a&&activeWars['length']===0x0&&!pendingArenaTeleports[_0x30a00e(0xb61)](_0x24fff6['id'])&&!isMinimapCompatModeEnabled()){_0x24fff6[_0x30a00e(0x903)]['setActionBar'](''+_0x4aec3a+_0x2b266b);if(_0x1221cc){const _0x17c7f3=visitedColonies[_0x30a00e(0xc0a)](_0x24fff6['id'])||[];if(!_0x17c7f3['includes'](_0x1221cc)){_0x17c7f3[_0x30a00e(0x9bb)](_0x1221cc),visitedColonies[_0x30a00e(0x336)](_0x24fff6['id'],_0x17c7f3),saveVisitedColonies();try{_0x24fff6['runCommandAsync'](_0x30a00e(0x8b4)+_0x4aec3a+_0x2b266b),_0x24fff6[_0x30a00e(0x6ba)](_0x30a00e(0x85d)),_0x24fff6[_0x30a00e(0x285)]('event.colony_discovered'),system[_0x30a00e(0x633)](()=>{const _0x5ab348=_0x30a00e;_0x24fff6[_0x5ab348(0x6ba)](_0x5ab348(0x601));},0xa);}catch(_0x535b30){console[_0x30a00e(0x5b4)](_0x30a00e(0x7fd),_0x535b30);}}}}else{if(activeWars[_0x30a00e(0xcd6)]===0x0&&!pendingArenaTeleports['has'](_0x24fff6['id'])&&!isMinimapCompatModeEnabled()){const _0x31fdee=playerLastColony[_0x30a00e(0xb61)](_0x24fff6['id']);_0x31fdee?(_0x24fff6['onScreenDisplay']['setActionBar'](_0x30a00e(0x4a3)),playerLastColony[_0x30a00e(0xbcb)](_0x24fff6['id'])):_0x24fff6[_0x30a00e(0x903)]['setActionBar']('');}}_0x2b791a&&_0x1221cc&&playerLastColony[_0x30a00e(0x336)](_0x24fff6['id'],_0x1221cc);}}catch(_0x19861e){}},0x5);const colonies=new Map();function loadColonyData(){const _0x3ff206=_0x1d2622;try{const _0x309c5b=world[_0x3ff206(0x49d)](_0x3ff206(0xaf0));if(_0x309c5b)try{const _0x7ccea4=JSON[_0x3ff206(0xc35)](_0x309c5b),_0x3733bd=Object[_0x3ff206(0x74e)](_0x7ccea4);console['log'](_0x3ff206(0x6b4)+_0x3733bd[_0x3ff206(0xcd6)]+_0x3ff206(0x13c));let _0xacae59=0x0,_0x24de80=0x0,_0x459773=0x0;const _0x4990d5=0xa;function _0x4d86bf(){const _0x591a09=_0x3ff206,_0x560be5=Math[_0x591a09(0x2c1)](_0x459773+_0x4990d5,_0x3733bd[_0x591a09(0xcd6)]);for(let _0x1532c1=_0x459773;_0x1532c1<_0x560be5;_0x1532c1++){const [_0x214c9a,_0xe38ee4]=_0x3733bd[_0x1532c1];try{!_0xe38ee4[_0x591a09(0x61a)]&&(_0xe38ee4[_0x591a09(0x61a)]=[_0xe38ee4['location']]);!_0xe38ee4[_0x591a09(0x709)]&&(_0xe38ee4[_0x591a09(0x709)]=[]);!_0xe38ee4[_0x591a09(0x2ca)]&&(_0xe38ee4['diplomacy']={});!_0xe38ee4['taxation']&&(_0xe38ee4[_0x591a09(0x67d)]={'enabled':![],'taxItem':_0x591a09(0x387),'taxAmount':0x1,'frequency':_0x591a09(0x96b),'lastCollection':null,'nextCollection':null,'citizens':{}});!_0xe38ee4[_0x591a09(0x59f)]&&(_0xe38ee4[_0x591a09(0xb45)]?(_0xe38ee4[_0x591a09(0x59f)]=[_0xe38ee4[_0x591a09(0xb45)]],delete _0xe38ee4['foodCrateLocation']):_0xe38ee4[_0x591a09(0x59f)]=[]);if(_0xe38ee4['taxation']&&_0xe38ee4[_0x591a09(0x67d)][_0x591a09(0x709)])for(const [_0x443ae5,_0x34eedd]of Object['entries'](_0xe38ee4[_0x591a09(0x67d)][_0x591a09(0x709)])){_0x34eedd&&typeof _0x34eedd[_0x591a09(0xb91)]===_0x591a09(0x81f)&&(_0x34eedd[_0x591a09(0xb91)]=![]);}!_0xe38ee4[_0x591a09(0xaf8)]&&(_0xe38ee4['dimension']='minecraft:overworld',console[_0x591a09(0x6a4)](_0x591a09(0xcbf)+_0x214c9a));!_0xe38ee4[_0x591a09(0x83a)]&&!_0xe38ee4[_0x591a09(0x84d)]&&(_0xe38ee4['nextMarauderAttack']=Date[_0x591a09(0x405)]()+(0x1e+Math[_0x591a09(0x648)](Math['random']()*0x96))*0xea60,console[_0x591a09(0x6a4)]('Added\x20missing\x20nextMarauderAttack\x20property\x20to\x20colony\x20'+_0x214c9a));!_0xe38ee4[_0x591a09(0xb01)]&&!_0xe38ee4['plagueTimeRemaining']&&(_0xe38ee4[_0x591a09(0xb01)]=Date[_0x591a09(0x405)]()+(0xf+Math[_0x591a09(0x648)](Math[_0x591a09(0x247)]()*0x4b))*0xea60,console[_0x591a09(0x6a4)](_0x591a09(0xac8)+_0x214c9a));!_0xe38ee4[_0x591a09(0x9b0)]&&(_0xe38ee4['democracy']={'enabled':![],'votes':{},'nextElection':null,'electionHistory':[]},console['log'](_0x591a09(0x47f)+_0x214c9a));!_0xe38ee4[_0x591a09(0x2ad)]&&(_0xe38ee4[_0x591a09(0x2ad)]=[],console['log']('Added\x20missing\x20knights\x20array\x20to\x20colony\x20'+_0x214c9a));if(_0xe38ee4[_0x591a09(0x16a)]&&!_0xe38ee4[_0x591a09(0x16a)][_0x591a09(0xaca)]){const _0x1e707c=_0xe38ee4[_0x591a09(0x16a)]['value'],_0x2014c2=findColorByValue(_0x1e707c);_0x2014c2?_0xe38ee4[_0x591a09(0x16a)]={..._0x2014c2,'packId':_0x591a09(0x570),'packName':_0x591a09(0xcae)}:_0xe38ee4[_0x591a09(0x16a)]={'name':_0x591a09(0x47d),'id':'white','value':0x0,'colorCode':'§f','texture':'fwhite','event':_0x591a09(0xc67),'packId':_0x591a09(0x570),'packName':_0x591a09(0xcae)};}if(!_0xe38ee4[_0x591a09(0x1f2)]||!_0xe38ee4[_0x591a09(0xcd0)]){_0x24de80++;continue;}colonies[_0x591a09(0x336)](_0x214c9a,_0xe38ee4),_0xacae59++;}catch(_0x317c04){console[_0x591a09(0x5b4)](_0x591a09(0x1d6)+_0x214c9a+':',_0x317c04),_0x24de80++;}}_0x459773=_0x560be5,_0x459773<_0x3733bd[_0x591a09(0xcd6)]?system[_0x591a09(0x631)](_0x4d86bf):console[_0x591a09(0x6a4)](_0x591a09(0xb80)+_0xacae59+_0x591a09(0xc69)+_0x24de80);}_0x4d86bf();}catch(_0x4f7311){console[_0x3ff206(0x5b4)]('Error\x20parsing\x20saved\x20colonies\x20data:',_0x4f7311);}else console['log'](_0x3ff206(0x1c4));}catch(_0x23f6fe){console['warn']('Critical\x20error\x20in\x20loadColonyData:',_0x23f6fe);}}function saveColonyData(){const _0x4ca2e4=_0x1d2622;try{const _0x3dd1a2=Object['fromEntries'](colonies);world[_0x4ca2e4(0x4da)](_0x4ca2e4(0xaf0),JSON['stringify'](_0x3dd1a2)),console[_0x4ca2e4(0x6a4)](_0x4ca2e4(0x8f1)+colonies['size']+_0x4ca2e4(0xc5d));}catch(_0x329d09){console[_0x4ca2e4(0x5b4)](_0x4ca2e4(0x6c8),_0x329d09);try{const _0x2ed82e=[];for(const [_0x2ac1e5,_0x494b82]of colonies['entries']()){try{JSON[_0x4ca2e4(0x1db)](_0x494b82);}catch(_0x51b8c5){_0x2ed82e[_0x4ca2e4(0x9bb)](_0x2ac1e5),console['warn'](_0x4ca2e4(0x87e)+_0x2ac1e5+_0x4ca2e4(0x9cf),_0x51b8c5);}}_0x2ed82e[_0x4ca2e4(0xcd6)]>0x0&&console['warn'](_0x4ca2e4(0xaab)+_0x2ed82e[_0x4ca2e4(0xcd6)]+_0x4ca2e4(0x68e));}catch(_0x51be9e){console[_0x4ca2e4(0x5b4)](_0x4ca2e4(0x8e7),_0x51be9e);}}}function hasColonyPermission(_0x345908,_0x5b773f,_0x2637ad){const _0x4c30b1=_0x1d2622;if(_0x5b773f[_0x4c30b1(0xcd0)]===_0x345908['name'])return!![];if(!_0x5b773f['citizens']||!_0x5b773f['citizens']['includes'](_0x345908[_0x4c30b1(0xa45)]))return![];if(!_0x5b773f['ranks']||!_0x5b773f[_0x4c30b1(0x32c)]||!_0x5b773f[_0x4c30b1(0x32c)][_0x345908[_0x4c30b1(0xa45)]])return![];const _0x520a0c=_0x5b773f[_0x4c30b1(0x32c)][_0x345908[_0x4c30b1(0xa45)]],_0x48d682=_0x5b773f[_0x4c30b1(0xabb)][_0x4c30b1(0x2d0)](_0x412868=>_0x412868['id']===_0x520a0c);if(!_0x48d682||!_0x48d682['permissions'])return![];return _0x48d682[_0x4c30b1(0x283)][_0x2637ad]===!![];}function getPlayerRankInColony(_0xe37d0a,_0x294c14){const _0x5f30b0=_0x1d2622;if(!_0x294c14[_0x5f30b0(0xabb)]||!_0x294c14['playerRanks']||!_0x294c14[_0x5f30b0(0x32c)][_0xe37d0a[_0x5f30b0(0xa45)]])return null;const _0x5297e8=_0x294c14[_0x5f30b0(0x32c)][_0xe37d0a[_0x5f30b0(0xa45)]];return _0x294c14[_0x5f30b0(0xabb)][_0x5f30b0(0x2d0)](_0x1f53c6=>_0x1f53c6['id']===_0x5297e8);}function hasPermission(_0x1c4607,_0x2d2465,_0x2e1c8e){const _0x5b1735=_0x1d2622;try{if(_0x2d2465&&_0x2d2465[_0x5b1735(0x396)]===_0x1c4607['id'])return!![];const _0x36d6fa='colony_perm_'+_0x2e1c8e,_0xa82d8f=_0x1c4607[_0x5b1735(0x49d)](_0x36d6fa);return _0xa82d8f===!![];}catch(_0x4764b2){return console[_0x5b1735(0x5b4)](_0x5b1735(0x6e1),_0x4764b2),![];}}function syncPlayerPermissions(_0xf774ed,_0x365718){const _0xb781ff=_0x1d2622;try{const _0x48552a=_0x365718&&(_0x365718['ownerId']===_0xf774ed['id']||_0x365718[_0xb781ff(0xcd0)]===_0xf774ed[_0xb781ff(0xa45)]);if(_0x48552a){_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x3a5),!![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x32b),!![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xbfc),!![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xb83),!![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xc88),!![]),_0xf774ed[_0xb781ff(0x4da)]('colony_perm_placeBlueprints',!![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x7f9),!![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x575),!![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x288),!![]),console['warn'](_0xb781ff(0x615)+_0xf774ed[_0xb781ff(0xa45)]+_0xb781ff(0x979));return;}_0xf774ed[_0xb781ff(0x4da)]('colony_is_owner',![]);if(!_0x365718||!_0x365718[_0xb781ff(0xabb)]||!_0x365718[_0xb781ff(0x32c)]||!_0x365718[_0xb781ff(0x32c)][_0xf774ed[_0xb781ff(0xa45)]]){_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x32b),![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xbfc),![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xb83),![]),console[_0xb781ff(0x5b4)](_0xb781ff(0x615)+_0xf774ed[_0xb781ff(0xa45)]+_0xb781ff(0x184));return;}const _0x14a1df=_0x365718[_0xb781ff(0x32c)][_0xf774ed[_0xb781ff(0xa45)]],_0x450c20=_0x365718[_0xb781ff(0xabb)][_0xb781ff(0x2d0)](_0x299c7f=>_0x299c7f['id']===_0x14a1df);if(!_0x450c20||!_0x450c20[_0xb781ff(0x283)]){_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x32b),![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xbfc),![]),_0xf774ed['setDynamicProperty'](_0xb781ff(0xb83),![]),console[_0xb781ff(0x5b4)]('[SYNC\x20PERMISSIONS]\x20'+_0xf774ed['name']+_0xb781ff(0x843));return;}_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x32b),_0x450c20[_0xb781ff(0x283)][_0xb781ff(0xc1b)]||![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xbfc),_0x450c20[_0xb781ff(0x283)][_0xb781ff(0xb4e)]||![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xb83),_0x450c20[_0xb781ff(0x283)][_0xb781ff(0x2ca)]||![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0xc88),_0x450c20[_0xb781ff(0x283)]['interactBlocks']||![]),_0xf774ed[_0xb781ff(0x4da)]('colony_perm_placeBlueprints',_0x450c20['permissions']['placeBlueprints']||![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x7f9),_0x450c20[_0xb781ff(0x283)][_0xb781ff(0x559)]||![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x575),_0x450c20[_0xb781ff(0x283)][_0xb781ff(0x55a)]||![]),_0xf774ed[_0xb781ff(0x4da)](_0xb781ff(0x288),_0x450c20['permissions'][_0xb781ff(0x876)]||![]),console['warn'](_0xb781ff(0x615)+_0xf774ed[_0xb781ff(0xa45)]+_0xb781ff(0xa92)+(_0x450c20[_0xb781ff(0x283)][_0xb781ff(0xc1b)]||![]));}catch(_0x3211fe){console['warn']('Error\x20syncing\x20player\x20permissions:',_0x3211fe);}}system[_0x1d2622(0x633)](()=>{loadColonyData();},0x1e),system[_0x1d2622(0x633)](()=>{loadTaxationReminders();},0x23),system[_0x1d2622(0x633)](()=>{loadPendingFlagSteals();},0x28),system[_0x1d2622(0x633)](()=>{loadFoodCrateData();},0x2d),system[_0x1d2622(0x613)](()=>{saveColonyData(),savePendingFlagSteals();},0x258);let lastCrownGiftTime=0x0;const CROWN_COOLDOWN=0x1388,RECEIVED_CROWN_TAG=_0x1d2622(0x4b2),visitedColonies=new Map(),playerLastColony=new Map();function saveVisitedColonies(){const _0xd791e3=_0x1d2622;try{const _0x3d001b={};for(const [_0x505ae9,_0x18fe99]of visitedColonies['entries']()){_0x3d001b[_0x505ae9]=_0x18fe99;}world[_0xd791e3(0x4da)](_0xd791e3(0x7d3),JSON[_0xd791e3(0x1db)](_0x3d001b));}catch(_0x2ae5f7){console[_0xd791e3(0x7bf)](_0xd791e3(0x13e),_0x2ae5f7);}}function loadVisitedColonies(){const _0x3d3e45=_0x1d2622;try{const _0x445f53=world[_0x3d3e45(0x49d)](_0x3d3e45(0x7d3));if(_0x445f53){const _0x1b26f7=JSON[_0x3d3e45(0xc35)](_0x445f53);visitedColonies[_0x3d3e45(0xa83)]();for(const [_0x1c0cda,_0x3e0f27]of Object[_0x3d3e45(0x74e)](_0x1b26f7)){visitedColonies[_0x3d3e45(0x336)](_0x1c0cda,_0x3e0f27);}}else world[_0x3d3e45(0x4da)](_0x3d3e45(0x7d3),JSON[_0x3d3e45(0x1db)]({}));}catch(_0x3e7120){console[_0x3d3e45(0x7bf)](_0x3d3e45(0x66c),_0x3e7120);}}system[_0x1d2622(0x633)](()=>{loadVisitedColonies();},0x14),system['runInterval'](()=>{saveVisitedColonies();},0x4b0);const playerKills=new Map();function savePlayerKills(){const _0x5ab6c8=_0x1d2622;try{const _0x113415={};for(const [_0x5ecc8a,_0x97191]of playerKills[_0x5ab6c8(0x74e)]()){_0x113415[_0x5ecc8a]=_0x97191;}world[_0x5ab6c8(0x4da)](_0x5ab6c8(0x165),JSON[_0x5ab6c8(0x1db)](_0x113415));}catch(_0x523e02){console[_0x5ab6c8(0x7bf)](_0x5ab6c8(0x226),_0x523e02);}}function loadPlayerKills(){const _0x23630c=_0x1d2622;try{const _0x8f692f=world[_0x23630c(0x49d)](_0x23630c(0x165));if(_0x8f692f){const _0x1d44eb=JSON[_0x23630c(0xc35)](_0x8f692f);playerKills[_0x23630c(0xa83)]();for(const [_0xa28718,_0x8a49ea]of Object[_0x23630c(0x74e)](_0x1d44eb)){playerKills[_0x23630c(0x336)](_0xa28718,_0x8a49ea);}}else world['setDynamicProperty'](_0x23630c(0x165),JSON[_0x23630c(0x1db)]({}));}catch(_0x56d697){console['error']('Failed\x20to\x20load\x20player\x20kills\x20data:',_0x56d697);}}system[_0x1d2622(0x633)](()=>{loadPlayerKills();},0x14),system[_0x1d2622(0x613)](()=>{savePlayerKills();},0x4b0);function incrementPlayerKills(_0x4e4217){const _0x25ce1f=_0x1d2622,_0x2ddbb1=playerKills[_0x25ce1f(0xc0a)](_0x4e4217)||0x0;playerKills['set'](_0x4e4217,_0x2ddbb1+0x1),savePlayerKills();}function getPlayerLevelTitle(_0xae34b1){const _0x1462b7=_0x1d2622;if(_0xae34b1<0x5)return'Recruit';if(_0xae34b1<0xa)return _0x1462b7(0xc43);if(_0xae34b1<0xf)return _0x1462b7(0x4eb);if(_0xae34b1<0x14)return _0x1462b7(0x129);if(_0xae34b1<0x19)return _0x1462b7(0x84f);if(_0xae34b1<0x1e)return _0x1462b7(0xbc3);if(_0xae34b1<0x23)return _0x1462b7(0xd0e);if(_0xae34b1<0x28)return _0x1462b7(0x93a);if(_0xae34b1<0x2d)return'Overlord';if(_0xae34b1<0x32)return _0x1462b7(0x597);return _0x1462b7(0x597);}async function showPlayerIdUI(_0x4999ef){const _0x19b1b3=_0x1d2622;try{let _0x6181c3=_0x19b1b3(0x50d),_0x554884='§7',_0x594ee1='None';for(const [_0x1676cb,_0x3ae617]of colonies){if(_0x3ae617['members']&&_0x3ae617[_0x19b1b3(0x60a)][_0x19b1b3(0xb49)](_0x50afa0=>_0x50afa0['id']===_0x4999ef['id'])){_0x6181c3=_0x3ae617['name'],_0x554884=getColonyColorCode(_0x3ae617[_0x19b1b3(0x16a)]['value']);const _0x2b0d59=getPlayerRankInColony(_0x4999ef,_0x3ae617);_0x594ee1=_0x2b0d59?_0x2b0d59[_0x19b1b3(0xa45)]:_0x19b1b3(0x50d);break;}else{if(_0x3ae617[_0x19b1b3(0x396)]===_0x4999ef['id']){_0x6181c3=_0x3ae617['name']+'\x20(Owner)',_0x554884=getColonyColorCode(_0x3ae617[_0x19b1b3(0x16a)][_0x19b1b3(0x768)]),_0x594ee1='Owner';break;}}}let _0x59c50d=_0x19b1b3(0x50d);const _0x574a1a=playerSpouses[_0x19b1b3(0xc0a)](_0x4999ef['id']);if(_0x574a1a){const _0x2dfab7=world[_0x19b1b3(0x241)](),_0x4838dd=_0x2dfab7[_0x19b1b3(0x2d0)](_0x500c9f=>_0x500c9f['id']===_0x574a1a);_0x4838dd?_0x59c50d=_0x4838dd[_0x19b1b3(0xa45)]:_0x59c50d=_0x19b1b3(0x72a);}const _0x4ea97d=visitedColonies['get'](_0x4999ef['id'])||[],_0x5363b6=_0x4ea97d['length'];let _0x54591f='';if(_0x4ea97d[_0x19b1b3(0xcd6)]>0x0)for(let _0x4157db=0x0;_0x4157db<_0x4ea97d[_0x19b1b3(0xcd6)];_0x4157db++){const _0x1f7ea3=colonies[_0x19b1b3(0xc0a)](_0x4ea97d[_0x4157db]);if(_0x1f7ea3){const _0x3d7131=getColonyColorCode(_0x1f7ea3[_0x19b1b3(0x16a)][_0x19b1b3(0x768)]);_0x54591f+=''+_0x3d7131+_0x1f7ea3[_0x19b1b3(0xa45)]+'§r',_0x4157db<_0x4ea97d[_0x19b1b3(0xcd6)]-0x1&&(_0x54591f+=_0x19b1b3(0x11a));}}else _0x54591f=_0x19b1b3(0x83e);const _0x1bccaf=playerKills[_0x19b1b3(0xc0a)](_0x4999ef['id'])||0x0,_0x29c4fd=getPlayerLevelTitle(_0x1bccaf),_0x3d9784=new ActionFormData();_0x3d9784[_0x19b1b3(0xd1)](_0x19b1b3(0xa1c)),_0x3d9784[_0x19b1b3(0x629)]('My\x20Stats:\x0a\x0a'+(_0x19b1b3(0xc84)+_0x554884+_0x6181c3+'\x0a')+(_0x19b1b3(0xc31)+_0x594ee1+'\x0a')+('Spouse:\x20'+_0x59c50d+'\x0a\x0a')+(_0x19b1b3(0x27c)+_0x5363b6+'\x0a')+(_0x54591f+'\x0a\x0a')+('Player\x20Kills:\x20'+_0x1bccaf+_0x19b1b3(0x8d9))+(_0x19b1b3(0x808)+_0x29c4fd+'\x0a\x0a')),_0x3d9784[_0x19b1b3(0x31f)]('Browse\x20Other\x20Players'),_0x3d9784['button'](_0x19b1b3(0x266));const _0x182a1e=await _0x3d9784[_0x19b1b3(0x504)](_0x4999ef);if(_0x182a1e[_0x19b1b3(0x9d4)])return;if(_0x182a1e[_0x19b1b3(0x77a)]===0x0)showBrowsePlayersUI(_0x4999ef);else _0x182a1e[_0x19b1b3(0x77a)]===0x1&&showBrowseColoniesUI(_0x4999ef);}catch(_0x522bdb){console[_0x19b1b3(0x7bf)]('Error\x20showing\x20Player\x20ID\x20UI:',_0x522bdb),_0x4999ef[_0x19b1b3(0x34f)](_0x19b1b3(0x6e0));}}async function showBrowsePlayersUI(_0x3bb256){const _0x4f2819=_0x1d2622;try{const _0x3d3aa9=world[_0x4f2819(0x241)]();if(_0x3d3aa9[_0x4f2819(0xcd6)]===0x0){_0x3bb256[_0x4f2819(0x34f)](_0x4f2819(0xacc));return;}const _0x36d7b3=new ActionFormData();_0x36d7b3[_0x4f2819(0xd1)]('§lBrowse\x20Players'),_0x36d7b3[_0x4f2819(0x629)](_0x4f2819(0x818));for(const _0x89ed2e of _0x3d3aa9){let _0x4b7aa6='No\x20Colony';for(const [_0x40ce66,_0x3b80ad]of colonies){if(_0x3b80ad[_0x4f2819(0x60a)]&&_0x3b80ad[_0x4f2819(0x60a)][_0x4f2819(0xb49)](_0x18ecf0=>_0x18ecf0['id']===_0x89ed2e['id'])){_0x4b7aa6=_0x3b80ad['name'];break;}else{if(_0x3b80ad[_0x4f2819(0x396)]===_0x89ed2e['id']){_0x4b7aa6=_0x3b80ad[_0x4f2819(0xa45)]+'\x20(Owner)';break;}}}_0x36d7b3[_0x4f2819(0x31f)](_0x89ed2e[_0x4f2819(0xa45)]+'\x0a'+_0x4b7aa6);}_0x36d7b3[_0x4f2819(0x31f)](_0x4f2819(0x6a5));const _0x2fa67b=await _0x36d7b3[_0x4f2819(0x504)](_0x3bb256);if(_0x2fa67b['canceled'])return;if(_0x2fa67b['selection']===_0x3d3aa9[_0x4f2819(0xcd6)]){showPlayerIdUI(_0x3bb256);return;}const _0x51688a=_0x3d3aa9[_0x2fa67b['selection']];showOtherPlayerStatsUI(_0x3bb256,_0x51688a);}catch(_0x1f837e){console[_0x4f2819(0x7bf)](_0x4f2819(0x934),_0x1f837e),_0x3bb256[_0x4f2819(0x34f)]('§cError\x20browsing\x20players');}}function calculateColonyLevel(_0x3feb67){const _0x79045e=_0x1d2622;let _0xe70904=0x0;_0x3feb67[_0x79045e(0x61a)]&&(_0xe70904+=_0x3feb67[_0x79045e(0x61a)][_0x79045e(0xcd6)]*0x5);_0x3feb67[_0x79045e(0x709)]&&(_0xe70904+=_0x3feb67[_0x79045e(0x709)][_0x79045e(0xcd6)]*0x2);const _0x4ab917=getColonyPopulation(_0x3feb67);return _0xe70904+=_0x4ab917[_0x79045e(0x195)],_0x3feb67[_0x79045e(0xc8e)]&&(_0xe70904+=_0x3feb67['warVictories']*0xa),_0xe70904;}async function showBrowseColoniesUI(_0x2f8985){const _0x5ad1ce=_0x1d2622;try{const _0x1ba93c=new ActionFormData();_0x1ba93c[_0x5ad1ce(0xd1)](_0x5ad1ce(0x266));if(colonies[_0x5ad1ce(0x5c1)]===0x0)_0x1ba93c[_0x5ad1ce(0x629)](_0x5ad1ce(0x174)),_0x1ba93c[_0x5ad1ce(0x31f)]('Close');else{_0x1ba93c[_0x5ad1ce(0x629)](_0x5ad1ce(0x56a));for(const [_0x27c291,_0x2a7a8d]of colonies){const _0x2191da=getColonyColorCode(_0x2a7a8d[_0x5ad1ce(0x16a)][_0x5ad1ce(0x768)]);_0x1ba93c[_0x5ad1ce(0x31f)](''+_0x2191da+_0x2a7a8d['name']+_0x5ad1ce(0x85b)+_0x2a7a8d[_0x5ad1ce(0xcd0)]+'§r');}}const _0x2213ed=await _0x1ba93c[_0x5ad1ce(0x504)](_0x2f8985);if(!_0x2213ed['canceled']&&colonies[_0x5ad1ce(0x5c1)]>0x0){const _0x119fde=Array[_0x5ad1ce(0x2f9)](colonies[_0x5ad1ce(0xaf3)]())[_0x2213ed['selection']];showColonyDetailsUI(_0x2f8985,_0x119fde);}}catch(_0x2d323a){console[_0x5ad1ce(0x7bf)](_0x5ad1ce(0x489),_0x2d323a),_0x2f8985[_0x5ad1ce(0x34f)](_0x5ad1ce(0x172));}}async function showColonyDetailsUI(_0x5a4f36,_0x5589d7){const _0x5c7b51=_0x1d2622;try{const _0x1f0fbe=getColonyPopulation(_0x5589d7),_0x35edfb=calculateColonyLevel(_0x5589d7),_0x19da2d=_0x5589d7[_0x5c7b51(0x61a)]?_0x5589d7[_0x5c7b51(0x61a)][_0x5c7b51(0xcd6)]:0x1,_0x3a9ad8=new ActionFormData();_0x3a9ad8[_0x5c7b51(0xd1)](_0x5589d7[_0x5c7b51(0xa45)]),_0x3a9ad8[_0x5c7b51(0x629)]('Colony\x20Stats:\x0a\x0a'+(_0x5c7b51(0x2b2)+_0x35edfb+'\x0a')+(_0x5c7b51(0x577)+_0x19da2d+'\x0a')+(_0x5c7b51(0x2e0)+(_0x5589d7['warVictories']||0x0)+'\x0a')+(_0x5c7b51(0x3b6)+_0x1f0fbe[_0x5c7b51(0x195)]+'\x0a')+(_0x5c7b51(0xbbd)+_0x1f0fbe['players']+'\x0a\x0a')+_0x5c7b51(0x56e)+('Owner:\x20'+_0x5589d7[_0x5c7b51(0xcd0)]+'\x0a')+(_0x5c7b51(0xa35)+(_0x5589d7['citizens']?_0x5589d7['citizens'][_0x5c7b51(0x36f)](',\x20'):_0x5c7b51(0x50d)))),_0x3a9ad8[_0x5c7b51(0x31f)](_0x5c7b51(0x33c));const _0x5cc90e=await _0x3a9ad8[_0x5c7b51(0x504)](_0x5a4f36);!_0x5cc90e['canceled']&&showBrowseColoniesUI(_0x5a4f36);}catch(_0xa126f4){console[_0x5c7b51(0x7bf)]('Error\x20showing\x20colony\x20details:',_0xa126f4),_0x5a4f36[_0x5c7b51(0x34f)](_0x5c7b51(0xbf6));}}async function showOtherPlayerStatsUI(_0x1ac8b1,_0x6be892){const _0x37a308=_0x1d2622;try{let _0x172ff5=_0x37a308(0x50d),_0x16c48f='§7',_0x26a6d6=_0x37a308(0x50d);for(const [_0x4a5733,_0x1e74b2]of colonies){if(_0x1e74b2[_0x37a308(0x60a)]&&_0x1e74b2[_0x37a308(0x60a)][_0x37a308(0xb49)](_0x213060=>_0x213060['id']===_0x6be892['id'])){_0x172ff5=_0x1e74b2[_0x37a308(0xa45)],_0x16c48f=getColonyColorCode(_0x1e74b2[_0x37a308(0x16a)][_0x37a308(0x768)]);const _0x4bbc8c=getPlayerRankInColony(_0x6be892,_0x1e74b2);_0x26a6d6=_0x4bbc8c?_0x4bbc8c['name']:_0x37a308(0x50d);break;}else{if(_0x1e74b2[_0x37a308(0x396)]===_0x6be892['id']){_0x172ff5=_0x1e74b2[_0x37a308(0xa45)]+_0x37a308(0xbee),_0x16c48f=getColonyColorCode(_0x1e74b2[_0x37a308(0x16a)][_0x37a308(0x768)]),_0x26a6d6=_0x37a308(0x358);break;}}}let _0x5ad5e1=_0x37a308(0x50d);const _0x259570=playerSpouses[_0x37a308(0xc0a)](_0x6be892['id']);if(_0x259570){const _0x31cbc9=world['getAllPlayers'](),_0x371a99=_0x31cbc9[_0x37a308(0x2d0)](_0x3c2437=>_0x3c2437['id']===_0x259570);_0x371a99?_0x5ad5e1=_0x371a99['name']:_0x5ad5e1=_0x37a308(0x72a);}const _0x48a734=visitedColonies['get'](_0x6be892['id'])||[],_0x103bac=_0x48a734[_0x37a308(0xcd6)];let _0x41bf8b='';if(_0x48a734['length']>0x0)for(let _0x50940d=0x0;_0x50940d<_0x48a734[_0x37a308(0xcd6)];_0x50940d++){const _0x32c8b3=colonies['get'](_0x48a734[_0x50940d]);if(_0x32c8b3){const _0x1c110e=getColonyColorCode(_0x32c8b3['color'][_0x37a308(0x768)]);_0x41bf8b+=''+_0x1c110e+_0x32c8b3[_0x37a308(0xa45)]+'§r',_0x50940d<_0x48a734['length']-0x1&&(_0x41bf8b+='\x0a§8─────────────────§r\x0a');}}else _0x41bf8b=_0x37a308(0x83e);const _0x2b3bbb=playerKills['get'](_0x6be892['id'])||0x0,_0x43783d=getPlayerLevelTitle(_0x2b3bbb),_0x3ae257=new ActionFormData();_0x3ae257['title']('§l'+_0x6be892[_0x37a308(0xa45)]+_0x37a308(0x8c2)),_0x3ae257[_0x37a308(0x629)]('Level:\x20'+_0x43783d+'\x0a\x0a'+(_0x37a308(0xc84)+_0x16c48f+_0x172ff5+'\x0a')+(_0x37a308(0xc31)+_0x26a6d6+'\x0a')+(_0x37a308(0xb88)+_0x5ad5e1+'\x0a\x0a')+(_0x37a308(0x27c)+_0x103bac+'\x0a')+(_0x41bf8b+'\x0a\x0a')+(_0x37a308(0x976)+_0x2b3bbb+'\x0a\x0a')),_0x3ae257[_0x37a308(0x31f)](_0x37a308(0x6a5));const _0x503782=await _0x3ae257[_0x37a308(0x504)](_0x1ac8b1);!_0x503782['canceled']&&showBrowsePlayersUI(_0x1ac8b1);}catch(_0x36a1ce){console[_0x37a308(0x7bf)](_0x37a308(0xacf),_0x36a1ce),_0x1ac8b1[_0x37a308(0x34f)]('§cError\x20displaying\x20player\x20stats');}}function getColonyColorCode(_0x2dc47b){const _0x18be10=['§f','§c','§9','§a','§e','§6','§5','§d','§0','§8','§7','§6','§3','§b','§a','§5','§a','§e','§c','§e','§9','§c','§a','§9','§0','§6','§c','§a','§a','§c','§0','§a','§e','§a','§a','§9','§f','§a','§f','§c','§9','§9','§c','§9','§9','§c','§f','§c','§9','§9','§e','§9'];return _0x18be10[_0x2dc47b]||'§f';}const colorPacks={'classic':{'name':_0x1d2622(0xcae),'description':_0x1d2622(0x827),'icon':'textures/ui/color_wheel','colors':[{'name':_0x1d2622(0x47d),'id':_0x1d2622(0x5d6),'value':0x0,'colorCode':'§f','texture':_0x1d2622(0x2f7),'event':_0x1d2622(0xc67)},{'name':'Red','id':'red','value':0x1,'colorCode':'§c','texture':_0x1d2622(0xa3d),'event':_0x1d2622(0xe2)},{'name':_0x1d2622(0x96c),'id':'blue','value':0x2,'colorCode':'§9','texture':'fblue','event':_0x1d2622(0x397)},{'name':'Green','id':_0x1d2622(0xa25),'value':0x3,'colorCode':'§a','texture':_0x1d2622(0xd0),'event':_0x1d2622(0x259)},{'name':_0x1d2622(0x267),'id':_0x1d2622(0x9fb),'value':0x4,'colorCode':'§e','texture':_0x1d2622(0x82e),'event':'set_yellow'},{'name':'Orange','id':_0x1d2622(0x7a5),'value':0x5,'colorCode':'§6','texture':_0x1d2622(0xa71),'event':_0x1d2622(0x187)},{'name':_0x1d2622(0x801),'id':_0x1d2622(0x140),'value':0x6,'colorCode':'§5','texture':_0x1d2622(0x782),'event':_0x1d2622(0x5ee)},{'name':_0x1d2622(0x4cd),'id':_0x1d2622(0x374),'value':0x7,'colorCode':'§d','texture':_0x1d2622(0x4e9),'event':_0x1d2622(0x5aa)},{'name':_0x1d2622(0x8bd),'id':_0x1d2622(0xce7),'value':0x8,'colorCode':'§0','texture':_0x1d2622(0x162),'event':_0x1d2622(0x777)},{'name':_0x1d2622(0xaa1),'id':'gray','value':0x9,'colorCode':'§8','texture':_0x1d2622(0x21f),'event':'set_gray'},{'name':_0x1d2622(0x22c),'id':_0x1d2622(0xaa7),'value':0xa,'colorCode':'§7','texture':_0x1d2622(0x856),'event':_0x1d2622(0xbf7)},{'name':'Brown','id':'brown','value':0xb,'colorCode':'§6','texture':_0x1d2622(0x6cb),'event':_0x1d2622(0x72d)},{'name':'Cyan','id':_0x1d2622(0x3bc),'value':0xc,'colorCode':'§b','texture':_0x1d2622(0x5d9),'event':_0x1d2622(0x1e7)},{'name':_0x1d2622(0x134),'id':_0x1d2622(0xcf5),'value':0xd,'colorCode':'§b','texture':_0x1d2622(0x53c),'event':'set_light_blue'},{'name':'Lime','id':_0x1d2622(0x702),'value':0xe,'colorCode':'§a','texture':_0x1d2622(0x433),'event':_0x1d2622(0x7d0)},{'name':_0x1d2622(0xcc6),'id':_0x1d2622(0x1f3),'value':0xf,'colorCode':'§d','texture':'fmagenta','event':_0x1d2622(0x18b)}]},'nations':{'name':'World\x20Flags','description':'Flags\x20from\x20countries\x20around\x20the\x20world','icon':_0x1d2622(0x193),'colors':[{'name':_0x1d2622(0x102),'id':_0x1d2622(0x286),'value':0x10,'colorCode':'§a','texture':'fbangladesh','event':_0x1d2622(0xc08)},{'name':_0x1d2622(0x9ff),'id':_0x1d2622(0xab3),'value':0x11,'colorCode':'§e','texture':_0x1d2622(0x842),'event':'set_brazil'},{'name':_0x1d2622(0x8dd),'id':_0x1d2622(0x4f3),'value':0x12,'colorCode':'§c','texture':_0x1d2622(0x510),'event':'set_china'},{'name':_0x1d2622(0x63c),'id':_0x1d2622(0x2c0),'value':0x13,'colorCode':'§e','texture':'fcolombia','event':_0x1d2622(0xc0c)},{'name':_0x1d2622(0x329),'id':_0x1d2622(0xc57),'value':0x14,'colorCode':'§9','texture':_0x1d2622(0x2c6),'event':_0x1d2622(0x920)},{'name':'Egypt','id':_0x1d2622(0xc2f),'value':0x15,'colorCode':'§c','texture':_0x1d2622(0xb9f),'event':_0x1d2622(0x2d9)},{'name':'Ethiopia','id':_0x1d2622(0x8a4),'value':0x16,'colorCode':'§a','texture':_0x1d2622(0xcf2),'event':_0x1d2622(0x14c)},{'name':_0x1d2622(0x237),'id':_0x1d2622(0x1d9),'value':0x17,'colorCode':'§9','texture':_0x1d2622(0x9d7),'event':_0x1d2622(0xa81)},{'name':_0x1d2622(0x3e4),'id':_0x1d2622(0x650),'value':0x18,'colorCode':'§0','texture':_0x1d2622(0x4fc),'event':'set_germany'},{'name':'India','id':_0x1d2622(0xa82),'value':0x19,'colorCode':'§6','texture':'findia','event':_0x1d2622(0x392)},{'name':_0x1d2622(0x177),'id':_0x1d2622(0x1f8),'value':0x1a,'colorCode':'§c','texture':_0x1d2622(0x7c9),'event':'set_indonesia'},{'name':_0x1d2622(0x897),'id':_0x1d2622(0x3e2),'value':0x1b,'colorCode':'§a','texture':_0x1d2622(0x6e5),'event':_0x1d2622(0xc8a)},{'name':_0x1d2622(0x216),'id':'italy','value':0x1c,'colorCode':'§a','texture':_0x1d2622(0xe9),'event':_0x1d2622(0xbb8)},{'name':_0x1d2622(0x2fc),'id':'japan','value':0x1d,'colorCode':'§c','texture':'fjapan','event':_0x1d2622(0x70a)},{'name':'Kenya','id':'kenya','value':0x1e,'colorCode':'§0','texture':_0x1d2622(0x30b),'event':_0x1d2622(0x3ee)},{'name':_0x1d2622(0x6ad),'id':_0x1d2622(0x848),'value':0x1f,'colorCode':'§a','texture':'fmexico','event':_0x1d2622(0x9d3)},{'name':_0x1d2622(0x699),'id':_0x1d2622(0x138),'value':0x20,'colorCode':'§e','texture':_0x1d2622(0xbce),'event':_0x1d2622(0x4a2)},{'name':_0x1d2622(0xae0),'id':_0x1d2622(0x12d),'value':0x21,'colorCode':'§a','texture':_0x1d2622(0x74b),'event':_0x1d2622(0xa2f)},{'name':_0x1d2622(0x7f1),'id':_0x1d2622(0x3fb),'value':0x22,'colorCode':'§a','texture':_0x1d2622(0x258),'event':'set_pakistan'},{'name':_0x1d2622(0x872),'id':'philippines','value':0x23,'colorCode':'§9','texture':_0x1d2622(0x9f6),'event':'set_philippines'},{'name':_0x1d2622(0x8b9),'id':_0x1d2622(0x2de),'value':0x24,'colorCode':'§f','texture':_0x1d2622(0xb81),'event':_0x1d2622(0x775)},{'name':'South\x20Africa','id':_0x1d2622(0x40a),'value':0x25,'colorCode':'§a','texture':'fsouth_africa','event':'set_south_africa'},{'name':_0x1d2622(0x110),'id':_0x1d2622(0x337),'value':0x26,'colorCode':'§f','texture':_0x1d2622(0x2b1),'event':_0x1d2622(0x7b8)},{'name':_0x1d2622(0x42e),'id':_0x1d2622(0xb5d),'value':0x27,'colorCode':'§c','texture':_0x1d2622(0x70f),'event':_0x1d2622(0xb7a)},{'name':'Tanzania','id':'tanzania','value':0x28,'colorCode':'§9','texture':_0x1d2622(0xadf),'event':_0x1d2622(0xc40)},{'name':_0x1d2622(0x7b0),'id':_0x1d2622(0x6d9),'value':0x29,'colorCode':'§9','texture':_0x1d2622(0xca),'event':'set_thailand'},{'name':_0x1d2622(0xd14),'id':_0x1d2622(0xa7e),'value':0x2a,'colorCode':'§c','texture':_0x1d2622(0x97d),'event':_0x1d2622(0x350)},{'name':_0x1d2622(0xbbf),'id':'united_kingdom','value':0x2b,'colorCode':'§9','texture':_0x1d2622(0x93e),'event':_0x1d2622(0xff)},{'name':_0x1d2622(0x88c),'id':_0x1d2622(0xbc7),'value':0x2c,'colorCode':'§9','texture':_0x1d2622(0x231),'event':'set_united_states'},{'name':'Vietnam','id':'vietnam','value':0x2d,'colorCode':'§c','texture':_0x1d2622(0x1c2),'event':_0x1d2622(0x481)}]},'world_flags_2':{'name':'World\x20Flags\x202','description':_0x1d2622(0xaf6),'icon':_0x1d2622(0x193),'colors':[{'name':_0x1d2622(0x5f5),'id':_0x1d2622(0xa90),'value':0x2e,'colorCode':'§f','texture':_0x1d2622(0x92d),'event':_0x1d2622(0xd18)},{'name':_0x1d2622(0x802),'id':_0x1d2622(0xcdb),'value':0x2f,'colorCode':'§c','texture':_0x1d2622(0x467),'event':_0x1d2622(0x443)},{'name':_0x1d2622(0x1c3),'id':_0x1d2622(0xcb6),'value':0x30,'colorCode':'§9','texture':_0x1d2622(0xbb6),'event':_0x1d2622(0xb55)},{'name':'Greece','id':'greece','value':0x31,'colorCode':'§9','texture':_0x1d2622(0x1c9),'event':_0x1d2622(0x40e)},{'name':_0x1d2622(0x17a),'id':_0x1d2622(0x225),'value':0x32,'colorCode':'§e','texture':_0x1d2622(0x4fa),'event':_0x1d2622(0x3ed)},{'name':_0x1d2622(0x77d),'id':'australia','value':0x33,'colorCode':'§9','texture':'faustralia','event':'set_australia'}]},'fictional':{'name':_0x1d2622(0x8b8),'description':_0x1d2622(0x9f2),'icon':_0x1d2622(0x715),'colors':[{'name':_0x1d2622(0x478),'id':_0x1d2622(0x7b6),'value':0x34,'colorCode':'§a','texture':_0x1d2622(0x1cb),'event':'set_together'},{'name':_0x1d2622(0x155),'id':_0x1d2622(0x5ba),'value':0x35,'colorCode':'§f','texture':'fhope','event':'set_hope'},{'name':'Intelligent','id':'intelligent','value':0x36,'colorCode':'§e','texture':_0x1d2622(0x9ca),'event':_0x1d2622(0x4aa)},{'name':_0x1d2622(0x8f7),'id':_0x1d2622(0x136),'value':0x37,'colorCode':'§e','texture':_0x1d2622(0x574),'event':'set_free'},{'name':_0x1d2622(0x429),'id':_0x1d2622(0x306),'value':0x38,'colorCode':'§6','texture':_0x1d2622(0x1fb),'event':_0x1d2622(0x7a1)},{'name':_0x1d2622(0x1ee),'id':'funity','value':0x39,'colorCode':'§9','texture':_0x1d2622(0x35c),'event':_0x1d2622(0x141)},{'name':_0x1d2622(0x57f),'id':_0x1d2622(0x80b),'value':0x3a,'colorCode':'§c','texture':_0x1d2622(0x56b),'event':_0x1d2622(0x939)},{'name':'Strength','id':_0x1d2622(0xcd4),'value':0x3b,'colorCode':'§c','texture':_0x1d2622(0x85c),'event':_0x1d2622(0xc56)},{'name':_0x1d2622(0x368),'id':_0x1d2622(0x5bd),'value':0x3c,'colorCode':'§c','texture':_0x1d2622(0x583),'event':_0x1d2622(0xc28)},{'name':_0x1d2622(0x399),'id':_0x1d2622(0xb4c),'value':0x3d,'colorCode':'§9','texture':_0x1d2622(0x9ec),'event':_0x1d2622(0x8df)},{'name':_0x1d2622(0x5b0),'id':_0x1d2622(0x910),'value':0x3e,'colorCode':'§5','texture':_0x1d2622(0x546),'event':_0x1d2622(0x4ce)},{'name':'Control','id':_0x1d2622(0x5c2),'value':0x3f,'colorCode':'§c','texture':_0x1d2622(0x65f),'event':_0x1d2622(0x653)},{'name':_0x1d2622(0xc2d),'id':'bandit','value':0x40,'colorCode':'§a','texture':_0x1d2622(0x973),'event':_0x1d2622(0xa32)},{'name':_0x1d2622(0x166),'id':_0x1d2622(0x704),'value':0x41,'colorCode':'§c','texture':'fmarauder','event':'set_marauder'},{'name':_0x1d2622(0x15b),'id':_0x1d2622(0x917),'value':0x42,'colorCode':'§d','texture':_0x1d2622(0x2aa),'event':_0x1d2622(0xa1d)},{'name':_0x1d2622(0x514),'id':_0x1d2622(0xbbb),'value':0x43,'colorCode':'§c','texture':_0x1d2622(0x691),'event':_0x1d2622(0x6a2)},{'name':_0x1d2622(0xce0),'id':_0x1d2622(0x622),'value':0x44,'colorCode':'§f','texture':'fdark','event':_0x1d2622(0xb60)},{'name':_0x1d2622(0x5af),'id':_0x1d2622(0xbd8),'value':0x45,'colorCode':'§a','texture':_0x1d2622(0x8a2),'event':_0x1d2622(0x718)},{'name':'Solar','id':_0x1d2622(0xc0e),'value':0x46,'colorCode':'§e','texture':'fsolar','event':_0x1d2622(0x3cd)},{'name':'Holy','id':_0x1d2622(0x2dc),'value':0x47,'colorCode':'§f','texture':_0x1d2622(0x502),'event':_0x1d2622(0x992)},{'name':_0x1d2622(0x804),'id':_0x1d2622(0x766),'value':0x48,'colorCode':'§3','texture':_0x1d2622(0xc0b),'event':_0x1d2622(0x325)},{'name':'Royal','id':_0x1d2622(0x6eb),'value':0x49,'colorCode':'§5','texture':_0x1d2622(0x646),'event':'set_royal'}]}};function getAllColors(){const _0x330a3b=_0x1d2622,_0x288298=[];for(const _0x3763e2 of Object[_0x330a3b(0xaf3)](colorPacks)){_0x288298[_0x330a3b(0x9bb)](..._0x3763e2[_0x330a3b(0x2eb)]);}return _0x288298;}const colorOptions=getAllColors();function getColorCode(_0x904ef){const _0x1bc176=_0x1d2622,_0x26e2e2=findColorByValue(_0x904ef);return _0x26e2e2?_0x26e2e2[_0x1bc176(0x94b)]:'§7';}async function showColorPackSelection(_0xdf21c6,_0xdb25c=null,_0x3833e5=_0x1d2622(0x536)){const _0x3fe9a9=_0x1d2622;try{const _0x404319={'basic':'flag_pack_basic','nations':_0x3fe9a9(0x533),'world_flags_2':_0x3fe9a9(0x8e6),'fictional':_0x3fe9a9(0x2dd)},_0x402cbc=Object['keys'](colorPacks)[_0x3fe9a9(0x7ae)](_0x33adf4=>isPackVisible(_0x404319[_0x33adf4]));if(_0x402cbc['length']===0x0)return _0xdf21c6['sendMessage'](_0x3fe9a9(0x24a)),null;if(_0x402cbc[_0x3fe9a9(0xcd6)]===0x1)return await showColorSelection(_0xdf21c6,_0x402cbc[0x0],_0xdb25c,_0x3833e5);const _0x1ce3df=new ActionFormData()[_0x3fe9a9(0xd1)](_0x3fe9a9(0x28f))[_0x3fe9a9(0x629)]('Select\x20a\x20color\x20theme\x20for\x20your\x20flag:');for(const _0x1be9b2 of _0x402cbc){const _0xb7c689=colorPacks[_0x1be9b2];_0x1ce3df[_0x3fe9a9(0x31f)](_0xb7c689['name']+'\x20('+_0xb7c689['colors'][_0x3fe9a9(0xcd6)]+'\x20colors)');}const _0x334bae=await _0x1ce3df[_0x3fe9a9(0x504)](_0xdf21c6);if(_0x334bae[_0x3fe9a9(0x9d4)])return null;const _0x28d319=_0x402cbc[_0x334bae[_0x3fe9a9(0x77a)]];return await showColorSelection(_0xdf21c6,_0x28d319,_0xdb25c,_0x3833e5);}catch(_0x5422e6){return console[_0x3fe9a9(0x5b4)](_0x3fe9a9(0x256),_0x5422e6),_0xdf21c6['sendMessage'](_0x3fe9a9(0x6aa)),null;}}async function showColorSelection(_0x1e86f3,_0x25ffe8,_0x24ec82=null,_0x2652b7=_0x1d2622(0x536)){const _0x51bf8c=_0x1d2622;try{const _0x2dbd15=colorPacks[_0x25ffe8];if(!_0x2dbd15)return _0x1e86f3[_0x51bf8c(0x34f)]('§cInvalid\x20color\x20pack\x20selected.'),null;const _0x2f212a=new ActionFormData()[_0x51bf8c(0xd1)](''+_0x2dbd15['name'])[_0x51bf8c(0x629)](_0x51bf8c(0x566)+_0x2dbd15['name']+'\x20pack:');for(const _0xab6db4 of _0x2dbd15[_0x51bf8c(0x2eb)]){_0x2f212a[_0x51bf8c(0x31f)](''+_0xab6db4['name']);}const _0x42ed1e=Object[_0x51bf8c(0xc70)](colorPacks)['length'];_0x42ed1e>0x1&&_0x2f212a['button'](_0x51bf8c(0x36b));const _0x3fee72=await _0x2f212a[_0x51bf8c(0x504)](_0x1e86f3);if(_0x3fee72[_0x51bf8c(0x9d4)])return null;const _0x590ddc=_0x2dbd15[_0x51bf8c(0x2eb)][_0x51bf8c(0xcd6)];if(_0x3fee72[_0x51bf8c(0x77a)]===_0x590ddc&&_0x42ed1e>0x1)return await showColorPackSelection(_0x1e86f3,_0x24ec82,_0x2652b7);const _0x1071f6=_0x2dbd15[_0x51bf8c(0x2eb)][_0x3fee72[_0x51bf8c(0x77a)]];if(_0x1071f6)return{..._0x1071f6,'packId':_0x25ffe8,'packName':_0x2dbd15[_0x51bf8c(0xa45)]};return null;}catch(_0x4aded9){return console[_0x51bf8c(0x5b4)](_0x51bf8c(0x419),_0x4aded9),_0x1e86f3[_0x51bf8c(0x34f)](_0x51bf8c(0x602)),null;}}function findColorByValue(_0x3026a1){const _0xb4b21=_0x1d2622;for(const _0x24ceac of Object[_0xb4b21(0xaf3)](colorPacks)){const _0x5ef80b=_0x24ceac[_0xb4b21(0x2eb)][_0xb4b21(0x2d0)](_0x416e88=>_0x416e88[_0xb4b21(0x768)]===_0x3026a1);if(_0x5ef80b)return _0x5ef80b;}return null;}function findColorById(_0x30da4d){const _0x1b5db3=_0x1d2622;for(const _0x3c6af5 of Object[_0x1b5db3(0xaf3)](colorPacks)){const _0x59c08f=_0x3c6af5['colors']['find'](_0x36b221=>_0x36b221['id']===_0x30da4d);if(_0x59c08f)return _0x59c08f;}return null;}function applyColonyRanks(){const _0x165a93=_0x1d2622;try{for(const _0x2736f6 of world[_0x165a93(0x272)]()){let _0x461353=null,_0x431e15=![];for(const _0x4f1ae8 of colonies['values']()){if(_0x4f1ae8[_0x165a93(0x396)]===_0x2736f6['id']){_0x461353=_0x4f1ae8,_0x431e15=!![];break;}}if(!_0x461353)for(const _0x401544 of colonies[_0x165a93(0xaf3)]()){if(_0x401544[_0x165a93(0x709)]&&_0x401544[_0x165a93(0x709)][_0x165a93(0x22d)](_0x2736f6['name'])){_0x461353=_0x401544;break;}}let _0x4b2251=null,_0x83fb54=Infinity;if(!_0x461353)for(const _0xa8ae02 of colonies[_0x165a93(0xaf3)]()){try{!_0xa8ae02[_0x165a93(0x61a)]&&(_0xa8ae02[_0x165a93(0x61a)]=[_0xa8ae02[_0x165a93(0x1f2)]]);for(const _0x3fd1b2 of _0xa8ae02['flagLocations']){const _0x3e600b=_0x2736f6[_0x165a93(0x1f2)]['x']-_0x3fd1b2['x'],_0x1b9437=_0x2736f6['location']['y']-_0x3fd1b2['y'],_0x29b567=_0x2736f6[_0x165a93(0x1f2)]['z']-_0x3fd1b2['z'],_0x10e7c5=Math['sqrt'](_0x3e600b*_0x3e600b+_0x1b9437*_0x1b9437+_0x29b567*_0x29b567);if(_0x10e7c5<=0x64&&_0x10e7c5<_0x83fb54){_0x83fb54=_0x10e7c5,_0x4b2251=_0xa8ae02;break;}}}catch(_0x317be1){console[_0x165a93(0x5b4)](_0x165a93(0x3fe),_0x317be1);const _0xfd122f=_0x2736f6[_0x165a93(0x1f2)]['x']-_0xa8ae02['location']['x'],_0x6de59a=_0x2736f6[_0x165a93(0x1f2)]['y']-_0xa8ae02[_0x165a93(0x1f2)]['y'],_0x20161b=_0x2736f6[_0x165a93(0x1f2)]['z']-_0xa8ae02[_0x165a93(0x1f2)]['z'],_0x378541=Math[_0x165a93(0x4e0)](_0xfd122f*_0xfd122f+_0x6de59a*_0x6de59a+_0x20161b*_0x20161b);_0x378541<=0x64&&_0x378541<_0x83fb54&&(_0x83fb54=_0x378541,_0x4b2251=_0xa8ae02);}}if(_0x461353){const _0x2ca0e2=getColorCode(_0x461353['color']['value']),_0x38f828=_0x2ca0e2+'['+_0x461353[_0x165a93(0xa45)]+_0x165a93(0x327),_0x4aed24=_0x2736f6[_0x165a93(0x460)]()[_0x165a93(0x2d0)](_0x1c7a14=>_0x1c7a14[_0x165a93(0x42a)](_0x165a93(0x3ae))),_0x30103a=_0x2736f6['getTags']()[_0x165a93(0x2d0)](_0x51bdc6=>_0x51bdc6['startsWith'](_0x165a93(0x107)));_0x4aed24&&_0x4aed24!==_0x165a93(0x3ae)+_0x461353['id']&&_0x2736f6['removeTag'](_0x4aed24);_0x30103a&&_0x2736f6[_0x165a93(0x866)](_0x30103a);!_0x2736f6['hasTag']('colony_member:'+_0x461353['id'])&&_0x2736f6['addTag'](_0x165a93(0x3ae)+_0x461353['id']);!_0x2736f6[_0x165a93(0x4ac)](_0x165a93(0x107)+_0x38f828)&&_0x2736f6['addTag'](_0x165a93(0x107)+_0x38f828);const _0x435db2=_0x2736f6[_0x165a93(0xa45)],_0xa15033=_0x2736f6[_0x165a93(0xa7c)]||_0x435db2;!_0xa15033['includes']('['+_0x461353[_0x165a93(0xa45)]+']')&&(_0x2736f6[_0x165a93(0xa7c)]=_0x38f828+'\x20'+_0x435db2);}else{if(_0x4b2251){}else{const _0x21a4e5=_0x2736f6[_0x165a93(0x460)]()[_0x165a93(0x7ae)](_0x4d8692=>_0x4d8692[_0x165a93(0x42a)](_0x165a93(0x3ae))||_0x4d8692[_0x165a93(0x42a)](_0x165a93(0x107)));_0x21a4e5['length']>0x0&&(_0x21a4e5[_0x165a93(0x2c2)](_0x2d20bb=>_0x2736f6['removeTag'](_0x2d20bb)),_0x2736f6[_0x165a93(0xa7c)]=_0x2736f6['name']);}}if(_0x4b2251)try{const _0x2ac3eb=_0x2736f6[_0x165a93(0xaf8)]['getEntities']({'type':_0x165a93(0x127),'location':_0x2736f6['location'],'maxDistance':0x64}),_0x4e3370=getColorCode(_0x4b2251[_0x165a93(0x16a)][_0x165a93(0x768)]),_0x477af2=_0x4e3370+'['+_0x4b2251[_0x165a93(0xa45)]+_0x165a93(0x327);for(const _0x4879fd of _0x2ac3eb){try{const _0x22d4f1=_0x4879fd['getTags'](),_0x3d1b9a=_0x22d4f1[_0x165a93(0xb49)](_0x579ea0=>_0x579ea0===_0x165a93(0x30d)+_0x4b2251['id']);if(_0x3d1b9a){const _0x258924=_0x22d4f1['some'](_0x46896f=>_0x46896f===_0x165a93(0x107)+_0x477af2);if(!_0x258924){let _0x192132=_0x4879fd[_0x165a93(0xa7c)];!_0x192132&&(_0x192132=getRandomName(),_0x4879fd['nameTag']=_0x192132);const _0x496d10=_0x22d4f1['filter'](_0x5b09da=>_0x5b09da[_0x165a93(0x42a)](_0x165a93(0x107)));_0x496d10[_0x165a93(0x2c2)](_0x176de6=>_0x4879fd[_0x165a93(0x866)](_0x176de6)),_0x4879fd[_0x165a93(0x875)](_0x165a93(0x107)+_0x477af2);if(!_0x192132['includes']('['+_0x4b2251[_0x165a93(0xa45)]+']')){const _0x2657d2=_0x192132[_0x165a93(0x15a)](/§[0-9a-f]\[.*?\]§r\s*/g,'');_0x4879fd['nameTag']=_0x477af2+'\x20'+_0x2657d2;}}}else{const _0x993525=_0x22d4f1['some'](_0x4db0bf=>_0x4db0bf[_0x165a93(0x42a)](_0x165a93(0x107))),_0x284211=_0x22d4f1['some'](_0x27fd3c=>_0x27fd3c[_0x165a93(0x42a)]('colony_id:'));if(_0x993525&&!_0x284211){const _0x232c23=_0x22d4f1['filter'](_0x20528a=>_0x20528a['startsWith'](_0x165a93(0x107)));_0x232c23['forEach'](_0x32e815=>_0x4879fd[_0x165a93(0x866)](_0x32e815));const _0x296deb=_0x4879fd[_0x165a93(0xa7c)]||getRandomName(),_0x2895e1=_0x296deb['replace'](/§[0-9a-f]\[.*?\]§r\s*/g,'');_0x4879fd[_0x165a93(0xa7c)]=_0x2895e1;}}}catch(_0x1446d4){}}}catch(_0x2ff271){}}}catch(_0x432835){}}system[_0x1d2622(0x613)](()=>{applyColonyRanks();},0x258),system[_0x1d2622(0x613)](()=>{const _0xee1925=_0x1d2622;try{for(const _0x324fd5 of colonies[_0xee1925(0xaf3)]()){try{const _0x4991e6=world[_0xee1925(0xbc8)](_0xee1925(0x182))[_0xee1925(0xc8f)]({'type':_0xee1925(0x7f6),'location':_0x324fd5[_0xee1925(0x1f2)],'maxDistance':0x2});if(_0x4991e6[_0xee1925(0xcd6)]===0x0)continue;const _0x60df01=world[_0xee1925(0xbc8)](_0xee1925(0x182))[_0xee1925(0xc8f)]({'type':_0xee1925(0x2d8),'location':_0x324fd5[_0xee1925(0x1f2)],'maxDistance':0x64});let _0x4eb07a=0x0;try{const _0x38bc8c=getColonyPopulation(_0x324fd5);_0x4eb07a=_0x38bc8c['total'];}catch(_0x26f3cc){_0x4eb07a=_0x324fd5[_0xee1925(0x709)]?.[_0xee1925(0xcd6)]||0x0;}for(const _0x3b3dba of _0x60df01){try{const _0xea96c0=_0x324fd5[_0xee1925(0x396)]===_0x3b3dba['id'],_0x570493=_0x324fd5['citizens'][_0xee1925(0x22d)](_0x3b3dba['name']);if(_0xea96c0||_0x570493){}}catch(_0x3f0019){}}!_0x324fd5[_0xee1925(0x61a)]&&(_0x324fd5[_0xee1925(0x61a)]=[_0x324fd5[_0xee1925(0x1f2)]]);const _0x3df44b=new Set();for(const _0x4a49b3 of _0x324fd5[_0xee1925(0x61a)]){try{const _0x24e437=world[_0xee1925(0xbc8)](_0xee1925(0x182))[_0xee1925(0xc8f)]({'type':_0xee1925(0x127),'location':_0x4a49b3,'maxDistance':0x64});for(const _0x3f88e2 of _0x24e437){_0x3df44b['add'](_0x3f88e2);}}catch(_0x2e3d4a){}}for(const _0x45209f of _0x3df44b){try{const _0x505aae=_0x45209f[_0xee1925(0x460)](),_0x544eeb=_0x505aae[_0xee1925(0xb49)](_0x234caa=>_0x234caa===_0xee1925(0x30d)+_0x324fd5['id']);if(_0x544eeb){}}catch(_0x8081ba){}}}catch(_0x304019){}}}catch(_0x114a3d){}},0x190),system[_0x1d2622(0x613)](()=>{const _0x1eadf9=_0x1d2622;try{const _0x32de83=0xa;let _0x2824da=0x0;!system['behaviorDimensionIndex']&&(system[_0x1eadf9(0x21b)]=0x0);const _0x4dbd77=[world[_0x1eadf9(0xbc8)](_0x1eadf9(0x182)),world['getDimension']('nether'),world[_0x1eadf9(0xbc8)](_0x1eadf9(0x18d))],_0x3811f0=_0x4dbd77[system[_0x1eadf9(0x21b)]];try{const _0x55997f=_0x3811f0[_0x1eadf9(0xc8f)]({'type':_0x1eadf9(0x127)});if(_0x55997f[_0x1eadf9(0xcd6)]===0x0){system['behaviorDimensionIndex']=(system['behaviorDimensionIndex']+0x1)%_0x4dbd77[_0x1eadf9(0xcd6)];return;}for(const _0x5704a8 of _0x55997f){if(_0x2824da>=_0x32de83)break;try{const _0x48df31=_0x5704a8[_0x1eadf9(0x460)](),_0x548236=_0x48df31[_0x1eadf9(0x2d0)](_0x4687a8=>_0x4687a8[_0x1eadf9(0x42a)]('colony_id:'))?.[_0x1eadf9(0x3ad)]('colony_id:'[_0x1eadf9(0xcd6)]);if(!_0x548236)continue;const _0x5171ce=colonies[_0x1eadf9(0xc0a)](_0x548236);if(!_0x5171ce)continue;const _0x17bb1b=_0x3811f0[_0x1eadf9(0xc8f)]({'location':_0x5704a8[_0x1eadf9(0x1f2)],'maxDistance':0x20});if(_0x17bb1b[_0x1eadf9(0xcd6)]===0x0)continue;for(const _0x1bb5c8 of _0x17bb1b){if(_0x1bb5c8['id']===_0x5704a8['id'])continue;if(_0x1bb5c8['typeId']===_0x1eadf9(0x2d8)){const _0x767a4d=_0x1bb5c8['id'],_0x4f7de4=_0x1bb5c8[_0x1eadf9(0xa45)];if(_0x5171ce[_0x1eadf9(0x396)]===_0x767a4d){try{_0x5704a8[_0x1eadf9(0xd12)](_0x1eadf9(0xb8c));}catch(_0x209fd2){}continue;}if(_0x5171ce['citizens']['includes'](_0x4f7de4)){try{_0x5704a8['runCommand'](_0x1eadf9(0xb8c));}catch(_0x377aab){}continue;}const _0x4a9f4f=Array[_0x1eadf9(0x2f9)](colonies['values']())[_0x1eadf9(0x2d0)](_0x7d9792=>_0x7d9792[_0x1eadf9(0x396)]===_0x767a4d),_0x36cbfc=Array['from'](colonies[_0x1eadf9(0xaf3)]())[_0x1eadf9(0x2d0)](_0x5c9987=>_0x5c9987['citizens'][_0x1eadf9(0x22d)](_0x4f7de4)),_0xc491f1=_0x4a9f4f||_0x36cbfc;if(_0xc491f1&&_0x5171ce[_0x1eadf9(0x2ca)]){const _0x486f22=_0x5171ce[_0x1eadf9(0x2ca)][_0xc491f1['id']];if(_0x486f22===_0x1eadf9(0x5f3))try{_0x5704a8['runCommand'](_0x1eadf9(0xb8c));}catch(_0x30f163){}else{if(_0x486f22==='enemy')try{_0x5704a8['setTarget'](_0x1bb5c8);}catch(_0x1cfb4a){}}}}if(_0x1bb5c8[_0x1eadf9(0x621)]===_0x1eadf9(0x127)){const _0x14dea6=_0x1bb5c8[_0x1eadf9(0x460)](),_0x2506d1=_0x14dea6[_0x1eadf9(0x2d0)](_0x3546f4=>_0x3546f4[_0x1eadf9(0x42a)](_0x1eadf9(0x30d)))?.[_0x1eadf9(0x3ad)](_0x1eadf9(0x30d)[_0x1eadf9(0xcd6)]);if(_0x2506d1===_0x548236){try{_0x5704a8[_0x1eadf9(0xd12)](_0x1eadf9(0xb8c));}catch(_0x34b72d){}continue;}if(_0x2506d1&&_0x5171ce['diplomacy']){const _0x4323b6=_0x5171ce[_0x1eadf9(0x2ca)][_0x2506d1];if(_0x4323b6==='ally')try{_0x5704a8[_0x1eadf9(0xd12)](_0x1eadf9(0xb8c));}catch(_0x546990){}else{if(_0x4323b6===_0x1eadf9(0x9ea))try{_0x5704a8[_0x1eadf9(0x9aa)](_0x1bb5c8);}catch(_0x1f3be0){}}}}}_0x2824da++;}catch(_0x55f39c){_0x2824da++;}}}catch(_0x511a7a){}system['behaviorDimensionIndex']=(system[_0x1eadf9(0x21b)]+0x1)%_0x4dbd77[_0x1eadf9(0xcd6)];}catch(_0x450e57){}},0xc8),system[_0x1d2622(0x613)](()=>{const _0x1ceaaf=_0x1d2622;try{const _0x40b14f=world[_0x1ceaaf(0x272)]();if(_0x40b14f['length']===0x0)return;const _0x1f70e3=[_0x1ceaaf(0x695)],_0x4b88dc=[world['getDimension'](_0x1ceaaf(0x182))];system['currentTick']%0x1f4===0x0&&_0x4b88dc[_0x1ceaaf(0x9bb)](world[_0x1ceaaf(0xbc8)]('nether'),world[_0x1ceaaf(0xbc8)](_0x1ceaaf(0x18d)));for(const _0x2ff3ae of _0x4b88dc){try{const _0x38dae8=_0x2ff3ae[_0x1ceaaf(0xc8f)]({'type':_0x1ceaaf(0x127)});if(_0x38dae8[_0x1ceaaf(0xcd6)]===0x0)continue;for(const _0x251c8e of _0x38dae8){try{const _0x21ed3d=_0x251c8e[_0x1ceaaf(0x460)](),_0x29de30=_0x21ed3d[_0x1ceaaf(0x2d0)](_0x53718f=>_0x53718f['startsWith'](_0x1ceaaf(0x30d)))?.['substring']('colony_id:'[_0x1ceaaf(0xcd6)]);if(!_0x29de30)continue;const _0x339476=colonies[_0x1ceaaf(0xc0a)](_0x29de30);if(!_0x339476)continue;const _0x5da68e=_0x2ff3ae[_0x1ceaaf(0xc8f)]({'type':_0x1ceaaf(0x2d8),'location':_0x251c8e['location'],'maxDistance':0x10});if(_0x5da68e[_0x1ceaaf(0xcd6)]===0x0)continue;let _0x506114=null,_0x3f2571=Infinity;for(const _0x38205e of _0x5da68e){try{const _0x48c171=_0x339476[_0x1ceaaf(0x396)]===_0x38205e['id'],_0x19ac82=_0x339476['citizens']['includes'](_0x38205e[_0x1ceaaf(0xa45)]);if(_0x48c171||_0x19ac82){const _0x4ec494=_0x38205e[_0x1ceaaf(0x299)](_0x1ceaaf(0xd17));if(_0x4ec494){const _0x4d3eb2=_0x4ec494[_0x1ceaaf(0x26e)][_0x1ceaaf(0x416)](_0x38205e['selectedSlotIndex']);if(_0x4d3eb2&&_0x1f70e3[_0x1ceaaf(0x22d)](_0x4d3eb2['typeId'])){const _0x54d8fd=_0x251c8e[_0x1ceaaf(0x1f2)]['x']-_0x38205e['location']['x'],_0x2ce79e=_0x251c8e[_0x1ceaaf(0x1f2)]['y']-_0x38205e[_0x1ceaaf(0x1f2)]['y'],_0x3e4575=_0x251c8e[_0x1ceaaf(0x1f2)]['z']-_0x38205e[_0x1ceaaf(0x1f2)]['z'],_0x305754=Math[_0x1ceaaf(0x4e0)](_0x54d8fd*_0x54d8fd+_0x2ce79e*_0x2ce79e+_0x3e4575*_0x3e4575);_0x305754<_0x3f2571&&(_0x3f2571=_0x305754,_0x506114=_0x38205e);}}}}catch(_0xa11957){}}if(_0x506114)try{const _0x396272=_0x506114[_0x1ceaaf(0x1f2)]['x']-_0x251c8e[_0x1ceaaf(0x1f2)]['x'],_0x31bdcc=_0x506114[_0x1ceaaf(0x1f2)]['y']-_0x251c8e[_0x1ceaaf(0x1f2)]['y'],_0x5a3cc7=_0x506114['location']['z']-_0x251c8e[_0x1ceaaf(0x1f2)]['z'],_0x3ce548=Math[_0x1ceaaf(0x4e0)](_0x396272*_0x396272+_0x31bdcc*_0x31bdcc+_0x5a3cc7*_0x5a3cc7);if(_0x3ce548>0xa||_0x3ce548<0x2){const _0x3c20d2=[0x0,0x2d,0x5a,0x87,0xb4,0xe1,0x10e,0x13b],_0xe7525b=_0x3c20d2[Math[_0x1ceaaf(0x648)](Math[_0x1ceaaf(0x247)]()*_0x3c20d2[_0x1ceaaf(0xcd6)])],_0x2ad411=_0xe7525b*Math['PI']/0xb4,_0x1252f3=0x3+Math['random']()*0x2,_0x3d7a1b={'x':_0x506114[_0x1ceaaf(0x1f2)]['x']+Math['cos'](_0x2ad411)*_0x1252f3,'y':_0x506114[_0x1ceaaf(0x1f2)]['y']+0x1,'z':_0x506114[_0x1ceaaf(0x1f2)]['z']+Math[_0x1ceaaf(0x8e8)](_0x2ad411)*_0x1252f3};_0x3d7a1b['y']+=Math[_0x1ceaaf(0x247)]()*0x2-0x1;try{_0x251c8e[_0x1ceaaf(0x54b)](_0x3d7a1b,{'dimension':_0x506114[_0x1ceaaf(0xaf8)],'facingLocation':_0x506114[_0x1ceaaf(0x1f2)]}),_0x251c8e[_0x1ceaaf(0x875)](_0x1ceaaf(0xc6d));try{_0x251c8e[_0x1ceaaf(0xd12)]('particle\x20minecraft:portal_particle\x20~\x20~\x20~');}catch(_0x5b2d96){}}catch(_0x4d43bf){_0x251c8e[_0x1ceaaf(0x54b)](_0x3d7a1b);}}else{_0x251c8e[_0x1ceaaf(0x875)](_0x1ceaaf(0xc6d));try{_0x251c8e[_0x1ceaaf(0xd12)]('tp\x20@s\x20~\x20~\x20~\x20facing\x20'+_0x506114[_0x1ceaaf(0x1f2)]['x']+'\x20~\x20'+_0x506114[_0x1ceaaf(0x1f2)]['z']);}catch(_0x4466bc){}}}catch(_0x2c86ad){}else _0x251c8e[_0x1ceaaf(0x866)]('following_player');}catch(_0x48c941){}}}catch(_0x2292b7){}}}catch(_0x15c83a){}},0x64),world[_0x1d2622(0x290)]['entityHurt'][_0x1d2622(0xba5)](_0x43c674=>{const _0x39138e=_0x1d2622;try{const _0x41e449=_0x43c674[_0x39138e(0x557)],_0x2fe661=_0x43c674[_0x39138e(0x1f7)],_0x2f28a2=_0x2fe661?.['damagingEntity'];if(!_0x2f28a2)return;if(_0x41e449['typeId']!==_0x39138e(0x127))return;const _0x5e6230=_0x41e449[_0x39138e(0x460)](),_0x2ca39a=_0x5e6230[_0x39138e(0x2d0)](_0x26d5d2=>_0x26d5d2[_0x39138e(0x42a)](_0x39138e(0x30d)))?.[_0x39138e(0x3ad)]('colony_id:'[_0x39138e(0xcd6)]);if(!_0x2ca39a)return;const _0x568763=_0x41e449[_0x39138e(0xaf8)][_0x39138e(0xc8f)]({'type':_0x39138e(0x127),'location':_0x41e449['location'],'maxDistance':0x10});for(const _0x27f837 of _0x568763){if(_0x27f837['id']===_0x41e449['id'])continue;try{const _0x560173=_0x27f837[_0x39138e(0x460)](),_0x406164=_0x560173[_0x39138e(0x2d0)](_0x366d56=>_0x366d56[_0x39138e(0x42a)](_0x39138e(0x30d)))?.[_0x39138e(0x3ad)]('colony_id:'[_0x39138e(0xcd6)]);if(_0x406164===_0x2ca39a){let _0x333cf8=!![];if(_0x2f28a2[_0x39138e(0x621)]===_0x39138e(0x2d8)){const _0x4d078a=colonies['get'](_0x2ca39a);if(_0x4d078a){const _0x526644=Array[_0x39138e(0x2f9)](colonies[_0x39138e(0xaf3)]())['find'](_0x5d4783=>_0x5d4783['ownerId']===_0x2f28a2['id']),_0x1c0ec3=Array[_0x39138e(0x2f9)](colonies['values']())['find'](_0x8daf72=>_0x8daf72['citizens'][_0x39138e(0x22d)](_0x2f28a2['name'])),_0xf61e29=_0x526644||_0x1c0ec3;if(_0xf61e29&&_0x4d078a[_0x39138e(0x2ca)]){const _0x4c3300=_0x4d078a[_0x39138e(0x2ca)][_0xf61e29['id']];_0x4c3300===_0x39138e(0x5f3)&&(_0x333cf8=![]);}}}if(_0x333cf8)try{_0x27f837['setTarget'](_0x2f28a2);}catch(_0xce0b8b){}}}catch(_0x3ff4d8){}}}catch(_0x5ad044){}}),world[_0x1d2622(0xcd5)][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0x5314ae=>{const _0x554ca7=_0x1d2622,_0xa4d85e=_0x5314ae['source'],_0x13311c=_0x5314ae[_0x554ca7(0x4af)];if(_0x13311c?.[_0x554ca7(0x621)]===_0x554ca7(0x91f))_0x5314ae[_0x554ca7(0xc21)]=!![],system['run'](()=>{showColonyCreationForm(_0xa4d85e,_0x5314ae);});else{if(_0x13311c?.[_0x554ca7(0x621)]===_0x554ca7(0xc5f))_0x5314ae[_0x554ca7(0xc21)]=!![],system[_0x554ca7(0x631)](()=>{placeCosmeticFlag(_0xa4d85e,_0x5314ae);});else{if(_0x13311c?.[_0x554ca7(0x621)]===_0x554ca7(0x855))_0x5314ae[_0x554ca7(0xc21)]=!![],system[_0x554ca7(0x631)](()=>{placeBanditFlag(_0xa4d85e,_0x5314ae);});else _0x13311c?.[_0x554ca7(0x621)]===_0x554ca7(0xcfd)&&(_0x5314ae['cancel']=!![],system[_0x554ca7(0x631)](()=>{placeMarauderFlag(_0xa4d85e,_0x5314ae);}));}}});async function showColonyCreationForm(_0x5de589,_0x2c7102){const _0x300042=_0x1d2622;try{const _0x2e091d=Array[_0x300042(0x2f9)](colonies[_0x300042(0xaf3)]())[_0x300042(0x2d0)](_0x27da30=>_0x27da30['ownerId']===_0x5de589['id']),_0x4c2f28=Array['from'](colonies[_0x300042(0xaf3)]())[_0x300042(0x2d0)](_0x4dcdc0=>_0x4dcdc0[_0x300042(0x709)][_0x300042(0x22d)](_0x5de589[_0x300042(0xa45)]));if(_0x4c2f28&&!_0x2e091d){const _0x39b6b4=_0x4c2f28;if(!hasColonyPermission(_0x5de589,_0x39b6b4,'expandColony')){const _0x3a0cb7=new ActionFormData()[_0x300042(0xd1)](_0x300042(0x78e))[_0x300042(0x629)](_0x300042(0x765)+_0x39b6b4[_0x300042(0xa45)]+'\x0a\x0aYou\x20need\x20to\x20leave\x20your\x20current\x20colony\x20before\x20creating\x20or\x20joining\x20a\x20new\x20one.\x0a\x0aWould\x20you\x20like\x20to\x20leave\x20your\x20current\x20colony?')['button'](_0x300042(0xc90),_0x300042(0x96e))[_0x300042(0x31f)](_0x300042(0x468),_0x300042(0x40d)),_0x3054c6=await _0x3a0cb7[_0x300042(0x504)](_0x5de589);if(_0x3054c6[_0x300042(0x9d4)]||_0x3054c6['selection']===0x1){_0x5de589['sendMessage'](_0x300042(0xa0e));return;}_0x39b6b4[_0x300042(0x709)]=_0x39b6b4[_0x300042(0x709)][_0x300042(0x7ae)](_0x34c78b=>_0x34c78b!==_0x5de589[_0x300042(0xa45)]),colonies[_0x300042(0x336)](_0x39b6b4['id'],_0x39b6b4),saveColonyData();try{const _0x19e08b=_0x5de589[_0x300042(0x460)](),_0x2b2ed1=_0x19e08b[_0x300042(0x7ae)](_0x14cd19=>_0x14cd19[_0x300042(0x42a)](_0x300042(0x3ae))||_0x14cd19['startsWith'](_0x300042(0x107)));_0x2b2ed1['forEach'](_0x15e924=>_0x5de589[_0x300042(0x866)](_0x15e924)),_0x5de589[_0x300042(0xa7c)]=_0x5de589[_0x300042(0xa45)];}catch(_0x45b0e9){console[_0x300042(0x5b4)]('Could\x20not\x20remove\x20colony\x20rank\x20from\x20player:',_0x45b0e9);}_0x5de589[_0x300042(0x34f)](_0x300042(0xa58)+_0x39b6b4['name']+_0x300042(0xb6f));}else _0x2e091d=_0x39b6b4;}if(_0x2e091d){!_0x2e091d[_0x300042(0x61a)]&&(_0x2e091d[_0x300042(0x61a)]=[_0x2e091d['location']]);const _0x5191cf=getGlobalMaxFlags();if(_0x2e091d[_0x300042(0x61a)][_0x300042(0xcd6)]>=_0x5191cf){_0x5de589['sendMessage'](_0x300042(0x148)+_0x5191cf+_0x300042(0x634));return;}const _0x8bce32=_0x5de589['getBlockFromViewDirection']({'includeLiquidBlocks':![],'includePassableBlocks':![],'maxDistance':0xa});if(!_0x8bce32){_0x5de589['sendMessage']('§cCannot\x20place\x20flag\x20here!\x20Try\x20moving\x20closer\x20to\x20your\x20flagpole\x20to\x20hang\x20the\x20flag,\x20or\x20create\x20a\x20flag\x20out\x20of\x20fences\x20if\x20you\x20haven\x27t\x20yet.');return;}const _0x17ef91=_0x8bce32[_0x300042(0xa13)],_0x3e2673=[_0x300042(0x75c),'minecraft:spruce_fence',_0x300042(0x58a),_0x300042(0xc50),_0x300042(0x217),_0x300042(0x5b6),_0x300042(0x98a),_0x300042(0x124),_0x300042(0x41e),'minecraft:crimson_fence',_0x300042(0xb2e),_0x300042(0x2b4),_0x300042(0xabc)];if(!_0x3e2673[_0x300042(0x22d)](_0x17ef91[_0x300042(0x621)])){_0x5de589[_0x300042(0x34f)](_0x300042(0x6f0));return;}const _0x3b395d=_0x8bce32[_0x300042(0x1ea)];let _0x3adc37=0x0,_0x35ffd5=0x0,_0x5370ba=0x0;switch(_0x3b395d){case _0x300042(0x7ed):_0x35ffd5=-0.25,_0x5370ba=0x0;break;case _0x300042(0x192):_0x35ffd5=0.25,_0x5370ba=0xb4;break;case _0x300042(0x404):_0x3adc37=0.25,_0x5370ba=0x5a;break;case'West':_0x3adc37=-0.25,_0x5370ba=0x10e;break;default:const _0x1729c1=_0x5de589[_0x300042(0x912)](),_0x5ae171=(_0x1729c1['y']%0x168+0x168)%0x168;if(_0x5ae171>=0x13b||_0x5ae171<0x2d)_0x35ffd5=-0.25,_0x5370ba=0x0;else{if(_0x5ae171>=0x2d&&_0x5ae171<0x87)_0x3adc37=0.25,_0x5370ba=0x5a;else _0x5ae171>=0x87&&_0x5ae171<0xe1?(_0x35ffd5=0.25,_0x5370ba=0xb4):(_0x3adc37=-0.25,_0x5370ba=0x10e);}break;}const _0x511cd6={'x':_0x17ef91[_0x300042(0x1f2)]['x']+0.5+_0x3adc37,'y':_0x17ef91[_0x300042(0x1f2)]['y']+0.5,'z':_0x17ef91[_0x300042(0x1f2)]['z']+0.5+_0x35ffd5};let _0x1432d3=![];const _0x54b467=_0x5de589[_0x300042(0xaf8)],_0x321381=_0x54b467[_0x300042(0xc8f)]({'type':_0x300042(0x7f6),'location':_0x511cd6,'maxDistance':0x2});if(_0x321381[_0x300042(0xcd6)]>0x0){_0x5de589[_0x300042(0x34f)](_0x300042(0x2c9));return;}for(const _0x3cde3c of colonies[_0x300042(0xaf3)]()){const _0x534187=_0x511cd6['x']-_0x3cde3c[_0x300042(0x1f2)]['x'],_0x5cb0b9=_0x511cd6['y']-_0x3cde3c[_0x300042(0x1f2)]['y'],_0x593a2b=_0x511cd6['z']-_0x3cde3c[_0x300042(0x1f2)]['z'],_0x260290=Math[_0x300042(0x4e0)](_0x534187*_0x534187+_0x5cb0b9*_0x5cb0b9+_0x593a2b*_0x593a2b);if(_0x3cde3c['flagLocations'])for(const _0x32bad1 of _0x3cde3c[_0x300042(0x61a)]){const _0x396047=_0x511cd6['x']-_0x32bad1['x'],_0xdef873=_0x511cd6['y']-_0x32bad1['y'],_0x4153f0=_0x511cd6['z']-_0x32bad1['z'],_0x46f6b6=Math['sqrt'](_0x396047*_0x396047+_0xdef873*_0xdef873+_0x4153f0*_0x4153f0);if(_0x46f6b6<0xc8){_0x1432d3=!![];break;}}else _0x260290<0xc8&&(_0x1432d3=!![]);if(_0x1432d3)break;}if(_0x1432d3){_0x2e091d?_0x5de589[_0x300042(0x34f)](_0x300042(0x2ab)):_0x5de589[_0x300042(0x34f)](_0x300042(0x291));return;}const _0x475f71=getGlobalPrices(),_0x5c0f3e=_0x475f71[_0x300042(0x6cf)]||{'item':'minecraft:emerald','amount':0x14},_0x29badc=new ActionFormData()[_0x300042(0xd1)]('Expand\x20Your\x20Colony')[_0x300042(0x629)](_0x300042(0x3df)+_0x2e091d['name']+_0x300042(0x909)+_0x5c0f3e[_0x300042(0x8f0)]+'\x20'+_0x5c0f3e['item']['replace']('minecraft:','')[_0x300042(0x15a)]('_','\x20')+_0x300042(0x7c8))[_0x300042(0x31f)](_0x300042(0xb69),_0x300042(0x933))['button'](_0x300042(0x468),_0x300042(0x96e)),_0x23f6ba=await _0x29badc[_0x300042(0x504)](_0x5de589);if(_0x23f6ba[_0x300042(0x9d4)]||_0x23f6ba[_0x300042(0x77a)]===0x1){_0x5de589[_0x300042(0x34f)](_0x300042(0xbca));return;}const _0xeb2f60=_0x5de589['getComponent'](_0x300042(0xd17))[_0x300042(0x26e)];let _0x5bfd27=0x0;for(let _0x4aa2db=0x0;_0x4aa2db<_0xeb2f60[_0x300042(0x5c1)];_0x4aa2db++){const _0xeca874=_0xeb2f60[_0x300042(0x416)](_0x4aa2db);_0xeca874&&_0xeca874[_0x300042(0x621)]===_0x5c0f3e[_0x300042(0xcd8)]&&(_0x5bfd27+=_0xeca874[_0x300042(0x8f0)]);}if(_0x5bfd27<_0x5c0f3e[_0x300042(0x8f0)]){_0x5de589[_0x300042(0x34f)](_0x300042(0x5ea)+_0x5c0f3e[_0x300042(0x8f0)]+'\x20'+_0x5c0f3e['item'][_0x300042(0x15a)]('minecraft:','')[_0x300042(0x15a)]('_','\x20')+_0x300042(0x516));return;}let _0x205115=_0x5c0f3e[_0x300042(0x8f0)];for(let _0x152948=0x0;_0x152948<_0xeb2f60[_0x300042(0x5c1)]&&_0x205115>0x0;_0x152948++){const _0x57b625=_0xeb2f60[_0x300042(0x416)](_0x152948);if(_0x57b625&&_0x57b625['typeId']===_0x5c0f3e[_0x300042(0xcd8)]){const _0x185c34=Math[_0x300042(0x2c1)](_0x205115,_0x57b625[_0x300042(0x8f0)]);_0x205115-=_0x185c34,_0x57b625[_0x300042(0x8f0)]-_0x185c34<=0x0?_0xeb2f60[_0x300042(0xbc1)](_0x152948,undefined):(_0x57b625[_0x300042(0x8f0)]-=_0x185c34,_0xeb2f60[_0x300042(0xbc1)](_0x152948,_0x57b625));}}_0x5de589[_0x300042(0x34f)](_0x300042(0x667)+_0x5c0f3e[_0x300042(0x8f0)]+'\x20'+_0x5c0f3e[_0x300042(0xcd8)][_0x300042(0x15a)](_0x300042(0x524),'')[_0x300042(0x15a)]('_','\x20')+_0x300042(0xb43));}let _0x5e6060,_0x43adab,_0x43262f=![],_0x2a63cb={'canceled':![]};if(_0x2e091d)_0x5e6060=_0x2e091d[_0x300042(0xa45)],_0x43adab=_0x2e091d['color'],console[_0x300042(0x6a4)](_0x300042(0x430)+_0x5e6060+_0x300042(0x660)+_0x43adab?.[_0x300042(0xa45)]),_0x5de589[_0x300042(0x34f)](_0x300042(0x800)+_0x5e6060+_0x300042(0x312));else{const _0x111478=new ModalFormData()[_0x300042(0xd1)](_0x300042(0x199))[_0x300042(0x556)](_0x300042(0xc5e),_0x300042(0xa8d),'')['toggle'](_0x300042(0x828),![]);_0x2a63cb=await _0x111478['show'](_0x5de589);if(_0x2a63cb[_0x300042(0x9d4)])return;_0x5e6060=_0x2a63cb['formValues'][0x0],_0x43262f=_0x2a63cb[_0x300042(0x36e)][0x1],_0x43adab=await showColorPackSelection(_0x5de589,null,_0x300042(0x536));if(!_0x43adab){_0x5de589['sendMessage']('§cColony\x20creation\x20cancelled\x20-\x20no\x20color\x20selected.');return;}console[_0x300042(0x6a4)](_0x300042(0x79b)+_0x5e6060+_0x300042(0x660)+_0x43adab?.[_0x300042(0xa45)]+_0x300042(0x864)+_0x43adab?.[_0x300042(0xacd)]+_0x300042(0xbb2)+_0x43262f);}if(!_0x2e091d){if(!_0x5e6060||_0x5e6060['trim']()===''){_0x5de589['sendMessage'](_0x300042(0xb7d));return;}const _0x370c2=Array[_0x300042(0x2f9)](colonies[_0x300042(0xaf3)]())['find'](_0x28ee77=>_0x28ee77[_0x300042(0xa45)][_0x300042(0x97b)]()===_0x5e6060[_0x300042(0x97b)]());if(_0x370c2){_0x5de589[_0x300042(0x34f)](_0x300042(0x7c1));return;}}const _0x4e94ec=_0x5de589['getBlockFromViewDirection']({'includeLiquidBlocks':![],'includePassableBlocks':![],'maxDistance':0xa});if(!_0x4e94ec){_0x5de589['sendMessage'](_0x300042(0xadb));return;}const _0x1cc964=_0x4e94ec[_0x300042(0xa13)],_0xd68452=[_0x300042(0x75c),_0x300042(0x1aa),_0x300042(0x58a),_0x300042(0xc50),_0x300042(0x217),_0x300042(0x5b6),_0x300042(0x98a),_0x300042(0x124),'minecraft:bamboo_fence',_0x300042(0xb1c),'minecraft:warped_fence',_0x300042(0x2b4),'minecraft:pale_oak_fence'];if(!_0xd68452[_0x300042(0x22d)](_0x1cc964[_0x300042(0x621)])){_0x5de589[_0x300042(0x34f)]('§cFlags\x20can\x20only\x20be\x20placed\x20on\x20fence\x20blocks!');return;}const _0x37d2cd=_0x4e94ec[_0x300042(0x1ea)];let _0x4d9e07=0x0,_0x41710e=0x0,_0xb44570=0x0;switch(_0x37d2cd){case _0x300042(0x7ed):_0x41710e=-0.25,_0xb44570=0x0;break;case _0x300042(0x192):_0x41710e=0.25,_0xb44570=0xb4;break;case _0x300042(0x404):_0x4d9e07=0.25,_0xb44570=0x5a;break;case'West':_0x4d9e07=-0.25,_0xb44570=0x10e;break;default:const _0x35214d=_0x5de589['getRotation'](),_0xb1b987=(_0x35214d['y']%0x168+0x168)%0x168;if(_0xb1b987>=0x13b||_0xb1b987<0x2d)_0x41710e=-0.25,_0xb44570=0x0;else{if(_0xb1b987>=0x2d&&_0xb1b987<0x87)_0x4d9e07=0.25,_0xb44570=0x5a;else _0xb1b987>=0x87&&_0xb1b987<0xe1?(_0x41710e=0.25,_0xb44570=0xb4):(_0x4d9e07=-0.25,_0xb44570=0x10e);}break;}const _0x50faed={'x':_0x1cc964[_0x300042(0x1f2)]['x']+0.5+_0x4d9e07,'y':_0x1cc964[_0x300042(0x1f2)]['y']+0.5,'z':_0x1cc964[_0x300042(0x1f2)]['z']+0.5+_0x41710e},_0x9c0eb0=_0x5de589['dimension'];try{console[_0x300042(0x6a4)]('Attempting\x20to\x20place\x20flag\x20for\x20colony:\x20'+_0x5e6060+'\x20('+(_0x2e091d?'existing':_0x300042(0x23c))+_0x300042(0x355)),console['log'](_0x300042(0xd03)+_0x50faed['x']+_0x300042(0x46e)+_0x50faed['y']+',\x20z:'+_0x50faed['z']);const _0x2f8eec=_0x9c0eb0[_0x300042(0x26c)](_0x300042(0x7f6),_0x50faed);if(_0x2f8eec){const _0x185d41={'x':0x0,'y':_0xb44570,'z':0x0};try{_0x2f8eec[_0x300042(0x550)](_0x185d41),console[_0x300042(0x6a4)](_0x300042(0x4c0));}catch(_0x41a6f0){console[_0x300042(0x5b4)]('Error\x20setting\x20flag\x20rotation:',_0x41a6f0);}try{const _0x42f139=_0x5e6060?_0x5e6060['trim']():_0x300042(0x6b8);console[_0x300042(0x6a4)](_0x300042(0x96a)+_0x42f139+_0x300042(0x816)+_0x5de589[_0x300042(0xa45)]+'\x22'),_0x2f8eec[_0x300042(0x875)](_0x300042(0x8bc)+_0x42f139),_0x2f8eec[_0x300042(0x875)](_0x300042(0x2c8)+_0x5de589[_0x300042(0xa45)]),_0x2e091d&&(console[_0x300042(0x6a4)](_0x300042(0x410)+_0x2e091d['id']),_0x2f8eec[_0x300042(0x875)](_0x300042(0x30d)+_0x2e091d['id']));}catch(_0x440689){console[_0x300042(0x5b4)](_0x300042(0x923),_0x440689),console['warn'](_0x300042(0x586)+_0x440689[_0x300042(0xc47)]);}}else{console[_0x300042(0x5b4)]('Failed\x20to\x20spawn\x20flag\x20entity,\x20entity\x20is\x20null'),_0x5de589[_0x300042(0x34f)]('§cFailed\x20to\x20create\x20flag\x20entity.\x20Please\x20try\x20again\x20or\x20contact\x20an\x20administrator.');return;}const _0x526903={0x0:'set_white',0x1:_0x300042(0xe2),0x2:_0x300042(0x397),0x3:_0x300042(0x259),0x4:_0x300042(0x92f),0x5:'set_orange',0x6:_0x300042(0x5ee),0x7:_0x300042(0x5aa),0x8:'set_black',0x9:_0x300042(0x814),0xa:'set_light_gray',0xb:_0x300042(0x72d),0xc:_0x300042(0x1e7),0xd:_0x300042(0x741),0xe:_0x300042(0x7d0),0xf:_0x300042(0x18b)};let _0x4d3c68;try{_0x2e091d?(console[_0x300042(0x6a4)]('Existing\x20colony\x20color:\x20'+_0x43adab?.[_0x300042(0xa45)]+',\x20value:\x20'+_0x43adab?.[_0x300042(0x768)]+_0x300042(0xa5d)+_0x43adab?.[_0x300042(0x76c)]),_0x43adab?.[_0x300042(0x76c)]?(_0x4d3c68=_0x43adab['event'],console[_0x300042(0x6a4)](_0x300042(0xa96)+_0x4d3c68)):(_0x4d3c68=_0x300042(0xc67),console[_0x300042(0x5b4)](_0x300042(0x3f5)))):(console[_0x300042(0x6a4)](_0x300042(0x208)+_0x43adab?.[_0x300042(0xa45)]+_0x300042(0x87c)+_0x43adab?.[_0x300042(0x768)]+',\x20event:\x20'+_0x43adab?.[_0x300042(0x76c)]),_0x43adab?.[_0x300042(0x76c)]?(_0x4d3c68=_0x43adab[_0x300042(0x76c)],console['log'](_0x300042(0x7cc)+_0x4d3c68)):(_0x4d3c68='set_white',console[_0x300042(0x5b4)](_0x300042(0x5e3)))),console[_0x300042(0x6a4)](_0x300042(0xade)+_0x4d3c68);}catch(_0x5314e8){_0x4d3c68=_0x300042(0xc67),console[_0x300042(0x5b4)](_0x300042(0x1ab),_0x5314e8),_0x5de589[_0x300042(0x34f)](_0x300042(0xcb7));}_0x4d3c68&&_0x2f8eec?system[_0x300042(0x633)](()=>{const _0x154ef4=_0x300042;try{_0x2f8eec['isValid']()?(_0x2f8eec['triggerEvent'](_0x4d3c68),console[_0x154ef4(0x6a4)]('Color\x20event\x20triggered:\x20'+_0x4d3c68)):console['warn']('Flag\x20entity\x20became\x20invalid\x20before\x20color\x20could\x20be\x20set');}catch(_0x46f561){console[_0x154ef4(0x5b4)](_0x154ef4(0xad8),_0x46f561),_0x5de589[_0x154ef4(0x34f)](_0x154ef4(0x5fd));}},0x5):console[_0x300042(0x5b4)](_0x300042(0xce6)+_0x4d3c68+_0x300042(0x29a)+!!_0x2f8eec);}catch(_0x4769d6){_0x5de589['sendMessage'](_0x300042(0x8f9)+_0x4769d6[_0x300042(0xc47)]),_0x5de589[_0x300042(0x34f)](_0x300042(0x181)+_0x50faed['x']+',\x20'+_0x50faed['y']+',\x20'+_0x50faed['z']),console[_0x300042(0x5b4)](_0x300042(0x333),_0x4769d6);return;}try{if(_0x2e091d){!_0x2e091d[_0x300042(0x61a)]&&(_0x2e091d[_0x300042(0x61a)]=[_0x2e091d[_0x300042(0x1f2)]]);const _0xfa716f=getGlobalMaxFlags();!_0x2e091d[_0x300042(0xaf8)]&&(_0x2e091d['dimension']=_0x5de589[_0x300042(0xaf8)]['id']);if(_0x2e091d['dimension']!==_0x5de589[_0x300042(0xaf8)]['id']){_0x5de589[_0x300042(0x34f)]('§cYou\x20cannot\x20expand\x20a\x20colony\x20across\x20dimensions!\x20This\x20colony\x20is\x20in\x20'+_0x2e091d[_0x300042(0xaf8)]+'.');return;}const _0xa75c51={'x':_0x50faed['x'],'y':_0x50faed['y'],'z':_0x50faed['z'],'name':_0x300042(0xa76)+(_0x2e091d[_0x300042(0x61a)][_0x300042(0xcd6)]+0x1)};_0x2e091d[_0x300042(0x61a)][_0x300042(0x9bb)](_0xa75c51),colonies[_0x300042(0x336)](_0x2e091d['id'],_0x2e091d),_0x5de589['sendMessage']('§aExpanded\x20colony\x20§6'+_0x2e091d[_0x300042(0xa45)]+_0x300042(0x28c)+_0x2e091d[_0x300042(0x61a)][_0x300042(0xcd6)]+'/'+_0xfa716f+')'),console['log'](_0x300042(0x87e)+_0x2e091d['id']+'\x20expanded\x20with\x20new\x20flag\x20at\x20'+_0x50faed['x']+',\x20'+_0x50faed['y']+',\x20'+_0x50faed['z']+_0x300042(0xc99)+_0x5de589[_0x300042(0xaf8)]['id']);}else try{const _0x4cd1d7=_0x5e6060?_0x5e6060[_0x300042(0x69d)]():_0x300042(0xcf1),_0x10680d={'x':_0x50faed['x'],'y':_0x50faed['y'],'z':_0x50faed['z'],'name':_0x300042(0xa26)},_0x38014c={'id':generateColonyId(),'name':_0x4cd1d7,'owner':_0x5de589[_0x300042(0xa45)],'ownerId':_0x5de589['id'],'location':_0x50faed,'flagLocations':[_0x10680d],'dimension':_0x5de589[_0x300042(0xaf8)]['id'],'color':_0x43adab,'createdAt':Date[_0x300042(0x405)](),'nextMarauderAttack':Date[_0x300042(0x405)]()+0x46*0x3c*0xea60,'nextPlague':Date['now']()+0x46*0x3c*0xea60,'citizens':[],'diplomacy':{},'democracy':{'enabled':_0x43262f,'votes':{},'nextElection':_0x43262f?Date[_0x300042(0x405)]()+0x1e*0x18*0x3c*0xea60:null,'electionHistory':[]},'foodCrateLocations':[]};colonies[_0x300042(0x336)](_0x38014c['id'],_0x38014c),console[_0x300042(0x6a4)](_0x300042(0x84a)+_0x38014c['id']+_0x300042(0x2ef)+_0x4cd1d7);}catch(_0x44369e){console['warn']('Error\x20creating\x20colony:',_0x44369e),_0x5de589['sendMessage']('§cError\x20creating\x20colony:\x20'+_0x44369e[_0x300042(0xc47)]);}}catch(_0x15cdd3){console[_0x300042(0x5b4)](_0x300042(0x84c),_0x15cdd3),_0x5de589[_0x300042(0x34f)](_0x300042(0x58f)+_0x15cdd3[_0x300042(0xc47)]);try{const _0x36ce9a=_0x9c0eb0[_0x300042(0xc8f)]({'type':_0x300042(0x7f6),'location':_0x50faed,'maxDistance':0x1});_0x36ce9a['length']>0x0&&(_0x36ce9a[0x0][_0x300042(0x63d)](),console[_0x300042(0x6a4)](_0x300042(0x8ea)));}catch(_0x10d095){console[_0x300042(0x5b4)](_0x300042(0xee),_0x10d095);}}try{saveColonyData(),console['log'](_0x300042(0x19d));}catch(_0x628ddf){console[_0x300042(0x5b4)]('Error\x20saving\x20colony\x20data\x20after\x20flag\x20placement:',_0x628ddf),_0x5de589['sendMessage'](_0x300042(0xaae)),system[_0x300042(0x633)](()=>{const _0x87204f=_0x300042;try{saveColonyData(),console[_0x87204f(0x6a4)](_0x87204f(0xc4a));}catch(_0x481a1c){console[_0x87204f(0x5b4)](_0x87204f(0x375),_0x481a1c);}},0x64);}try{let _0x163302;if(_0x2e091d)_0x163302=_0x2e091d['id'];else{const _0x44f50d=Array[_0x300042(0x2f9)](colonies[_0x300042(0xaf3)]())[_0x300042(0x2d0)](_0x5e7b63=>_0x5e7b63[_0x300042(0x396)]===_0x5de589['id']&&_0x5e7b63[_0x300042(0x1f2)]['x']===_0x50faed['x']&&_0x5e7b63[_0x300042(0x1f2)]['y']===_0x50faed['y']&&_0x5e7b63[_0x300042(0x1f2)]['z']===_0x50faed['z']);if(!_0x44f50d){console[_0x300042(0x5b4)](_0x300042(0x51d)),_0x5de589['sendMessage'](_0x300042(0x320));return;}_0x163302=_0x44f50d['id'];}console[_0x300042(0x6a4)]('Setting\x20player\x20tags\x20for\x20colony:\x20'+_0x163302);const _0x1230ab=_0x5e6060?_0x5e6060[_0x300042(0x69d)]():_0x300042(0x6b8),_0x1e9cee=_0x43adab&&_0x43adab[_0x300042(0x768)]!==undefined?_0x43adab[_0x300042(0x768)]:0x0,_0x27be4e=getColorCode(_0x1e9cee),_0x42bbb6=_0x27be4e+'['+_0x1230ab+_0x300042(0x327);console[_0x300042(0x6a4)](_0x300042(0x403)+_0x42bbb6),_0x5de589[_0x300042(0x875)](_0x300042(0x3ae)+_0x163302);const _0xe394a3=_0x5de589['getTags']()['find'](_0x2aacd7=>_0x2aacd7[_0x300042(0x42a)](_0x300042(0x107)));if(!_0xe394a3){_0x5de589[_0x300042(0x875)]('colony_rank:'+_0x42bbb6);const _0x564329=_0x5de589['name'];_0x5de589[_0x300042(0xa7c)]=_0x42bbb6+'\x20'+_0x564329,console[_0x300042(0x6a4)](_0x300042(0x722)+_0x5de589['nameTag']);}else console['log'](_0x300042(0x5f1)+_0xe394a3);}catch(_0x55a226){console[_0x300042(0x5b4)](_0x300042(0xc48),_0x55a226),_0x5de589[_0x300042(0x34f)](_0x300042(0xcdf));}try{if(_0x5de589[_0x300042(0x627)]()!=='creative'){const _0x5855c2=_0x5de589[_0x300042(0x299)]('inventory')['container'],_0x2a6918=_0x5de589[_0x300042(0x654)],_0x3ed005=_0x5855c2[_0x300042(0x416)](_0x2a6918);if(_0x3ed005&&_0x3ed005[_0x300042(0x621)]===_0x300042(0x91f)){console[_0x300042(0x6a4)](_0x300042(0x30c)+_0x3ed005[_0x300042(0x8f0)]);if(_0x3ed005[_0x300042(0x8f0)]>0x1){const _0x20c504=new ItemStack(_0x300042(0x91f),_0x3ed005[_0x300042(0x8f0)]-0x1);_0x5855c2['setItem'](_0x2a6918,_0x20c504),console[_0x300042(0x6a4)]('Reduced\x20flag\x20item\x20stack\x20by\x201');}else _0x5855c2[_0x300042(0xbc1)](_0x2a6918,undefined),console[_0x300042(0x6a4)](_0x300042(0x1af));}else console['warn'](_0x300042(0x509));}else console[_0x300042(0x6a4)]('Player\x20is\x20in\x20creative\x20mode,\x20flag\x20item\x20not\x20consumed');_0x5de589[_0x300042(0x34f)]('§7Place\x20a\x20§bMayor\x27s\x20Table\x20§7within\x20100\x20blocks\x20of\x20your\x20flag\x20to\x20manage\x20your\x20colony.');}catch(_0x81e19f){console[_0x300042(0x5b4)]('Error\x20updating\x20inventory\x20after\x20flag\x20placement:',_0x81e19f);}_0x5de589['sendMessage'](_0x300042(0x927)+_0x5e6060+'\x22!'),_0x5de589[_0x300042(0x34f)](_0x300042(0x2f8));try{_0x5de589['playSound']('event.whistle');}catch(_0x243432){console['warn'](_0x300042(0x317)+_0x243432);}try{if(!_0x5de589[_0x300042(0x4ac)](RECEIVED_CROWN_TAG)){const _0xb4e6c6=[_0x300042(0x1eb),_0x300042(0xaeb),_0x300042(0xb22),_0x300042(0x4de),_0x300042(0x67e),_0x300042(0x90d),_0x300042(0x8be),_0x300042(0x54c),'jerrys_colonies:imperial_crown','jerrys_colonies:pale_crown',_0x300042(0x19f),_0x300042(0x8e9)],_0x22b900=_0xb4e6c6[Math[_0x300042(0x648)](Math[_0x300042(0x247)]()*_0xb4e6c6[_0x300042(0xcd6)])],_0x386953=new ItemStack(_0x22b900,0x1);_0x386953[_0x300042(0xa7c)]='Crown\x20of\x20'+_0x5e6060;const _0xe23765=_0x5de589[_0x300042(0x299)](_0x300042(0xd17))[_0x300042(0x26e)],_0x24b59c=_0xe23765[_0x300042(0x3c5)](_0x386953);!_0x24b59c&&_0x5de589[_0x300042(0xaf8)][_0x300042(0x3ec)](_0x386953,_0x5de589[_0x300042(0x1f2)]),_0x5de589[_0x300042(0x875)](RECEIVED_CROWN_TAG),system['runTimeout'](()=>{const _0x1bf891=_0x300042;try{if(_0x5de589['isValid']()){const _0xca1dc9=_0x5de589[_0x1bf891(0x299)](_0x1bf891(0xd17))[_0x1bf891(0x26e)];let _0x4e87f0=![];for(let _0x4d6756=0x0;_0x4d6756<_0xca1dc9[_0x1bf891(0x5c1)];_0x4d6756++){const _0x19eff0=_0xca1dc9['getItem'](_0x4d6756);if(_0x19eff0&&_0xb4e6c6['includes'](_0x19eff0['typeId'])&&!_0x4e87f0){_0x19eff0[_0x1bf891(0x8f0)]>0x1?(_0x19eff0['amount']--,_0xca1dc9[_0x1bf891(0xbc1)](_0x4d6756,_0x19eff0)):_0xca1dc9[_0x1bf891(0xbc1)](_0x4d6756,undefined);_0x4e87f0=!![];break;}}}}catch(_0x489df1){console[_0x1bf891(0x5b4)](_0x1bf891(0xa3b),_0x489df1);}},0x5);}}catch(_0x1ea799){console[_0x300042(0x5b4)](_0x300042(0x99f),_0x1ea799);}}catch(_0xc2eaf9){console[_0x300042(0x5b4)](_0x300042(0xc75),_0xc2eaf9),_0x5de589[_0x300042(0x34f)](_0x300042(0x444));}}async function placeCosmeticFlag(_0x1d2114,_0x1756c1){const _0x95a3ab=_0x1d2622;try{let _0x386ef2=null;for(const [_0x416457,_0x8389eb]of colonies){if(_0x8389eb['ownerId']===_0x1d2114['id']||_0x8389eb['citizens'][_0x95a3ab(0x22d)](_0x1d2114[_0x95a3ab(0xa45)])){_0x386ef2=_0x8389eb;break;}}if(!_0x386ef2){_0x1d2114['sendMessage'](_0x95a3ab(0xc93));return;}const _0x632a9=_0x1d2114['getBlockFromViewDirection']({'includeLiquidBlocks':![],'includePassableBlocks':![],'maxDistance':0xa});if(!_0x632a9){_0x1d2114['sendMessage'](_0x95a3ab(0x763));return;}const _0x56c452=_0x632a9[_0x95a3ab(0xa13)],_0x55a572=[_0x95a3ab(0x75c),_0x95a3ab(0x1aa),'minecraft:birch_fence',_0x95a3ab(0xc50),_0x95a3ab(0x217),_0x95a3ab(0x5b6),'minecraft:mangrove_fence','minecraft:cherry_fence','minecraft:bamboo_fence',_0x95a3ab(0xb1c),_0x95a3ab(0xb2e),_0x95a3ab(0x2b4),'minecraft:pale_oak_fence'];if(!_0x55a572[_0x95a3ab(0x22d)](_0x56c452[_0x95a3ab(0x621)])){_0x1d2114[_0x95a3ab(0x34f)](_0x95a3ab(0x523));return;}const _0x2fa76e=_0x632a9['face'];let _0x35d678=0x0,_0xa76284=0x0,_0x49c029=0x0;switch(_0x2fa76e){case _0x95a3ab(0x7ed):_0xa76284=-0.25,_0x49c029=0x0;break;case'South':_0xa76284=0.25,_0x49c029=0xb4;break;case _0x95a3ab(0x404):_0x35d678=0.25,_0x49c029=0x5a;break;case _0x95a3ab(0x543):_0x35d678=-0.25,_0x49c029=0x10e;break;default:const _0x3952e3=_0x1d2114[_0x95a3ab(0x912)](),_0x49be8b=(_0x3952e3['y']%0x168+0x168)%0x168;if(_0x49be8b>=0x13b||_0x49be8b<0x2d)_0xa76284=-0.25,_0x49c029=0x0;else{if(_0x49be8b>=0x2d&&_0x49be8b<0x87)_0x35d678=0.25,_0x49c029=0x5a;else _0x49be8b>=0x87&&_0x49be8b<0xe1?(_0xa76284=0.25,_0x49c029=0xb4):(_0x35d678=-0.25,_0x49c029=0x10e);}break;}const _0x3e33b7={'x':_0x56c452['location']['x']+0.5+_0x35d678,'y':_0x56c452[_0x95a3ab(0x1f2)]['y']+0.5,'z':_0x56c452[_0x95a3ab(0x1f2)]['z']+0.5+_0xa76284},_0x46508a=_0x1d2114['dimension'];try{const _0x1ff891=_0x46508a[_0x95a3ab(0x26c)](_0x95a3ab(0xc1e),_0x3e33b7);if(_0x1ff891){const _0x3e7178={'x':0x0,'y':_0x49c029,'z':0x0};try{_0x1ff891[_0x95a3ab(0x550)](_0x3e7178);}catch(_0x21177){console[_0x95a3ab(0x5b4)](_0x95a3ab(0x87a),_0x21177);}let _0x29ea81=_0x95a3ab(0xc67);if(_0x386ef2[_0x95a3ab(0x16a)]&&_0x386ef2[_0x95a3ab(0x16a)][_0x95a3ab(0x76c)])_0x29ea81=_0x386ef2[_0x95a3ab(0x16a)]['event'];else{const _0x5927e0={0x0:_0x95a3ab(0xc67),0x1:_0x95a3ab(0xe2),0x2:_0x95a3ab(0x397),0x3:_0x95a3ab(0x259),0x4:_0x95a3ab(0x92f),0x5:_0x95a3ab(0x187),0x6:'set_purple',0x7:_0x95a3ab(0x5aa),0x8:_0x95a3ab(0x777),0x9:_0x95a3ab(0x814),0xa:_0x95a3ab(0xbf7),0xb:_0x95a3ab(0x72d),0xc:_0x95a3ab(0x1e7),0xd:_0x95a3ab(0x741),0xe:'set_lime',0xf:_0x95a3ab(0x18b)},_0x3e244e=_0x386ef2['color'][_0x95a3ab(0x768)];_0x29ea81=_0x5927e0[_0x3e244e]||'set_white';}system[_0x95a3ab(0x631)](()=>{const _0x674be2=_0x95a3ab;try{_0x1ff891['triggerEvent'](_0x29ea81);}catch(_0x45259e){console[_0x674be2(0x5b4)](_0x674be2(0x1bd),_0x45259e);}});const _0x38da9b=_0x1d2114[_0x95a3ab(0x299)]('inventory')[_0x95a3ab(0x26e)],_0x126c29=_0x38da9b[_0x95a3ab(0x416)](_0x1d2114['selectedSlotIndex']);_0x126c29&&_0x126c29[_0x95a3ab(0x621)]===_0x95a3ab(0xc5f)&&(_0x126c29[_0x95a3ab(0x8f0)]>0x1?(_0x126c29[_0x95a3ab(0x8f0)]-=0x1,_0x38da9b[_0x95a3ab(0xbc1)](_0x1d2114[_0x95a3ab(0x654)],_0x126c29)):_0x38da9b['setItem'](_0x1d2114['selectedSlotIndex'],undefined));}}catch(_0x21c7a2){console[_0x95a3ab(0x5b4)]('Error\x20placing\x20cosmetic\x20flag:',_0x21c7a2),_0x1d2114[_0x95a3ab(0x34f)]('§cError\x20placing\x20cosmetic\x20flag.\x20Please\x20try\x20again.');}}catch(_0x4cf031){console[_0x95a3ab(0x5b4)](_0x95a3ab(0x52b),_0x4cf031),_0x1d2114[_0x95a3ab(0x34f)](_0x95a3ab(0xbb9));}}async function placeBanditFlag(_0x46b3d3,_0xb2651){const _0x294db1=_0x1d2622;try{const _0x40fe2f=_0x46b3d3[_0x294db1(0x847)]({'includeLiquidBlocks':![],'includePassableBlocks':![],'maxDistance':0xa});if(!_0x40fe2f){_0x46b3d3[_0x294db1(0x34f)]('§cYou\x20must\x20be\x20looking\x20at\x20a\x20fence\x20to\x20place\x20a\x20bandit\x20flag!');return;}const _0x377675=_0x40fe2f[_0x294db1(0xa13)],_0x2bb17c=['minecraft:oak_fence',_0x294db1(0x1aa),_0x294db1(0x58a),_0x294db1(0xc50),_0x294db1(0x217),_0x294db1(0x5b6),_0x294db1(0x98a),_0x294db1(0x124),_0x294db1(0x41e),_0x294db1(0xb1c),_0x294db1(0xb2e),'minecraft:nether_brick_fence'];if(!_0x2bb17c[_0x294db1(0x22d)](_0x377675['typeId'])){_0x46b3d3[_0x294db1(0x34f)](_0x294db1(0x331));return;}const _0x4c00f6=_0x40fe2f['face'];let _0x4d03be=0x0,_0x16cb79=0x0,_0xe4d447=0x0;switch(_0x4c00f6){case _0x294db1(0x7ed):_0x16cb79=-0.25,_0xe4d447=0x0;break;case _0x294db1(0x192):_0x16cb79=0.25,_0xe4d447=0xb4;break;case _0x294db1(0x404):_0x4d03be=0.25,_0xe4d447=0x5a;break;case _0x294db1(0x543):_0x4d03be=-0.25,_0xe4d447=0x10e;break;default:const _0x4424ba=_0x46b3d3[_0x294db1(0x912)](),_0x4a42c5=(_0x4424ba['y']%0x168+0x168)%0x168;if(_0x4a42c5>=0x13b||_0x4a42c5<0x2d)_0x16cb79=-0.25,_0xe4d447=0x0;else{if(_0x4a42c5>=0x2d&&_0x4a42c5<0x87)_0x4d03be=0.25,_0xe4d447=0x5a;else _0x4a42c5>=0x87&&_0x4a42c5<0xe1?(_0x16cb79=0.25,_0xe4d447=0xb4):(_0x4d03be=-0.25,_0xe4d447=0x10e);}break;}const _0x24ce4f={'x':_0x377675[_0x294db1(0x1f2)]['x']+0.5+_0x4d03be,'y':_0x377675[_0x294db1(0x1f2)]['y']+0.5,'z':_0x377675[_0x294db1(0x1f2)]['z']+0.5+_0x16cb79},_0x37b934=_0x46b3d3['dimension'];try{const _0x4d74e8=_0x37b934['spawnEntity'](_0x294db1(0x227),_0x24ce4f);if(_0x4d74e8){const _0x4d4200={'x':0x0,'y':_0xe4d447,'z':0x0};try{_0x4d74e8['setRotation'](_0x4d4200);}catch(_0x5e2bd7){console[_0x294db1(0x5b4)]('Error\x20setting\x20bandit\x20flag\x20rotation:',_0x5e2bd7);}const _0x34dbdf=_0x46b3d3[_0x294db1(0x299)](_0x294db1(0xd17))[_0x294db1(0x26e)],_0x102bf4=_0x34dbdf['getItem'](_0x46b3d3[_0x294db1(0x654)]);_0x102bf4&&_0x102bf4[_0x294db1(0x621)]===_0x294db1(0x855)&&(_0x102bf4[_0x294db1(0x8f0)]>0x1?(_0x102bf4[_0x294db1(0x8f0)]-=0x1,_0x34dbdf[_0x294db1(0xbc1)](_0x46b3d3['selectedSlotIndex'],_0x102bf4)):_0x34dbdf[_0x294db1(0xbc1)](_0x46b3d3['selectedSlotIndex'],undefined)),_0x46b3d3['sendMessage'](_0x294db1(0xafa));}}catch(_0x25070e){console[_0x294db1(0x5b4)]('Error\x20placing\x20bandit\x20flag:',_0x25070e),_0x46b3d3[_0x294db1(0x34f)](_0x294db1(0x49c));}}catch(_0x45b0e7){console['warn'](_0x294db1(0x8e1),_0x45b0e7),_0x46b3d3[_0x294db1(0x34f)](_0x294db1(0x49c));}}async function placeMarauderFlag(_0x17b12b,_0x130211){const _0x2a8a80=_0x1d2622;try{const _0x6ccca7=_0x17b12b[_0x2a8a80(0x847)]({'includeLiquidBlocks':![],'includePassableBlocks':![],'maxDistance':0xa});if(!_0x6ccca7){_0x17b12b['sendMessage'](_0x2a8a80(0x5a2));return;}const _0x54ee71=_0x6ccca7[_0x2a8a80(0xa13)],_0x12c573=[_0x2a8a80(0x75c),_0x2a8a80(0x1aa),_0x2a8a80(0x58a),_0x2a8a80(0xc50),'minecraft:acacia_fence',_0x2a8a80(0x5b6),_0x2a8a80(0x98a),_0x2a8a80(0x124),_0x2a8a80(0x41e),'minecraft:crimson_fence','minecraft:warped_fence',_0x2a8a80(0x2b4)];if(!_0x12c573['includes'](_0x54ee71[_0x2a8a80(0x621)])){_0x17b12b[_0x2a8a80(0x34f)](_0x2a8a80(0x548));return;}const _0x57caa7=_0x6ccca7['face'];let _0x221105=0x0,_0x599e9d=0x0,_0x38aa2e=0x0;switch(_0x57caa7){case _0x2a8a80(0x7ed):_0x599e9d=-0.25,_0x38aa2e=0x0;break;case _0x2a8a80(0x192):_0x599e9d=0.25,_0x38aa2e=0xb4;break;case _0x2a8a80(0x404):_0x221105=0.25,_0x38aa2e=0x5a;break;case _0x2a8a80(0x543):_0x221105=-0.25,_0x38aa2e=0x10e;break;default:const _0x2595bc=_0x17b12b[_0x2a8a80(0x912)](),_0x238f98=(_0x2595bc['y']%0x168+0x168)%0x168;if(_0x238f98>=0x13b||_0x238f98<0x2d)_0x599e9d=-0.25,_0x38aa2e=0x0;else{if(_0x238f98>=0x2d&&_0x238f98<0x87)_0x221105=0.25,_0x38aa2e=0x5a;else _0x238f98>=0x87&&_0x238f98<0xe1?(_0x599e9d=0.25,_0x38aa2e=0xb4):(_0x221105=-0.25,_0x38aa2e=0x10e);}break;}const _0x2137eb={'x':_0x54ee71[_0x2a8a80(0x1f2)]['x']+0.5+_0x221105,'y':_0x54ee71[_0x2a8a80(0x1f2)]['y']+0.5,'z':_0x54ee71[_0x2a8a80(0x1f2)]['z']+0.5+_0x599e9d},_0x2bdea1=_0x17b12b['dimension'];try{const _0x91e4d2=_0x2bdea1[_0x2a8a80(0x26c)](_0x2a8a80(0x576),_0x2137eb);if(_0x91e4d2){const _0xf29d5a={'x':0x0,'y':_0x38aa2e,'z':0x0};try{_0x91e4d2['setRotation'](_0xf29d5a);}catch(_0x428365){console['warn']('Error\x20setting\x20marauder\x20flag\x20rotation:',_0x428365);}const _0x4168b6=_0x17b12b[_0x2a8a80(0x299)](_0x2a8a80(0xd17))[_0x2a8a80(0x26e)],_0x2b64dc=_0x4168b6[_0x2a8a80(0x416)](_0x17b12b[_0x2a8a80(0x654)]);_0x2b64dc&&_0x2b64dc[_0x2a8a80(0x621)]===_0x2a8a80(0xcfd)&&(_0x2b64dc[_0x2a8a80(0x8f0)]>0x1?(_0x2b64dc[_0x2a8a80(0x8f0)]-=0x1,_0x4168b6[_0x2a8a80(0xbc1)](_0x17b12b['selectedSlotIndex'],_0x2b64dc)):_0x4168b6[_0x2a8a80(0xbc1)](_0x17b12b['selectedSlotIndex'],undefined)),_0x17b12b[_0x2a8a80(0x34f)](_0x2a8a80(0x54f));}}catch(_0x4c0743){console[_0x2a8a80(0x5b4)]('Error\x20placing\x20marauder\x20flag:',_0x4c0743),_0x17b12b['sendMessage']('§cError\x20placing\x20marauder\x20flag.\x20Please\x20try\x20again.');}}catch(_0x138a86){console[_0x2a8a80(0x5b4)](_0x2a8a80(0x3ac),_0x138a86),_0x17b12b[_0x2a8a80(0x34f)]('§cError\x20placing\x20marauder\x20flag.\x20Please\x20try\x20again.');}}function generateColonyId(){const _0xe012cb=_0x1d2622;return _0xe012cb(0x23f)+Date[_0xe012cb(0x405)]()+'_'+Math['random']()[_0xe012cb(0x72b)](0x24)[_0xe012cb(0xbbc)](0x2,0x9);}function initiateDelayedTeleport(_0x57bcb1,_0x526f95,_0x5336b0,_0x5ea23f){const _0x539fcd=_0x1d2622;if(!isFlagTeleportEnabled()){_0x57bcb1[_0x539fcd(0x34f)](_0x539fcd(0xbcf));return;}const _0x5fb251=_0x57bcb1['id'];cancelPendingTeleport(_0x5fb251),pendingTeleports['set'](_0x5fb251,{'player':_0x57bcb1,'destination':_0x526f95,'colonyName':_0x5336b0,'flagName':_0x5ea23f,'startLocation':{'x':_0x57bcb1[_0x539fcd(0x1f2)]['x'],'y':_0x57bcb1[_0x539fcd(0x1f2)]['y'],'z':_0x57bcb1['location']['z']},'startDimension':_0x57bcb1[_0x539fcd(0xaf8)]['id'],'startTime':Date[_0x539fcd(0x405)](),'countdown':0xa,'scheduledTicks':[]}),_0x57bcb1[_0x539fcd(0x34f)](_0x539fcd(0x269)+(_0x5ea23f?_0x5ea23f:_0x539fcd(0x836))+'.\x20§eStand\x20still\x20for\x2010\x20seconds.');const _0x3bc62a=pendingTeleports[_0x539fcd(0xc0a)](_0x5fb251);for(let _0x381ddc=0x9;_0x381ddc>=0x0;_0x381ddc--){const _0x1f8cbc=system['runTimeout'](()=>{const _0x5dea90=_0x539fcd;if(!pendingTeleports[_0x5dea90(0xb61)](_0x5fb251))return;const _0x43dfc4=pendingTeleports[_0x5dea90(0xc0a)](_0x5fb251),_0x5b56af=_0x57bcb1[_0x5dea90(0x1f2)],_0x9e0d8=_0x43dfc4[_0x5dea90(0x5fe)],_0x3c425c=Math[_0x5dea90(0x572)](_0x5b56af['x']-_0x9e0d8['x'])>0.2||Math['abs'](_0x5b56af['y']-_0x9e0d8['y'])>0.2||Math['abs'](_0x5b56af['z']-_0x9e0d8['z'])>0.2,_0x2f9fc1=_0x57bcb1[_0x5dea90(0xaf8)]['id']!==_0x43dfc4[_0x5dea90(0x5e0)];if(_0x3c425c){_0x57bcb1[_0x5dea90(0x34f)](_0x5dea90(0x491)),cancelPendingTeleport(_0x5fb251);return;}if(_0x2f9fc1){_0x57bcb1[_0x5dea90(0x34f)](_0x5dea90(0x679)),cancelPendingTeleport(_0x5fb251);return;}if(_0x381ddc===0x0){try{const _0x3eeaac=_0x43dfc4['destination'];_0x57bcb1[_0x5dea90(0x54b)]({'x':_0x3eeaac['x'],'y':_0x3eeaac['y'],'z':_0x3eeaac['z']},_0x3eeaac[_0x5dea90(0xaf8)]),_0x57bcb1[_0x5dea90(0x34f)](_0x5dea90(0x8fd)+_0x43dfc4['colonyName']+'!');}catch(_0x5af282){_0x57bcb1[_0x5dea90(0x34f)]('§cTeleport\x20failed:\x20'+_0x5af282[_0x5dea90(0xc47)]),console[_0x5dea90(0x5b4)](_0x5dea90(0x401),_0x5af282);}pendingTeleports['delete'](_0x5fb251);}else _0x43dfc4['countdown']=_0x381ddc,_0x57bcb1[_0x5dea90(0x34f)]('§eTeleporting\x20in\x20'+_0x381ddc+'\x20seconds...\x20Stand\x20still!');},(0xa-_0x381ddc)*0x14);_0x3bc62a[_0x539fcd(0x579)][_0x539fcd(0x9bb)](_0x1f8cbc);}}function cancelPendingTeleport(_0x4669e2){const _0x4f13c7=_0x1d2622;if(pendingTeleports[_0x4f13c7(0xb61)](_0x4669e2)){const _0x3a5029=pendingTeleports[_0x4f13c7(0xc0a)](_0x4669e2);for(const _0x4e3fcc of _0x3a5029[_0x4f13c7(0x579)]){system[_0x4f13c7(0xcd3)](_0x4e3fcc);}pendingTeleports[_0x4f13c7(0xbcb)](_0x4669e2);}if(pendingArenaTeleports[_0x4f13c7(0xb61)](_0x4669e2)){const _0x951fd0=pendingArenaTeleports[_0x4f13c7(0xc0a)](_0x4669e2);_0x951fd0['intervalId']&&system[_0x4f13c7(0xcd3)](_0x951fd0['intervalId']);pendingArenaTeleports['delete'](_0x4669e2);try{const _0x1b7176=world[_0x4f13c7(0x272)]()['find'](_0x5911a0=>_0x5911a0['id']===_0x4669e2);_0x1b7176&&_0x1b7176[_0x4f13c7(0x25f)]()&&clearPlayerStoredLocation(_0x1b7176);}catch(_0x1722dd){console[_0x4f13c7(0x6a4)](_0x4f13c7(0xb11)+_0x4669e2+_0x4f13c7(0x985));}}}world[_0x1d2622(0x290)][_0x1d2622(0xa66)][_0x1d2622(0xba5)](_0x3ff4d2=>{const _0x123186=_0x1d2622;cancelPendingTeleport(_0x3ff4d2[_0x123186(0xb3c)]);const _0x37b546=[world['getDimension']('overworld'),world[_0x123186(0xbc8)](_0x123186(0x437)),world[_0x123186(0xbc8)]('the_end')];for(const _0x2b937e of _0x37b546){const _0x1c559f=_0x2b937e[_0x123186(0xc8f)]({'type':_0x123186(0x127)})[_0x123186(0x7ae)](_0x3a4ee7=>_0x3a4ee7[_0x123186(0x4ac)](_0x123186(0xb13))),_0xdda7ab=_0x2b937e[_0x123186(0xc8f)]({'type':_0x123186(0xca9)}),_0x5293fe=[..._0x1c559f,..._0xdda7ab];for(const _0x363a44 of _0x5293fe){try{_0x363a44[_0x123186(0x4ac)](_0x123186(0x9d9)+_0x3ff4d2[_0x123186(0xb3c)])&&_0x363a44[_0x123186(0x866)](_0x123186(0x9d9)+_0x3ff4d2[_0x123186(0xb3c)]);}catch(_0x472731){}}}const _0x54ff64=_0x3ff4d2[_0x123186(0x925)];for(const _0x5b179d of activeMatches[_0x123186(0xaf3)]()){if(_0x5b179d[_0x123186(0x95d)]===_0x123186(0x7cd))for(const _0x4c6f3b of Object['values'](_0x5b179d[_0x123186(0xc3c)])){const _0x442d0f=_0x4c6f3b[_0x123186(0x157)][_0x123186(0x5f9)](_0x54ff64);if(_0x442d0f!==-0x1){_0x4c6f3b[_0x123186(0x157)]['splice'](_0x442d0f,0x1);const _0x1e664a=Object[_0x123186(0xaf3)](_0x5b179d[_0x123186(0xc3c)])[_0x123186(0x6b5)]((_0x19e43b,_0xd0d950)=>_0x19e43b+_0xd0d950[_0x123186(0x157)][_0x123186(0xcd6)],0x0),_0x57185b='§c'+_0x54ff64+_0x123186(0x2b7)+_0x4c6f3b['colonyName']+_0x123186(0xc24)+_0x1e664a+'/'+_0x5b179d[_0x123186(0x10d)]+')';for(const _0x58dbcf of Object[_0x123186(0xaf3)](_0x5b179d[_0x123186(0xc3c)])){for(const _0x3cdc00 of _0x58dbcf['players']){const _0x3bc606=world[_0x123186(0x272)]()[_0x123186(0x2d0)](_0x34b917=>_0x34b917[_0x123186(0xa45)]===_0x3cdc00);_0x3bc606&&_0x3bc606[_0x123186(0x34f)](_0x57185b);}}_0x1e664a===0x0&&(_0x5b179d[_0x123186(0x1e0)]&&system[_0x123186(0xcd3)](_0x5b179d[_0x123186(0x1e0)]),activeMatches[_0x123186(0xbcb)](_0x5b179d['id']),console['log'](_0x123186(0x508)+_0x5b179d['id']+_0x123186(0xa1f)));break;}}else{if(_0x5b179d[_0x123186(0x95d)]===_0x123186(0x2d4))for(const _0x178686 of Object[_0x123186(0xaf3)](_0x5b179d[_0x123186(0xc3c)])){const _0x1ea388=_0x178686[_0x123186(0x157)][_0x123186(0x5f9)](_0x54ff64);if(_0x1ea388!==-0x1){_0x5b179d[_0x123186(0xf5)][_0x54ff64]=0x0,_0x5b179d[_0x123186(0x99d)][_0x54ff64]=0x3,_0x178686[_0x123186(0x157)][_0x123186(0x1d7)](_0x1ea388,0x1);const _0x120eb0='§c'+_0x54ff64+_0x123186(0xced);for(const _0x54a7e9 of Object[_0x123186(0xaf3)](_0x5b179d[_0x123186(0xc3c)])){for(const _0x53672e of _0x54a7e9[_0x123186(0x157)]){const _0x2e3495=world[_0x123186(0x272)]()['find'](_0x54b6a8=>_0x54b6a8[_0x123186(0xa45)]===_0x53672e);_0x2e3495&&_0x2e3495[_0x123186(0x34f)](_0x120eb0);}}console[_0x123186(0x6a4)](_0x123186(0x228)+_0x54ff64+_0x123186(0x240));break;}}}}console[_0x123186(0x6a4)](_0x123186(0x7e0)+_0x3ff4d2[_0x123186(0xb3c)]+'\x20left\x20the\x20game\x20-\x20any\x20stored\x20coordinates\x20will\x20be\x20cleaned\x20up\x20on\x20reconnect');}),world['afterEvents'][_0x1d2622(0xc41)]['subscribe'](_0x550147=>{const _0x30a1c0=_0x1d2622,_0x25f223=_0x550147[_0x30a1c0(0x7f3)];if(_0x25f223[_0x30a1c0(0x621)]===_0x30a1c0(0x2d8))cancelPendingTeleport(_0x25f223['id']),clearPlayerStoredLocation(_0x25f223);else{if(_0x25f223[_0x30a1c0(0x621)]==='jerrys_colonies:knight'){const _0x2f830a=_0x25f223['getTags'](),_0x351238=_0x2f830a['find'](_0x406088=>_0x406088[_0x30a1c0(0x42a)]('colony_id:'));if(_0x351238){const _0x4b964e=_0x351238[_0x30a1c0(0x44b)](':')[0x1];if(colonies[_0x30a1c0(0xb61)](_0x4b964e)){const _0x99feb1=colonies['get'](_0x4b964e);if(_0x99feb1[_0x30a1c0(0x2ad)]){const _0x116738=_0x99feb1[_0x30a1c0(0x2ad)][_0x30a1c0(0xcd6)];_0x99feb1[_0x30a1c0(0x2ad)]=_0x99feb1[_0x30a1c0(0x2ad)][_0x30a1c0(0x7ae)](_0x23499e=>_0x23499e['id']!==_0x25f223['id']),_0x99feb1[_0x30a1c0(0x2ad)][_0x30a1c0(0xcd6)]<_0x116738&&(saveColonyData(),console[_0x30a1c0(0x6a4)](_0x30a1c0(0xa9c)+_0x25f223['id']+_0x30a1c0(0x137)+_0x4b964e));}}}citizenHungerData[_0x30a1c0(0xb61)](_0x25f223['id'])&&(citizenHungerData[_0x30a1c0(0xbcb)](_0x25f223['id']),saveCitizenHungerData());}else{if(_0x25f223[_0x30a1c0(0x621)]===_0x30a1c0(0x127)){citizenHungerData['has'](_0x25f223['id'])&&(citizenHungerData[_0x30a1c0(0xbcb)](_0x25f223['id']),saveCitizenHungerData());const _0x123c57=_0x550147[_0x30a1c0(0x1f7)],_0x3f6d88=_0x123c57?.[_0x30a1c0(0x851)];if(_0x3f6d88&&_0x3f6d88[_0x30a1c0(0x621)]===_0x30a1c0(0x5d4))try{const _0x1376b8=_0x25f223['location'],_0x2ba81d=_0x25f223[_0x30a1c0(0xaf8)];let _0x35ba71=_0x25f223['nameTag']||_0x30a1c0(0x673);const _0x50b880=_0x35ba71[_0x30a1c0(0x59d)](/\] (.+)$/);_0x50b880&&(_0x35ba71=_0x50b880[0x1]),system['run'](()=>{const _0x5c2031=_0x30a1c0;try{const _0x21f8c4=_0x2ba81d[_0x5c2031(0x26c)](_0x5c2031(0x5d4),_0x1376b8),_0x3d478e=_0x21f8c4[_0x5c2031(0x460)]();for(const _0x53ab5a of _0x3d478e){_0x21f8c4[_0x5c2031(0x866)](_0x53ab5a);}_0x21f8c4['addTag'](_0x5c2031(0x7a7)),_0x21f8c4['nameTag']=_0x5c2031(0xb12)+_0x35ba71;}catch(_0x44e519){console[_0x5c2031(0x5b4)](_0x5c2031(0x861),_0x44e519);}});}catch(_0x315620){console['warn'](_0x30a1c0(0x5ca),_0x315620);}}}}}),world[_0x1d2622(0x290)][_0x1d2622(0x746)]['subscribe'](_0x530b15=>{const _0x536ca5=_0x1d2622,_0x4b980c=_0x530b15['source'],_0x9ca3bd=_0x530b15['itemStack'];if(_0x9ca3bd?.['typeId']!==_0x536ca5(0x4e2))return;let _0x43b962=null;for(const [_0x5cfbd5,_0x4729c9]of colonies){if(_0x4729c9['ownerId']===_0x4b980c['id']){_0x43b962=_0x4729c9;break;}}if(!_0x43b962){_0x4b980c['sendMessage'](_0x536ca5(0xc34));return;}const _0x186f84=Date[_0x536ca5(0x405)](),_0x410a34=0x48*0x3c*0x3c*0x3e8;_0x43b962['nextMarauderAttack']?_0x43b962[_0x536ca5(0x83a)]+=_0x410a34:_0x43b962['nextMarauderAttack']=_0x186f84+_0x410a34;colonies[_0x536ca5(0x336)](_0x43b962['id'],_0x43b962),saveColonyData();const _0x55f22c=Math[_0x536ca5(0x648)]((_0x43b962[_0x536ca5(0x83a)]-_0x186f84)/(0x3e8*0x3c*0x3c));_0x4b980c[_0x536ca5(0x34f)](_0x536ca5(0xca3)+_0x43b962[_0x536ca5(0xa45)]+'\x22\x20delayed\x20by\x2072\x20hours.\x20Next\x20attack\x20in\x20'+_0x55f22c+'\x20hours.');try{_0x4b980c['runCommandAsync']('playsound\x20item.totem.use\x20@s\x20~\x20~\x20~\x201.0\x201.0');}catch(_0x3a2226){console['warn'](_0x536ca5(0x297),_0x3a2226);}const _0x5af92e=world[_0x536ca5(0x241)]();for(const _0x498605 of _0x5af92e){if(_0x498605['id']!==_0x4b980c['id']){let _0x1ae922=![];for(const [_0x22c25b,_0x478672]of colonies){if(_0x478672['id']===_0x43b962['id']&&(_0x478672[_0x536ca5(0x396)]===_0x498605['id']||_0x478672['members']&&_0x478672[_0x536ca5(0x60a)]['includes'](_0x498605['id']))){_0x1ae922=!![];break;}}_0x1ae922&&_0x498605[_0x536ca5(0x34f)]('§6'+_0x4b980c[_0x536ca5(0xa45)]+_0x536ca5(0x201)+_0x43b962[_0x536ca5(0xa45)]+_0x536ca5(0x921));}}console['log'](_0x536ca5(0x38a)+_0x4b980c['name']+_0x536ca5(0x700)+_0x43b962['name']+_0x536ca5(0x48c)+new Date(_0x43b962[_0x536ca5(0x83a)]));try{_0x4b980c[_0x536ca5(0xd12)](_0x536ca5(0x5e8));}catch(_0xac609){console[_0x536ca5(0x5b4)](_0x536ca5(0xbf0),_0xac609);const _0x1ca65a=_0x4b980c[_0x536ca5(0x299)](_0x536ca5(0x9e4))['container'],_0x12da84=_0x1ca65a[_0x536ca5(0x416)](_0x4b980c[_0x536ca5(0x654)]);_0x12da84&&_0x12da84['typeId']===_0x536ca5(0x4e2)&&(_0x12da84[_0x536ca5(0x8f0)]>0x1?(_0x12da84[_0x536ca5(0x8f0)]-=0x1,_0x1ca65a[_0x536ca5(0xbc1)](_0x4b980c['selectedSlotIndex'],_0x12da84)):_0x1ca65a[_0x536ca5(0xbc1)](_0x4b980c[_0x536ca5(0x654)],undefined));}}),world[_0x1d2622(0x290)][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0x598f0c=>{const _0x366f10=_0x1d2622,_0x14ec63=_0x598f0c['source'],_0x51405b=_0x598f0c['itemStack'];if(_0x51405b?.[_0x366f10(0x621)]!==_0x366f10(0x80d))return;showPlayerIdUI(_0x14ec63);}),world[_0x1d2622(0x290)][_0x1d2622(0x746)]['subscribe'](_0x5448a6=>{const _0x1645cc=_0x1d2622,_0x48f667=_0x5448a6['source'],_0x49dee7=_0x5448a6[_0x1645cc(0x4af)];if(_0x49dee7?.[_0x1645cc(0x621)]!==_0x1645cc(0xb0a))return;system['run'](async()=>{const _0x21b701=_0x1645cc,_0x42651e=_0x48f667[_0x21b701(0xaf8)]['getPlayers']({'location':_0x48f667[_0x21b701(0x1f2)],'maxDistance':0x5,'excludeNames':[_0x48f667['name']]});if(_0x42651e[_0x21b701(0xcd6)]===0x0){_0x48f667['sendMessage'](_0x21b701(0x7ab));return;}const _0x45597c=_0x48f667[_0x21b701(0x8f2)]();let _0x151ca8=null,_0x3fc159=-0x1;for(const _0x2c01c5 of _0x42651e){const _0x622b8=_0x2c01c5[_0x21b701(0x1f2)]['x']-_0x48f667[_0x21b701(0x1f2)]['x'],_0x1842a6=_0x2c01c5['location']['y']-_0x48f667['location']['y'],_0x1043ee=_0x2c01c5[_0x21b701(0x1f2)]['z']-_0x48f667[_0x21b701(0x1f2)]['z'],_0x5ded80=Math[_0x21b701(0x4e0)](_0x622b8*_0x622b8+_0x1842a6*_0x1842a6+_0x1043ee*_0x1043ee);if(_0x5ded80>0x0){const _0x7095dc=_0x622b8/_0x5ded80,_0x20b047=_0x1842a6/_0x5ded80,_0x555acc=_0x1043ee/_0x5ded80,_0x3ca402=_0x45597c['x']*_0x7095dc+_0x45597c['y']*_0x20b047+_0x45597c['z']*_0x555acc;_0x3ca402>_0x3fc159&&_0x3ca402>0.5&&(_0x3fc159=_0x3ca402,_0x151ca8=_0x2c01c5);}}if(!_0x151ca8){_0x48f667['sendMessage']('Look\x20at\x20the\x20player\x20you\x20want\x20to\x20propose\x20to!');return;}const _0x9b914a=_0x48f667,_0x56e574=_0x151ca8,_0x3a461e=playerSpouses[_0x21b701(0xc0a)](_0x9b914a['id']);if(_0x3a461e&&_0x3a461e===_0x56e574['id']){const _0xbcadc3=new MessageFormData()[_0x21b701(0xd1)](_0x21b701(0xaf4))[_0x21b701(0x629)](_0x21b701(0x89a)+_0x56e574['name']+'?')[_0x21b701(0xa5b)]('Cancel')[_0x21b701(0x81d)]('Divorce'),_0x51daf5=await _0xbcadc3['show'](_0x9b914a);if(_0x51daf5[_0x21b701(0x77a)]===0x1){playerSpouses[_0x21b701(0xbcb)](_0x9b914a['id']),playerSpouses[_0x21b701(0xbcb)](_0x56e574['id']),savePlayerSpouses(),_0x9b914a['sendMessage'](_0x21b701(0x54d)+_0x56e574[_0x21b701(0xa45)]+'.'),_0x56e574[_0x21b701(0x34f)](_0x9b914a[_0x21b701(0xa45)]+'\x20has\x20divorced\x20you.');for(const _0x1dc6ca of world[_0x21b701(0x241)]()){_0x1dc6ca['id']!==_0x9b914a['id']&&_0x1dc6ca['id']!==_0x56e574['id']&&_0x1dc6ca[_0x21b701(0x34f)](_0x9b914a[_0x21b701(0xa45)]+_0x21b701(0xb89)+_0x56e574[_0x21b701(0xa45)]+_0x21b701(0x6dd));}}return;}if(playerSpouses[_0x21b701(0xb61)](_0x9b914a['id'])){_0x9b914a[_0x21b701(0x34f)](_0x21b701(0x22a));return;}if(playerSpouses[_0x21b701(0xb61)](_0x56e574['id'])){_0x9b914a['sendMessage'](_0x56e574[_0x21b701(0xa45)]+'\x20is\x20already\x20married\x20to\x20someone\x20else!');return;}_0x9b914a['sendMessage']('Proposing...'),_0x56e574[_0x21b701(0x34f)](_0x9b914a[_0x21b701(0xa45)]+'\x20is\x20proposing\x20to\x20you!');const _0x3565ff=new ActionFormData()['title'](_0x21b701(0x5cc))[_0x21b701(0x629)](_0x9b914a[_0x21b701(0xa45)]+'\x20has\x20proposed\x20to\x20you!\x0a\x0aIf\x20you\x20both\x20own\x20colonies,\x20accepting\x20will\x20merge\x20them.\x20The\x20colony\x20with\x20the\x20lower\x20level\x20will\x20be\x20merged\x20into\x20the\x20higher\x20level\x20colony.')[_0x21b701(0x31f)](_0x21b701(0xd19),_0x21b701(0x933))[_0x21b701(0x31f)](_0x21b701(0x944),_0x21b701(0x96e)),_0xe6c7a2=await _0x3565ff[_0x21b701(0x504)](_0x56e574);if(_0xe6c7a2['canceled']||_0xe6c7a2[_0x21b701(0x77a)]===0x1){_0x56e574[_0x21b701(0x34f)]('You\x20declined\x20the\x20proposal.'),_0x9b914a[_0x21b701(0x34f)](_0x56e574['name']+'\x20declined\x20your\x20proposal.');return;}_0x56e574['sendMessage']('You\x20accepted\x20'+_0x9b914a[_0x21b701(0xa45)]+'\x27s\x20proposal!'),_0x9b914a[_0x21b701(0x34f)](_0x56e574[_0x21b701(0xa45)]+_0x21b701(0x47e)),playerSpouses['set'](_0x9b914a['id'],_0x56e574['id']),playerSpouses['set'](_0x56e574['id'],_0x9b914a['id']),savePlayerSpouses();for(const _0x2a2ea1 of world[_0x21b701(0x241)]()){_0x2a2ea1['id']!==_0x9b914a['id']&&_0x2a2ea1['id']!==_0x56e574['id']&&_0x2a2ea1[_0x21b701(0x34f)](_0x9b914a[_0x21b701(0xa45)]+'\x20and\x20'+_0x56e574[_0x21b701(0xa45)]+'\x20are\x20now\x20married!');}let _0x1cd786=null,_0x625206=null;for(const _0x547277 of colonies[_0x21b701(0xaf3)]()){_0x547277[_0x21b701(0x396)]===_0x9b914a['id']&&(_0x1cd786=_0x547277),_0x547277[_0x21b701(0x396)]===_0x56e574['id']&&(_0x625206=_0x547277);}if(_0x1cd786&&_0x625206)mergeColonies(_0x9b914a,_0x56e574,_0x1cd786,_0x625206);else!_0x1cd786&&!_0x625206?(_0x9b914a['sendMessage'](_0x21b701(0x1c7)),_0x56e574['sendMessage'](_0x21b701(0x1c7))):(_0x9b914a[_0x21b701(0x34f)]('One\x20of\x20you\x20doesn\x27t\x20own\x20a\x20colony,\x20so\x20no\x20merge\x20occurred,\x20but\x20you\x20are\x20now\x20married!'),_0x56e574['sendMessage'](_0x21b701(0x50f)));});}),world[_0x1d2622(0x290)][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0x47946b=>{const _0x306452=_0x1d2622,_0x53baa6=_0x47946b[_0x306452(0xb68)],_0x43caa5=_0x47946b['itemStack'];if(_0x43caa5?.[_0x306452(0x621)]!=='jerrys_colonies:mod_tool')return;if(!_0x53baa6[_0x306452(0x4ac)](_0x306452(0x252))){_0x53baa6[_0x306452(0x34f)]('§cYou\x20must\x20have\x20the\x20\x27admin\x27\x20tag\x20to\x20use\x20the\x20Mod\x20Tool.');return;}const _0x9d3182=_0x53baa6['getViewDirection'](),_0x129cec={'maxDistance':0x6,'includePassableBlocks':![],'includeLiquidBlocks':![]};try{const _0x34a0bb=_0x53baa6[_0x306452(0xaf8)]['getBlockFromRay'](_0x53baa6['location'],_0x9d3182,_0x129cec);if(_0x34a0bb){const _0x3288d3=_0x53baa6['dimension'][_0x306452(0xc8f)]({'location':_0x34a0bb['block'][_0x306452(0x1f2)],'maxDistance':0x2,'type':'jerrys_colonies:colony_flag_entity'});if(_0x3288d3[_0x306452(0xcd6)]>0x0)return;}}catch(_0x3e02e4){}system[_0x306452(0x631)](()=>showModToolMenu(_0x53baa6,null));}),world[_0x1d2622(0x290)][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0x3e62fb=>{const _0x11ba5=_0x1d2622,_0x2e15be=_0x3e62fb[_0x11ba5(0xb68)],_0x3de940=_0x3e62fb[_0x11ba5(0x4af)];if(_0x3de940?.[_0x11ba5(0x621)]===_0x11ba5(0xa3e)){if(!isPlayerInArena(_0x2e15be)){_0x2e15be['sendMessage']('§cThe\x20Match\x20Manager\x20can\x20only\x20be\x20used\x20in\x20the\x20Arena!');return;}system[_0x11ba5(0x631)](()=>showMatchManagerUI(_0x2e15be));}}),system[_0x1d2622(0x290)][_0x1d2622(0x1b9)][_0x1d2622(0xba5)](_0x15e089=>{const _0x226202=_0x1d2622;if(_0x15e089['id']==='jerrys_colonies:flag_interact'){const _0x43fe42=_0x15e089['sourceEntity'];if(_0x43fe42&&_0x43fe42[_0x226202(0x621)]===_0x226202(0x2d8)){const _0x21fe87=_0x15e089[_0x226202(0xc95)]?.[_0x226202(0x1f2)];_0x21fe87&&handleFlagInteraction(_0x43fe42,_0x21fe87);}}else{if(_0x15e089['id']===_0x226202(0x1df))try{const _0x53901f=JSON[_0x226202(0xc35)](_0x15e089[_0x226202(0xc47)]),{packName:_0x5410f8,blueprint:_0x4809b8}=_0x53901f;if(_0x5410f8&&_0x4809b8){const _0x59f9da=registerExpansionBlueprint(_0x5410f8,_0x4809b8);if(_0x59f9da&&!loadedExpansionPacks[_0x226202(0xb61)](_0x5410f8)){loadedExpansionPacks[_0x226202(0x71a)](_0x5410f8);const _0x4fd412=world[_0x226202(0x272)]();for(const _0xc5d83d of _0x4fd412){_0xc5d83d[_0x226202(0x34f)](_0x226202(0xa1b)+_0x5410f8);}console[_0x226202(0x6a4)](_0x226202(0xa6f)+_0x5410f8);}}}catch(_0x326d6d){console[_0x226202(0x7bf)]('Error\x20processing\x20expansion\x20pack\x20registration:',_0x326d6d);}}}),world['beforeEvents'][_0x1d2622(0x76b)][_0x1d2622(0xba5)](_0x441ff1=>{const _0x8c8734=_0x1d2622,_0x152dc5=_0x441ff1['block'],_0x3f30de=_0x441ff1[_0x8c8734(0xb8f)];if(_0x152dc5[_0x8c8734(0x621)]===_0x8c8734(0x666))_0x441ff1[_0x8c8734(0xc21)]=!![],system['run'](()=>{const _0x5c387d=_0x8c8734;handleFlagInteraction(_0x3f30de,_0x152dc5[_0x5c387d(0x1f2)]);});else{if(_0x152dc5[_0x8c8734(0x621)]==='jerrys_colonies:mayor_table'){_0x441ff1[_0x8c8734(0xc21)]=!![];const _0xe4d3eb=Date[_0x8c8734(0x405)](),_0x11dcc1=blockInteractionCooldowns[_0x8c8734(0xc0a)](_0x3f30de['id'])||0x0;if(_0xe4d3eb-_0x11dcc1<BLOCK_INTERACTION_COOLDOWN)return;blockInteractionCooldowns[_0x8c8734(0x336)](_0x3f30de['id'],_0xe4d3eb),system[_0x8c8734(0x631)](()=>{const _0x483581=_0x8c8734;let _0x5e61cf=null,_0x3a327d=Infinity;for(const _0x274cad of colonies[_0x483581(0xaf3)]()){try{!_0x274cad[_0x483581(0x61a)]&&(_0x274cad[_0x483581(0x61a)]=[_0x274cad[_0x483581(0x1f2)]]);for(const _0x726383 of _0x274cad['flagLocations']){const _0x38ec0b=_0x3f30de[_0x483581(0x1f2)]['x']-_0x726383['x'],_0x211cdd=_0x3f30de['location']['y']-_0x726383['y'],_0x5acd12=_0x3f30de[_0x483581(0x1f2)]['z']-_0x726383['z'],_0x5b5d85=Math[_0x483581(0x4e0)](_0x38ec0b*_0x38ec0b+_0x211cdd*_0x211cdd+_0x5acd12*_0x5acd12);if(_0x5b5d85<=0x64&&_0x5b5d85<_0x3a327d){_0x3a327d=_0x5b5d85,_0x5e61cf=_0x274cad;break;}}}catch(_0x1d5963){console[_0x483581(0x5b4)](_0x483581(0x475),_0x1d5963);}}_0x5e61cf?(console[_0x483581(0x6a4)](_0x483581(0x23d)+_0x5e61cf[_0x483581(0xa45)]+_0x483581(0x57d)+_0x5e61cf['id']+')'),showColonyManagementForm(_0x3f30de,_0x5e61cf['location'],_0x5e61cf)):_0x3f30de[_0x483581(0x34f)](_0x483581(0xa36));});}else{if(_0x152dc5[_0x8c8734(0x621)]==='jerrys_colonies:taxation_table'){_0x441ff1['cancel']=!![];const _0x30c421=Date[_0x8c8734(0x405)](),_0xe9d35=taxationUICooldowns[_0x8c8734(0xc0a)](_0x3f30de[_0x8c8734(0xa45)])||0x0;if(_0x30c421-_0xe9d35<0x3e8)return;taxationUICooldowns[_0x8c8734(0x336)](_0x3f30de[_0x8c8734(0xa45)],_0x30c421),system[_0x8c8734(0x633)](()=>{const _0x5ea459=_0x8c8734;let _0x5c5a69=null,_0x34797c=Infinity;for(const _0xe65e0e of colonies[_0x5ea459(0xaf3)]()){try{!_0xe65e0e['flagLocations']&&(_0xe65e0e[_0x5ea459(0x61a)]=[_0xe65e0e[_0x5ea459(0x1f2)]]);for(const _0x207e90 of _0xe65e0e['flagLocations']){const _0x8a342b=_0x3f30de[_0x5ea459(0x1f2)]['x']-_0x207e90['x'],_0x18794f=_0x3f30de[_0x5ea459(0x1f2)]['y']-_0x207e90['y'],_0x5d2603=_0x3f30de[_0x5ea459(0x1f2)]['z']-_0x207e90['z'],_0x22c239=Math[_0x5ea459(0x4e0)](_0x8a342b*_0x8a342b+_0x18794f*_0x18794f+_0x5d2603*_0x5d2603);if(_0x22c239<=0x64&&_0x22c239<_0x34797c){_0x34797c=_0x22c239,_0x5c5a69=_0xe65e0e;break;}}}catch(_0x38c199){console[_0x5ea459(0x5b4)](_0x5ea459(0x475),_0x38c199);}}if(_0x5c5a69){console[_0x5ea459(0x6a4)](_0x5ea459(0x4cf)+_0x5c5a69[_0x5ea459(0xa45)]+_0x5ea459(0x57d)+_0x5c5a69['id']+')');const _0x54b62b=_0x5c5a69[_0x5ea459(0x396)]===_0x3f30de['id'],_0x575583=_0x5c5a69['citizens']['includes'](_0x3f30de[_0x5ea459(0xa45)]),_0x4245a9=hasColonyPermission(_0x3f30de,_0x5c5a69,_0x5ea459(0x559));if(_0x54b62b||_0x4245a9)showTaxationManagementForm(_0x3f30de,_0x5c5a69);else _0x575583?showCitizenTaxStatusForm(_0x3f30de,_0x5c5a69):_0x3f30de[_0x5ea459(0x34f)](_0x5ea459(0x537));}else _0x3f30de[_0x5ea459(0x34f)]('§cNo\x20colony\x20flags\x20found\x20within\x20100\x20blocks.\x20Place\x20a\x20Taxation\x20Table\x20within\x20100\x20blocks\x20of\x20any\x20colony\x20flag\x20to\x20use\x20it.');},0x5);}else{if(_0x152dc5[_0x8c8734(0x621)]==='jerrys_colonies:blueprint_workbench'){_0x441ff1[_0x8c8734(0xc21)]=!![];const _0xf2f7df=Date[_0x8c8734(0x405)](),_0x2f8760=blockInteractionCooldowns[_0x8c8734(0xc0a)](_0x3f30de['id'])||0x0;if(_0xf2f7df-_0x2f8760<BLOCK_INTERACTION_COOLDOWN)return;blockInteractionCooldowns[_0x8c8734(0x336)](_0x3f30de['id'],_0xf2f7df),system[_0x8c8734(0x631)](async()=>{const _0x24030d=_0x8c8734;if(!isModuleEnabled(null,_0x24030d(0x369))){_0x3f30de[_0x24030d(0x34f)](_0x24030d(0x2c4));return;}let _0x42e897=null,_0x224196=Infinity;for(const _0x1a65b0 of colonies[_0x24030d(0xaf3)]()){try{!_0x1a65b0[_0x24030d(0x61a)]&&(_0x1a65b0[_0x24030d(0x61a)]=[_0x1a65b0[_0x24030d(0x1f2)]]);for(const _0x4b361c of _0x1a65b0[_0x24030d(0x61a)]){const _0x18da45=_0x3f30de[_0x24030d(0x1f2)]['x']-_0x4b361c['x'],_0x71939d=_0x3f30de[_0x24030d(0x1f2)]['y']-_0x4b361c['y'],_0x22a07f=_0x3f30de[_0x24030d(0x1f2)]['z']-_0x4b361c['z'],_0x424168=Math[_0x24030d(0x4e0)](_0x18da45*_0x18da45+_0x71939d*_0x71939d+_0x22a07f*_0x22a07f);if(_0x424168<=0x64&&_0x424168<_0x224196){_0x224196=_0x424168,_0x42e897=_0x1a65b0;break;}}}catch(_0x2f3d7f){console['warn'](_0x24030d(0x9df),_0x2f3d7f);}}if(_0x42e897){console[_0x24030d(0x6a4)]('Blueprint\x20workbench\x20found\x20colony:\x20'+_0x42e897[_0x24030d(0xa45)]+'\x20(ID:\x20'+_0x42e897['id']+')');const _0x237ff0=_0x42e897[_0x24030d(0x396)]===_0x3f30de['id'],_0x68de7a=hasColonyPermission(_0x3f30de,_0x42e897,_0x24030d(0xbfa));_0x237ff0||_0x68de7a?await showConstructionMenu(_0x3f30de,_0x42e897):_0x3f30de[_0x24030d(0x34f)]('§cYou\x20don\x27t\x20have\x20the\x20necessary\x20permissions\x20to\x20place\x20blueprints.');}else _0x3f30de[_0x24030d(0x34f)](_0x24030d(0x93f));});}else{if(_0x152dc5[_0x8c8734(0x621)]===_0x8c8734(0x6b9)){const _0x1c873d=getColonyAtLocation(_0x152dc5[_0x8c8734(0x1f2)]);if(_0x1c873d){const _0x42f4a0=colonies['get'](_0x1c873d['id']);if(_0x42f4a0){!_0x42f4a0[_0x8c8734(0x59f)]&&(_0x42f4a0[_0x8c8734(0x59f)]=[]);const _0x13f924=Math[_0x8c8734(0x648)](_0x152dc5[_0x8c8734(0x1f2)]['x']),_0x4e7275=Math['floor'](_0x152dc5[_0x8c8734(0x1f2)]['y']),_0x4f14e2=Math['floor'](_0x152dc5[_0x8c8734(0x1f2)]['z']),_0x182cec=_0x42f4a0[_0x8c8734(0x59f)]['some'](_0x35df92=>Math[_0x8c8734(0x648)](_0x35df92['x'])===_0x13f924&&Math[_0x8c8734(0x648)](_0x35df92['y'])===_0x4e7275&&Math['floor'](_0x35df92['z'])===_0x4f14e2);!_0x182cec&&(_0x42f4a0['foodCrateLocations'][_0x8c8734(0x9bb)]({'x':_0x152dc5[_0x8c8734(0x1f2)]['x'],'y':_0x152dc5[_0x8c8734(0x1f2)]['y'],'z':_0x152dc5[_0x8c8734(0x1f2)]['z']}),colonies[_0x8c8734(0x336)](_0x42f4a0['id'],_0x42f4a0),saveColonyData()),!foodCratePoints['has'](_0x42f4a0['id'])&&(foodCratePoints['set'](_0x42f4a0['id'],0x0),saveFoodCrateData());}if(isLandProtectionEnabled()){const _0x1ebb07=_0x1c873d[_0x8c8734(0x396)]===_0x3f30de['id'],_0x471e42=_0x1c873d[_0x8c8734(0x709)][_0x8c8734(0x22d)](_0x3f30de['name']),_0x3085c6=hasColonyPermission(_0x3f30de,_0x1c873d,_0x8c8734(0x787));if(!_0x1ebb07&&!(_0x471e42&&_0x3085c6)){_0x441ff1[_0x8c8734(0xc21)]=!![],_0x3f30de['sendMessage'](_0x8c8734(0x50a)+_0x1c873d[_0x8c8734(0xa45)]+_0x8c8734(0x3ab));return;}}}const _0x4126c1=Date[_0x8c8734(0x405)](),_0x1a1a31=foodCrateInteractionCooldowns[_0x8c8734(0xc0a)](_0x3f30de['id'])||0x0;if(_0x4126c1-_0x1a1a31<FOOD_CRATE_INTERACTION_COOLDOWN)return;foodCrateInteractionCooldowns[_0x8c8734(0x336)](_0x3f30de['id'],_0x4126c1),_0x441ff1[_0x8c8734(0xc21)]=!![],system[_0x8c8734(0x631)](async()=>{const _0x4ba165=_0x8c8734;try{await ensureFoodCrateDataLoaded(_0x152dc5),await showFoodCrateUI(_0x3f30de,_0x152dc5);}catch(_0x52128e){console[_0x4ba165(0x7bf)](_0x4ba165(0x474),_0x52128e),_0x3f30de['sendMessage'](_0x4ba165(0x56d)+_0x52128e[_0x4ba165(0xc47)]);}});}else{if(_0x152dc5['typeId']===_0x8c8734(0xa7f)){const _0x2cf836=Date['now'](),_0x2b2c10=mailboxInteractionCooldowns['get'](_0x3f30de['id'])||0x0;if(_0x2cf836-_0x2b2c10<MAILBOX_INTERACTION_COOLDOWN)return;mailboxInteractionCooldowns[_0x8c8734(0x336)](_0x3f30de['id'],_0x2cf836),_0x441ff1[_0x8c8734(0xc21)]=!![],system[_0x8c8734(0x631)](async()=>{const _0x483c38=_0x8c8734;try{await showMailboxUI(_0x3f30de,_0x152dc5);}catch(_0x31c47d){console[_0x483c38(0x7bf)](_0x483c38(0x9fe),_0x31c47d),_0x3f30de[_0x483c38(0x34f)]('§cError\x20opening\x20mailbox:\x20'+_0x31c47d[_0x483c38(0xc47)]);}});}else{if(_0x152dc5['typeId']===_0x8c8734(0x1bc)){_0x441ff1[_0x8c8734(0xc21)]=!![];const _0x564773=Date['now'](),_0x48243e=blockInteractionCooldowns[_0x8c8734(0xc0a)](_0x3f30de['id'])||0x0;if(_0x564773-_0x48243e<BLOCK_INTERACTION_COOLDOWN)return;blockInteractionCooldowns[_0x8c8734(0x336)](_0x3f30de['id'],_0x564773),system['run'](async()=>{const _0x375a6d=_0x8c8734;try{await showBallotBoxUI(_0x3f30de,_0x152dc5);}catch(_0x472d07){console[_0x375a6d(0x7bf)](_0x375a6d(0x3f2),_0x472d07),_0x3f30de['sendMessage'](_0x375a6d(0x596)+_0x472d07[_0x375a6d(0xc47)]);}});}else{if(_0x152dc5['typeId']===_0x8c8734(0xa9e)){_0x441ff1['cancel']=!![];const _0x3009e1=Date['now'](),_0x53125b=bountyBoardCooldowns[_0x8c8734(0xc0a)](_0x3f30de['id'])||0x0;if(_0x3009e1-_0x53125b<BOUNTY_BOARD_COOLDOWN)return;bountyBoardCooldowns[_0x8c8734(0x336)](_0x3f30de['id'],_0x3009e1),system['run'](async()=>{const _0x5835f0=_0x8c8734;try{await showBountyBoardUI(_0x3f30de);}catch(_0x21819c){console[_0x5835f0(0x7bf)](_0x5835f0(0xc38),_0x21819c),_0x3f30de[_0x5835f0(0x34f)](_0x5835f0(0xb38)+_0x21819c[_0x5835f0(0xc47)]);}});}}}}}}}}});async function showColonyFlagsMenu(_0xc435b7,_0x19c9ab){const _0xa638f0=_0x1d2622;try{!_0x19c9ab[_0xa638f0(0x61a)]&&(_0x19c9ab[_0xa638f0(0x61a)]=[_0x19c9ab[_0xa638f0(0x1f2)]],colonies['set'](_0x19c9ab['id'],_0x19c9ab),saveColonyData());const _0x43aef7=getGlobalMaxFlags(),_0x1b48e2=new ActionFormData()[_0xa638f0(0xd1)](_0x19c9ab['name']+_0xa638f0(0x2be))[_0xa638f0(0x629)](_0xa638f0(0x145)+_0x19c9ab[_0xa638f0(0x61a)][_0xa638f0(0xcd6)]+'/'+_0x43aef7+'\x20flag'+(_0x19c9ab[_0xa638f0(0x61a)]['length']>0x1?'s':'')+_0xa638f0(0xb97));for(let _0x283c0d=0x0;_0x283c0d<_0x19c9ab[_0xa638f0(0x61a)][_0xa638f0(0xcd6)];_0x283c0d++){const _0x7c5c4c=_0x19c9ab[_0xa638f0(0x61a)][_0x283c0d],_0x585c59=_0x283c0d===0x0;!_0x7c5c4c[_0xa638f0(0xa45)]&&(_0x7c5c4c[_0xa638f0(0xa45)]=_0x585c59?'Primary\x20Flag':_0xa638f0(0xa76)+(_0x283c0d+0x1));const _0x56eea4=_0x7c5c4c[_0xa638f0(0xa45)]+'\x20('+Math[_0xa638f0(0x648)](_0x7c5c4c['x'])+',\x20'+Math[_0xa638f0(0x648)](_0x7c5c4c['y'])+',\x20'+Math[_0xa638f0(0x648)](_0x7c5c4c['z'])+')'+(_0x585c59?_0xa638f0(0x3ea):'');_0x1b48e2['button'](_0x56eea4,'textures/ui/world_glyph_color');}const _0x330c2c=await _0x1b48e2[_0xa638f0(0x504)](_0xc435b7);if(_0x330c2c[_0xa638f0(0x9d4)])return;const _0x3f0b7d=_0x330c2c[_0xa638f0(0x77a)],_0x2850bf=_0x19c9ab[_0xa638f0(0x61a)][_0x3f0b7d];if(!_0x2850bf)return;await showFlagOptionsMenu(_0xc435b7,_0x19c9ab,_0x2850bf,_0x3f0b7d);}catch(_0x1becb9){console[_0xa638f0(0x5b4)](_0xa638f0(0x65e),_0x1becb9),_0xc435b7[_0xa638f0(0x34f)](_0xa638f0(0xa4d));}}async function showFlagOptionsMenu(_0x41ed6f,_0x53375a,_0x414598,_0x5c8f0a){const _0x8ea7cf=_0x1d2622;try{const _0x19405d=_0x5c8f0a===0x0,_0x46d6b3=_0x53375a[_0x8ea7cf(0x396)]===_0x41ed6f['id'],_0x3e0c92=hasColonyPermission(_0x41ed6f,_0x53375a,_0x8ea7cf(0x661));!_0x414598[_0x8ea7cf(0xa45)]&&(_0x414598[_0x8ea7cf(0xa45)]=_0x19405d?_0x8ea7cf(0xa26):_0x8ea7cf(0xa76)+(_0x5c8f0a+0x1));const _0xf16fdc=new ActionFormData()[_0x8ea7cf(0xd1)]('Flag\x20Management')[_0x8ea7cf(0x629)]('§7'+_0x414598[_0x8ea7cf(0xa45)]+_0x8ea7cf(0x85e)+Math[_0x8ea7cf(0x648)](_0x414598['x'])+',\x20'+Math['floor'](_0x414598['y'])+',\x20'+Math['floor'](_0x414598['z'])+(_0x19405d?_0x8ea7cf(0x28d):''))[_0x8ea7cf(0x31f)](_0x8ea7cf(0x2bd),_0x8ea7cf(0x8c8));_0x46d6b3&&(_0xf16fdc[_0x8ea7cf(0x31f)]('Rename\x20Flag',_0x8ea7cf(0x707)),!_0x19405d&&(_0xf16fdc['button']('Set\x20as\x20Primary\x20Flag',_0x8ea7cf(0x8cf)),_0xf16fdc[_0x8ea7cf(0x31f)]('Delete\x20Flag','textures/ui/trash')));const _0x27f36c=await _0xf16fdc[_0x8ea7cf(0x504)](_0x41ed6f);if(_0x27f36c[_0x8ea7cf(0x9d4)])return;if(_0x27f36c['selection']===0x0)try{const _0x4fbbe0={'x':_0x414598['x'],'y':_0x414598['y']+0x1,'z':_0x414598['z'],'dimension':_0x41ed6f[_0x8ea7cf(0xaf8)]},_0x6d7c7a=_0x414598['name']||(_0x19405d?_0x8ea7cf(0x359):_0x8ea7cf(0x400)+(_0x5c8f0a+0x1));initiateDelayedTeleport(_0x41ed6f,_0x4fbbe0,_0x53375a[_0x8ea7cf(0xa45)],_0x6d7c7a),console['log'](_0x8ea7cf(0x224)+JSON[_0x8ea7cf(0x1db)](_0x4fbbe0));}catch(_0x140f26){console[_0x8ea7cf(0x5b4)](_0x8ea7cf(0xb2a),_0x140f26),_0x41ed6f['sendMessage'](_0x8ea7cf(0xb35)+_0x140f26[_0x8ea7cf(0xc47)]);}else{if(_0x46d6b3){if(_0x27f36c[_0x8ea7cf(0x77a)]===0x1)await showFlagRenameForm(_0x41ed6f,_0x53375a,_0x414598,_0x5c8f0a);else{if(_0x27f36c[_0x8ea7cf(0x77a)]===0x2&&!_0x19405d){const _0x25bacf=new ActionFormData()[_0x8ea7cf(0xd1)](_0x8ea7cf(0x47c))[_0x8ea7cf(0x629)]('Are\x20you\x20sure\x20you\x20want\x20to\x20make\x20this\x20flag\x20the\x20primary\x20flag\x20for\x20your\x20colony?\x20This\x20will\x20reorganize\x20your\x20colony\x27s\x20territory.')[_0x8ea7cf(0x31f)](_0x8ea7cf(0x4b6),'textures/ui/confirm')[_0x8ea7cf(0x31f)](_0x8ea7cf(0x468),'textures/ui/cancel'),_0x3366b7=await _0x25bacf[_0x8ea7cf(0x504)](_0x41ed6f);if(_0x3366b7[_0x8ea7cf(0x9d4)]||_0x3366b7[_0x8ea7cf(0x77a)]===0x1)return;const _0x37b1c7=_0x53375a[_0x8ea7cf(0x61a)][_0x5c8f0a];_0x53375a[_0x8ea7cf(0x61a)]['splice'](_0x5c8f0a,0x1),_0x53375a[_0x8ea7cf(0x61a)][_0x8ea7cf(0x3b3)](_0x37b1c7),_0x53375a[_0x8ea7cf(0x1f2)]={..._0x37b1c7},colonies['set'](_0x53375a['id'],_0x53375a),saveColonyData(),_0x41ed6f[_0x8ea7cf(0x34f)]('§a'+(_0x414598['name']||'Flag')+_0x8ea7cf(0xbfe));}else{if(_0x27f36c[_0x8ea7cf(0x77a)]===0x3&&!_0x19405d){const _0xb88231=new ActionFormData()[_0x8ea7cf(0xd1)](_0x8ea7cf(0x60c))[_0x8ea7cf(0x629)](_0x8ea7cf(0x1c0))['button'](_0x8ea7cf(0xa04),_0x8ea7cf(0x889))[_0x8ea7cf(0x31f)](_0x8ea7cf(0x236),'textures/ui/trash')[_0x8ea7cf(0x31f)](_0x8ea7cf(0x468),'textures/ui/cancel'),_0x26b863=await _0xb88231['show'](_0x41ed6f);if(_0x26b863[_0x8ea7cf(0x9d4)]||_0x26b863[_0x8ea7cf(0x77a)]===0x2)return;const _0x2b88bf=_0x26b863['selection']===0x0;try{_0x41ed6f[_0x8ea7cf(0x34f)](_0x8ea7cf(0x203));const _0xfe8dae=_0x41ed6f['dimension'],_0x6f6856=_0x414598,_0x322846=_0xfe8dae[_0x8ea7cf(0xc8f)]({'type':'jerrys_colonies:citizen','location':_0x6f6856,'maxDistance':COLONY_RADIUS}),_0x1edfa7=[..._0x53375a[_0x8ea7cf(0x61a)]];_0x1edfa7[_0x8ea7cf(0x1d7)](_0x5c8f0a,0x1);let _0x4a3403=0x0;for(const _0x304a09 of _0x322846){try{const _0x5603e0=_0x304a09[_0x8ea7cf(0x460)](),_0x3a8872=_0x5603e0[_0x8ea7cf(0x2d0)](_0x349940=>_0x349940['startsWith'](_0x8ea7cf(0x2a0)));if(!_0x3a8872||!_0x3a8872[_0x8ea7cf(0x22d)](_0x53375a['id']))continue;let _0xb5a876=!![],_0x140834=null,_0x18c729=Number[_0x8ea7cf(0x180)];for(const _0x30e2f3 of _0x1edfa7){const _0x84a375=_0x304a09[_0x8ea7cf(0x1f2)]['x']-_0x30e2f3['x'],_0x4eea9c=_0x304a09[_0x8ea7cf(0x1f2)]['y']-_0x30e2f3['y'],_0x411e96=_0x304a09[_0x8ea7cf(0x1f2)]['z']-_0x30e2f3['z'],_0x304aaf=_0x84a375*_0x84a375+_0x4eea9c*_0x4eea9c+_0x411e96*_0x411e96,_0x2f72c4=_0x304a09[_0x8ea7cf(0x1f2)]['x']-_0x6f6856['x'],_0x2d3620=_0x304a09[_0x8ea7cf(0x1f2)]['y']-_0x6f6856['y'],_0x531908=_0x304a09['location']['z']-_0x6f6856['z'],_0x113273=_0x2f72c4*_0x2f72c4+_0x2d3620*_0x2d3620+_0x531908*_0x531908;if(_0x304aaf<_0x113273){_0xb5a876=![];break;}_0x304aaf<_0x18c729&&(_0x18c729=_0x304aaf,_0x140834=_0x30e2f3);}if(_0xb5a876&&_0x140834){const _0x49bde8=Math[_0x8ea7cf(0x4e0)](_0x18c729)-COLONY_RADIUS;_0x49bde8>0xa&&_0x304a09[_0x8ea7cf(0x54b)]({'x':_0x140834['x']+(Math[_0x8ea7cf(0x247)]()*0xa-0x5),'y':_0x140834['y'],'z':_0x140834['z']+(Math[_0x8ea7cf(0x247)]()*0xa-0x5)}),_0x4a3403++;}}catch(_0x490c2b){console['warn'](_0x8ea7cf(0x7fa),_0x490c2b);}}const _0x3a89c7=_0xfe8dae[_0x8ea7cf(0xc8f)]({'type':_0x8ea7cf(0x7f6),'location':_0x6f6856,'maxDistance':0x2});let _0x2a6b40=![];for(const _0x10ccbf of _0x3a89c7){try{_0x10ccbf['remove'](),_0x2a6b40=!![];}catch(_0x4f0d4e){console[_0x8ea7cf(0x5b4)](_0x8ea7cf(0x87b),_0x4f0d4e);}}_0x53375a[_0x8ea7cf(0x61a)]['splice'](_0x5c8f0a,0x1),colonies['set'](_0x53375a['id'],_0x53375a),saveColonyData();if(_0x2b88bf)try{const _0xa97b48=_0x41ed6f[_0x8ea7cf(0x299)](_0x8ea7cf(0xd17))[_0x8ea7cf(0x26e)],_0x44a8ce=new ItemStack(_0x8ea7cf(0x91f),0x1),_0x34be4b=_0xa97b48[_0x8ea7cf(0x3c5)](_0x44a8ce),_0x510c5e=_0x6f6856[_0x8ea7cf(0xa45)]||_0x8ea7cf(0x31b);if(_0x34be4b)_0x41ed6f[_0x8ea7cf(0x34f)]('§a'+_0x510c5e+'\x20successfully\x20deleted.\x20'+_0x4a3403+'\x20citizens\x20reassigned.\x20A\x20colony\x20flag\x20item\x20has\x20been\x20returned\x20to\x20your\x20inventory.');else{const _0x44b57f={'x':_0x41ed6f[_0x8ea7cf(0x1f2)]['x'],'y':_0x41ed6f[_0x8ea7cf(0x1f2)]['y'],'z':_0x41ed6f[_0x8ea7cf(0x1f2)]['z']};_0xfe8dae[_0x8ea7cf(0x3ec)](_0x44a8ce,_0x44b57f),_0x41ed6f['sendMessage']('§a'+_0x510c5e+_0x8ea7cf(0x39f)+_0x4a3403+_0x8ea7cf(0xcb1));}}catch(_0x5612ce){console['warn'](_0x8ea7cf(0x5eb),_0x5612ce);const _0x1fc172=_0x6f6856[_0x8ea7cf(0xa45)]||'Flag';_0x41ed6f[_0x8ea7cf(0x34f)]('§a'+_0x1fc172+_0x8ea7cf(0x39f)+_0x4a3403+_0x8ea7cf(0x239));}else{const _0x3a502e=_0x6f6856['name']||_0x8ea7cf(0x31b);_0x41ed6f[_0x8ea7cf(0x34f)]('§a'+_0x3a502e+_0x8ea7cf(0x39f)+_0x4a3403+_0x8ea7cf(0xb7e));}_0x53375a[_0x8ea7cf(0x61a)][_0x8ea7cf(0xcd6)]>0x1&&await showColonyFlagsMenu(_0x41ed6f,_0x53375a);}catch(_0x24fefc){console[_0x8ea7cf(0x5b4)]('Error\x20deleting\x20flag:',_0x24fefc),_0x41ed6f[_0x8ea7cf(0x34f)](_0x8ea7cf(0x959));}}}}}}}catch(_0x25a2a0){console[_0x8ea7cf(0x5b4)](_0x8ea7cf(0x482),_0x25a2a0),_0x41ed6f[_0x8ea7cf(0x34f)]('§cAn\x20error\x20occurred\x20while\x20managing\x20the\x20flag.');}}async function showFlagRenameForm(_0x3d4e33,_0x1e5816,_0x7a2f22,_0x162eeb){const _0x49591c=_0x1d2622;try{const _0x3c73a8=_0x162eeb===0x0,_0x173c14=_0x7a2f22[_0x49591c(0xa45)]||(_0x3c73a8?_0x49591c(0xa26):'Flag\x20#'+(_0x162eeb+0x1)),_0x4bee9e=new ModalFormData()['title'](_0x49591c(0x1f6))['textField'](_0x49591c(0x1f0),_0x49591c(0x5e7),_0x173c14),_0x52170c=await _0x4bee9e['show'](_0x3d4e33);if(_0x52170c[_0x49591c(0x9d4)])return;const _0x5100a9=_0x52170c[_0x49591c(0x36e)][0x0];if(!_0x5100a9||typeof _0x5100a9!=='string'){_0x3d4e33[_0x49591c(0x34f)]('§cInvalid\x20name\x20provided.');return;}const _0x22e092=_0x5100a9['trim']();if(_0x22e092[_0x49591c(0xcd6)]===0x0){_0x3d4e33[_0x49591c(0x34f)](_0x49591c(0xa99));return;}if(_0x22e092[_0x49591c(0xcd6)]>0x32){_0x3d4e33[_0x49591c(0x34f)](_0x49591c(0x751));return;}_0x7a2f22[_0x49591c(0xa45)]=_0x22e092,colonies[_0x49591c(0x336)](_0x1e5816['id'],_0x1e5816),saveColonyData(),_0x3d4e33[_0x49591c(0x34f)]('§aFlag\x20renamed\x20to:\x20§6'+_0x22e092),await showFlagOptionsMenu(_0x3d4e33,_0x1e5816,_0x7a2f22,_0x162eeb);}catch(_0x5649d8){console[_0x49591c(0x5b4)](_0x49591c(0x1b0),_0x5649d8),_0x3d4e33[_0x49591c(0x34f)]('§cAn\x20error\x20occurred\x20while\x20renaming\x20the\x20flag.');}}async function handleFlagInteraction(_0x5ce7e8,_0x5ed71a){const _0x2df06d=_0x1d2622;try{let _0x30013c=null;for(const _0x54ce3a of colonies[_0x2df06d(0xaf3)]()){if(_0x54ce3a[_0x2df06d(0x1f2)]['x']===_0x5ed71a['x']&&_0x54ce3a['location']['y']===_0x5ed71a['y']&&_0x54ce3a[_0x2df06d(0x1f2)]['z']===_0x5ed71a['z']){_0x30013c=_0x54ce3a;break;}if(_0x54ce3a[_0x2df06d(0x61a)]){for(const _0x2469c4 of _0x54ce3a[_0x2df06d(0x61a)]){if(_0x2469c4['x']===_0x5ed71a['x']&&_0x2469c4['y']===_0x5ed71a['y']&&_0x2469c4['z']===_0x5ed71a['z']){_0x30013c=_0x54ce3a;break;}}if(_0x30013c)break;}}if(_0x30013c){const _0x2a1c23=_0x30013c[_0x2df06d(0x396)]===_0x5ce7e8['id'];_0x2a1c23?await showColonyManagementForm(_0x5ce7e8,_0x5ed71a,_0x30013c):(_0x5ce7e8['sendMessage']('§7This\x20colony\x20belongs\x20to\x20§6'+_0x30013c['owner']+'§7.'),_0x5ce7e8[_0x2df06d(0x34f)](_0x2df06d(0x22b)));return;}const _0x3a7c4e={'blockFace':'Up','faceLocation':_0x5ed71a};showColonyCreationForm(_0x5ce7e8,_0x3a7c4e);}catch(_0x3142cd){console[_0x2df06d(0x5b4)](_0x2df06d(0x7b2),_0x3142cd),_0x5ce7e8[_0x2df06d(0x34f)](_0x2df06d(0xed));}}async function showColonyManagementForm(_0xb20abb,_0x1b8e81,_0x2e9212=null){const _0x1b4aef=_0x1d2622;try{let _0x285432=_0x2e9212;if(!_0x285432){_0x285432=Array['from'](colonies[_0x1b4aef(0xaf3)]())[_0x1b4aef(0x2d0)](_0x206c4=>_0x206c4[_0x1b4aef(0x1f2)]['x']===_0x1b8e81['x']&&_0x206c4[_0x1b4aef(0x1f2)]['y']===_0x1b8e81['y']&&_0x206c4['location']['z']===_0x1b8e81['z']);if(!_0x285432)for(const _0x273a19 of colonies['values']()){if(_0x273a19[_0x1b4aef(0x61a)]){for(const _0x933dd7 of _0x273a19[_0x1b4aef(0x61a)]){if(_0x933dd7['x']===_0x1b8e81['x']&&_0x933dd7['y']===_0x1b8e81['y']&&_0x933dd7['z']===_0x1b8e81['z']){_0x285432=_0x273a19;break;}}if(_0x285432)break;}}}if(!_0x285432){_0xb20abb[_0x1b4aef(0x34f)](_0x1b4aef(0x9d2));return;}const _0x2cf053=_0x285432[_0x1b4aef(0x396)]===_0xb20abb['id'],_0x285f07=_0x285432[_0x1b4aef(0x709)][_0x1b4aef(0x22d)](_0xb20abb['name']),_0xa43598=getColonyPopulation(_0x285432),_0x1fe406=getEnabledMayorModules(),_0x68581b=hasColonyPermission(_0xb20abb,_0x285432,_0x1b4aef(0xb4e)),_0x51f803=hasColonyPermission(_0xb20abb,_0x285432,_0x1b4aef(0x2ca)),_0x5148de=hasColonyPermission(_0xb20abb,_0x285432,_0x1b4aef(0x661));!_0x285432['flagLocations']&&(_0x285432['flagLocations']=[_0x285432[_0x1b4aef(0x1f2)]],colonies[_0x1b4aef(0x336)](_0x285432['id'],_0x285432),saveColonyData());const _0x9d995d=_0x285432[_0x1b4aef(0x61a)]['length'],_0x49dce8=calculateColonyLevel(_0x285432),_0x1a1ade=new ActionFormData()[_0x1b4aef(0xd1)]('§l§c§l§l')[_0x1b4aef(0x629)]('§l'+_0x285432['name']+_0x1b4aef(0xca4)+_0x49dce8+_0x1b4aef(0x997)+_0x285432['owner']+_0x1b4aef(0x188)+_0xa43598[_0x1b4aef(0x8e4)]+'\x20('+_0xa43598[_0x1b4aef(0x157)]+_0x1b4aef(0x1a6)+_0x9d995d);_0x1fe406[_0x1b4aef(0x2c2)](_0x49729c=>{const _0x317f00=_0x1b4aef;if(_0x49729c['id']===_0x317f00(0x369))return;if(['change_flag_color',_0x317f00(0x19b),_0x317f00(0x4d3),_0x317f00(0x1cc)]['includes'](_0x49729c['id'])&&!_0x2cf053)return;if(_0x49729c['id']===_0x317f00(0x3dc)&&!_0x2cf053&&!_0x68581b)return;if(_0x49729c['id']===_0x317f00(0x2ca)&&!_0x2cf053&&!_0x51f803)return;if(_0x49729c['id']===_0x317f00(0x2df)&&(!_0x285f07||_0x2cf053))return;if(_0x49729c['id']===_0x317f00(0xd05)&&!_0x2cf053&&!_0x5148de)return;_0x1a1ade[_0x317f00(0x31f)](''+_0x49729c['name'],_0x49729c['icon']||undefined);});const _0x56fc62=await _0x1a1ade['show'](_0xb20abb);if(_0x56fc62[_0x1b4aef(0x9d4)])return;let _0x3adc27=_0x1fe406[_0x1b4aef(0x7ae)](_0x3e4122=>{const _0x5e79eb=_0x1b4aef;if(_0x3e4122['id']===_0x5e79eb(0x369))return![];if([_0x5e79eb(0x519),_0x5e79eb(0x19b),_0x5e79eb(0x4d3),'delete_colony'][_0x5e79eb(0x22d)](_0x3e4122['id'])&&!_0x2cf053)return![];if(_0x3e4122['id']===_0x5e79eb(0x3dc)&&!_0x2cf053&&!_0x68581b)return![];if(_0x3e4122['id']===_0x5e79eb(0x2ca)&&!_0x2cf053&&!_0x51f803)return![];if(_0x3e4122['id']==='leave_colony'&&(!_0x285f07||_0x2cf053))return![];if(_0x3e4122['id']===_0x5e79eb(0xd05)&&!_0x2cf053&&!_0x5148de)return![];return!![];});const _0x2bdf9d=_0x3adc27[_0x56fc62[_0x1b4aef(0x77a)]];if(!_0x2bdf9d)return;switch(_0x2bdf9d['id']){case _0x1b4aef(0x991):await showColonyInfo(_0xb20abb,_0x285432);break;case _0x1b4aef(0xd05):if(_0x2cf053||_0x5148de)await showColonyFlagsMenu(_0xb20abb,_0x285432);break;case'change_flag_color':if(_0x2cf053)await changeColonyFlagColor(_0xb20abb,_0x285432);break;case _0x1b4aef(0x3dc):if(_0x2cf053||_0x68581b)await manageCitizens(_0xb20abb,_0x285432);break;case'diplomacy':if(_0x2cf053||_0x51f803)await manageDiplomacy(_0xb20abb,_0x285432);break;case _0x1b4aef(0x19b):if(_0x2cf053)await transferColonyOwnership(_0xb20abb,_0x285432);break;case'rename_colony':if(_0x2cf053)await renameColony(_0xb20abb,_0x285432);break;case _0x1b4aef(0x2df):if(_0x285f07&&!_0x2cf053)await leaveColony(_0xb20abb,_0x285432);break;case'delete_colony':if(_0x2cf053)await confirmAndDeleteColony(_0xb20abb,_0x285432);break;default:_0xb20abb['sendMessage'](_0x1b4aef(0x4b3));}}catch(_0x202c34){_0xb20abb[_0x1b4aef(0x34f)](_0x1b4aef(0xd0a)),console[_0x1b4aef(0x7bf)](_0x202c34);}}async function transferColonyOwnership(_0x4c2c55,_0xb1989){const _0x12efce=_0x1d2622;try{const _0x594647=_0xb1989[_0x12efce(0x709)][_0x12efce(0xc89)](_0x6ead12=>world[_0x12efce(0x272)]()[_0x12efce(0x2d0)](_0x2b92ca=>_0x2b92ca['name']===_0x6ead12))[_0x12efce(0x7ae)](_0x41ba3c=>_0x41ba3c&&_0x41ba3c['id']!==_0x4c2c55['id']);if(_0x594647[_0x12efce(0xcd6)]===0x0){_0x4c2c55[_0x12efce(0x34f)](_0x12efce(0x68a));return;}const _0x334187=new ActionFormData()['title'](_0x12efce(0x93c)+_0xb1989[_0x12efce(0xa45)])[_0x12efce(0x629)](_0x12efce(0x1c1));_0x594647['forEach'](_0xc4bd5b=>_0x334187[_0x12efce(0x31f)](_0xc4bd5b[_0x12efce(0xa45)],'textures/ui/icon_multiplayer'));const _0x1a95cd=await _0x334187[_0x12efce(0x504)](_0x4c2c55);if(_0x1a95cd[_0x12efce(0x9d4)])return;const _0x45d6ed=_0x594647[_0x1a95cd[_0x12efce(0x77a)]],_0x341b1c=new ActionFormData()[_0x12efce(0xd1)](_0x12efce(0xcab))['body']('§7Are\x20you\x20sure\x20you\x20want\x20to\x20transfer\x20ownership\x20of\x20§6'+_0xb1989['name']+_0x12efce(0x293)+_0x45d6ed[_0x12efce(0xa45)]+_0x12efce(0xa0c))[_0x12efce(0x31f)](_0x12efce(0xc96),_0x12efce(0x933))[_0x12efce(0x31f)](_0x12efce(0x6e3),_0x12efce(0x96e)),_0x42276b=await _0x341b1c[_0x12efce(0x504)](_0x4c2c55);if(_0x42276b[_0x12efce(0x9d4)]||_0x42276b[_0x12efce(0x77a)]===0x1)return;const _0x3348f3=_0xb1989[_0x12efce(0xcd0)],_0x5e5651=_0xb1989['ownerId'];_0xb1989[_0x12efce(0xcd0)]=_0x45d6ed['name'],_0xb1989['ownerId']=_0x45d6ed['id'];!_0xb1989['citizens'][_0x12efce(0x22d)](_0x4c2c55[_0x12efce(0xa45)])&&(_0xb1989['citizens'][_0x12efce(0x9bb)](_0x4c2c55[_0x12efce(0xa45)]),_0xb1989['taxation']&&_0xb1989[_0x12efce(0x67d)]['enabled']&&!_0xb1989[_0x12efce(0x67d)]['citizens'][_0x4c2c55['name']]&&(_0xb1989[_0x12efce(0x67d)][_0x12efce(0x709)][_0x4c2c55['name']]={'paid':![],'lastPayment':null,'overdue':![],'reminders':[]}));colonies[_0x12efce(0x336)](_0xb1989['id'],_0xb1989),saveColonyData(),_0x4c2c55[_0x12efce(0x34f)](_0x12efce(0xd07)+_0xb1989['name']+_0x12efce(0xc65)+_0x45d6ed[_0x12efce(0xa45)]+_0x12efce(0x63a)),_0x45d6ed[_0x12efce(0x34f)](_0x12efce(0xab1)+_0xb1989[_0x12efce(0xa45)]+'§a!');const _0x45b7c2=world[_0x12efce(0x272)]()[_0x12efce(0x7ae)](_0x3d1f2e=>_0xb1989[_0x12efce(0x709)][_0x12efce(0x22d)](_0x3d1f2e[_0x12efce(0xa45)])||_0x3d1f2e['id']===_0xb1989[_0x12efce(0x396)]);_0x45b7c2['forEach'](_0x375cca=>{const _0x8004b0=_0x12efce;_0x375cca['id']!==_0x4c2c55['id']&&_0x375cca['id']!==_0x45d6ed['id']&&_0x375cca['sendMessage']('§e'+_0x3348f3+_0x8004b0(0x9ba)+_0xb1989['name']+_0x8004b0(0x963)+_0x45d6ed['name']+_0x8004b0(0x4fe));});}catch(_0x1b641b){_0x4c2c55[_0x12efce(0x34f)](_0x12efce(0x6ee)),console[_0x12efce(0x5b4)](_0x12efce(0x6d8),_0x1b641b);}}async function showColonyInfo(_0x550cd4,_0x5b2419){const _0x167b4b=_0x1d2622,_0x3428c6=new Date(_0x5b2419[_0x167b4b(0x53b)])[_0x167b4b(0x235)](),_0x4af736=getColonyPopulation(_0x5b2419);let _0x57149b='';if(_0x5b2419[_0x167b4b(0x9b0)]&&_0x5b2419[_0x167b4b(0x9b0)]['enabled']){const _0x189304=Date[_0x167b4b(0x405)](),_0x3e49a8=Math[_0x167b4b(0xb51)](0x0,Math[_0x167b4b(0x648)]((_0x5b2419[_0x167b4b(0x9b0)][_0x167b4b(0xc6c)]-_0x189304)/(0x3e8*0x3c*0x3c*0x18))),_0x4376c9=Object[_0x167b4b(0xc70)](_0x5b2419[_0x167b4b(0x9b0)][_0x167b4b(0x261)])[_0x167b4b(0xcd6)];_0x57149b=_0x167b4b(0x95c)+(_0x167b4b(0x25b)+_0x4376c9+'\x0a')+(_0x167b4b(0x33e)+_0x3e49a8+_0x167b4b(0xb1d))+(_0x167b4b(0x31a)+_0x5b2419[_0x167b4b(0x9b0)][_0x167b4b(0x352)][_0x167b4b(0xcd6)]+_0x167b4b(0xb8d));}else _0x57149b=_0x167b4b(0xa5a);const _0x252595=_0x167b4b(0x476)+_0x5b2419['name']+_0x167b4b(0x5e6)+(_0x167b4b(0xc9a)+_0x5b2419[_0x167b4b(0xcd0)]+'\x0a')+_0x167b4b(0x49a)+(_0x167b4b(0x2fe)+_0x4af736[_0x167b4b(0x157)]+'\x0a')+(_0x167b4b(0x7c5)+_0x4af736[_0x167b4b(0x195)]+'\x0a')+(_0x167b4b(0x27a)+_0x4af736['total']+'\x0a')+('-\x20Flag\x20Color:\x20'+_0x5b2419['color']['name']+'\x0a')+('-\x20Created:\x20'+_0x3428c6+'\x0a')+(_0x167b4b(0x8d2)+_0x5b2419[_0x167b4b(0x1f2)]['x']+',\x20'+_0x5b2419[_0x167b4b(0x1f2)]['y']+',\x20'+_0x5b2419[_0x167b4b(0x1f2)]['z'])+_0x57149b;_0x550cd4[_0x167b4b(0x34f)](_0x252595);}function updateColonyMemberNameTags(_0x539ff0){const _0x47539d=_0x1d2622;try{const _0x1830e3=getColorCode(_0x539ff0['color'][_0x47539d(0x768)]),_0x12b1a4=_0x1830e3+'['+_0x539ff0[_0x47539d(0xa45)]+']§r';for(const _0x3edda4 of world[_0x47539d(0x241)]()){const _0x418d98=_0x3edda4[_0x47539d(0x460)](),_0x55e440=_0x418d98[_0x47539d(0xb49)](_0x18e488=>_0x18e488===_0x47539d(0x3ae)+_0x539ff0['id']);if(_0x55e440||_0x3edda4['id']===_0x539ff0['ownerId']||_0x539ff0['citizens'][_0x47539d(0x22d)](_0x3edda4[_0x47539d(0xa45)])){const _0x28a074=_0x3edda4['nameTag']||_0x3edda4['name'];let _0x283b9e=_0x3edda4[_0x47539d(0xa45)];const _0x37f453=/§[0-9a-f]\[.*?\]§r\s+(.+)/,_0x1970e6=_0x28a074['match'](_0x37f453);if(_0x1970e6)_0x283b9e=_0x1970e6[0x1];else _0x28a074!==_0x3edda4['name']&&!_0x28a074[_0x47539d(0x42a)](_0x1830e3)&&(_0x283b9e=_0x28a074);_0x3edda4[_0x47539d(0xa7c)]=_0x12b1a4+'\x20'+_0x283b9e;}}for(const _0x4da6f4 of[world['getDimension'](_0x47539d(0x182)),world[_0x47539d(0xbc8)](_0x47539d(0x437)),world[_0x47539d(0xbc8)]('the_end')]){try{const _0x1cc454=_0x4da6f4[_0x47539d(0xc8f)]({'type':'jerrys_colonies:citizen'});for(const _0x352d11 of _0x1cc454){const _0x5bfea5=_0x352d11[_0x47539d(0x460)](),_0x24185d=_0x5bfea5['some'](_0x378442=>_0x378442===_0x47539d(0x30d)+_0x539ff0['id']);if(_0x24185d){const _0x328b07=_0x352d11['nameTag']||_0x47539d(0x673);let _0x62a1a0=_0x47539d(0x673);const _0x196a76=/§[0-9a-f]\[.*?\]§r\s+(.+)/,_0x1fc6f7=_0x328b07[_0x47539d(0x59d)](_0x196a76);if(_0x1fc6f7)_0x62a1a0=_0x1fc6f7[0x1];else _0x328b07!==_0x47539d(0x673)&&!_0x328b07[_0x47539d(0x42a)](_0x1830e3)&&(_0x62a1a0=_0x328b07);const _0x1a7cdc=_0x62a1a0['replace'](/§[0-9a-f]\[.*?\]§r\s*/g,'');_0x352d11[_0x47539d(0xa7c)]=_0x12b1a4+'\x20'+_0x1a7cdc;}}}catch(_0x2b5469){console[_0x47539d(0x5b4)](_0x47539d(0x24e)+_0x2b5469['message']);}}}catch(_0x1434f8){console[_0x47539d(0x5b4)](_0x47539d(0x50e),_0x1434f8);}}async function changeColonyFlagColor(_0x370b55,_0x195f86){const _0x75f521=_0x1d2622;try{const _0x11adeb=await showColorPackSelection(_0x370b55,_0x195f86,_0x75f521(0x860));if(!_0x11adeb){_0x370b55[_0x75f521(0x34f)](_0x75f521(0x5e9));return;}_0x195f86[_0x75f521(0x16a)]=_0x11adeb,colonies[_0x75f521(0x336)](_0x195f86['id'],_0x195f86),saveColonyData(),updateColonyMemberNameTags(_0x195f86);!_0x195f86[_0x75f521(0x61a)]&&(_0x195f86[_0x75f521(0x61a)]=[_0x195f86[_0x75f521(0x1f2)]]);const _0x4aa285=_0x370b55[_0x75f521(0xaf8)];let _0x5b69b1=0x0;for(const _0x5a2bc2 of _0x195f86[_0x75f521(0x61a)]){const _0xac3866=_0x4aa285[_0x75f521(0xc8f)]({'type':_0x75f521(0x7f6),'location':_0x5a2bc2,'maxDistance':0x1});if(_0xac3866[_0x75f521(0xcd6)]>0x0){const _0x22fc8d=_0xac3866[0x0];_0x11adeb['event']&&system[_0x75f521(0x633)](()=>{const _0x270b6b=_0x75f521;try{_0x22fc8d[_0x270b6b(0x25f)]()?(_0x22fc8d['triggerEvent'](_0x11adeb[_0x270b6b(0x76c)]),_0x5b69b1++):console[_0x270b6b(0x5b4)]('Flag\x20entity\x20at\x20'+_0x5a2bc2['x']+','+_0x5a2bc2['y']+','+_0x5a2bc2['z']+_0x270b6b(0xc78));}catch(_0xe2e8a4){console[_0x270b6b(0x5b4)](_0x270b6b(0x44e)+_0x5a2bc2['x']+','+_0x5a2bc2['y']+','+_0x5a2bc2['z']+':\x20'+_0xe2e8a4[_0x270b6b(0xc47)]);}},0x5);}}_0x5b69b1>0x0||_0x195f86[_0x75f521(0x61a)][_0x75f521(0xcd6)]>0x0?_0x370b55[_0x75f521(0x34f)]('§aChanged\x20flag\x20color\x20to\x20'+_0x11adeb[_0x75f521(0xa45)]+'!'):_0x370b55[_0x75f521(0x34f)]('§cCould\x20not\x20find\x20any\x20flag\x20entities\x20for\x20this\x20colony!');}catch(_0x470734){console['warn']('Error\x20changing\x20flag\x20color:',_0x470734),_0x370b55[_0x75f521(0x34f)](_0x75f521(0x606));}}function getColonyPopulation(_0x5cbbe6){const _0x21f075=_0x1d2622;try{let _0x123035=0x0;for(const _0x2da12d of[world['getDimension'](_0x21f075(0x182)),world[_0x21f075(0xbc8)](_0x21f075(0x437)),world['getDimension'](_0x21f075(0x18d))]){try{const _0x252f31=_0x2da12d['getEntities']({'type':'jerrys_colonies:citizen','tags':[_0x21f075(0x30d)+_0x5cbbe6['id']]}),_0x17df50=_0x2da12d[_0x21f075(0xc8f)]({'type':'jerrys_colonies:knight','tags':[_0x21f075(0x30d)+_0x5cbbe6['id']]});_0x123035+=_0x252f31[_0x21f075(0xcd6)]+_0x17df50[_0x21f075(0xcd6)];}catch(_0x135c8d){}}const _0x1b18a9=_0x5cbbe6[_0x21f075(0x709)]['length'],_0x5a23cd=_0x123035+_0x1b18a9;return{'npcs':_0x123035,'players':_0x1b18a9,'total':_0x5a23cd};}catch(_0x314224){return{'npcs':0x0,'players':_0x5cbbe6[_0x21f075(0x709)][_0x21f075(0xcd6)],'total':_0x5cbbe6['citizens']['length']};}}const inviteCooldowns=new Map();async function manageCitizens(_0x12627a,_0x45f0a3){const _0x165433=_0x1d2622;try{const _0x28a024=getColonyPopulation(_0x45f0a3),_0x52aae5=_0x12627a[_0x165433(0xaf8)]['getEntities']({'type':_0x165433(0x127),'location':_0x45f0a3[_0x165433(0x1f2)],'maxDistance':0x32}),_0xf5cc2a=_0x52aae5[_0x165433(0x7ae)](_0x1fe830=>{const _0x210fc4=_0x165433,_0xe80237=_0x1fe830[_0x210fc4(0x460)]();return!_0xe80237[_0x210fc4(0xb49)](_0x4164f8=>_0x4164f8['startsWith'](_0x210fc4(0x30d)));}),_0x159259=world[_0x165433(0x272)]()[_0x165433(0x7ae)](_0x5add27=>_0x5add27['id']!==_0x12627a['id']),_0x371fa2=[];_0xf5cc2a[_0x165433(0xcd6)]>0x0&&_0x371fa2[_0x165433(0x9bb)]({'text':_0x165433(0xa61),'icon':'textures/ui/plus'});_0x159259[_0x165433(0xcd6)]>0x0&&_0x371fa2[_0x165433(0x9bb)]({'text':'Invite\x20Player','icon':'textures/ui/icon_multiplayer'});const _0x53eb49=getGlobalPrices(),_0x4f3241=_0x53eb49[_0x165433(0xa59)]||{'item':_0x165433(0x4d5),'amount':0x1},_0x36c4f8=_0x4f3241[_0x165433(0xcd8)][_0x165433(0x15a)](_0x165433(0x524),'')[_0x165433(0x15a)](/_/g,'\x20');_0x371fa2[_0x165433(0x9bb)]({'text':_0x165433(0xc7f)+_0x4f3241[_0x165433(0x8f0)]+'\x20'+_0x36c4f8+')','icon':_0x165433(0x23a)+_0x36c4f8[_0x165433(0x15a)](/ /g,'_')},{'text':_0x165433(0x67b),'icon':_0x165433(0x937)},{'text':'View\x20Colony\x20Members','icon':'textures/ui/multiplayer_glyph_color'},{'text':'Manage\x20Player\x20Ranks','icon':_0x165433(0x664)},{'text':_0x165433(0x244),'icon':_0x165433(0x96e)});const _0x23c2bf=new ActionFormData()[_0x165433(0xd1)](_0x165433(0x17c))['body'](_0x165433(0xab6)+_0x28a024['players']+'\x0a-NPCs:\x20'+_0x28a024[_0x165433(0x195)]+'\x0a-\x20Total:\x20'+_0x28a024[_0x165433(0x8e4)]+_0x165433(0x3e5)+_0xf5cc2a[_0x165433(0xcd6)]+_0x165433(0x542)+_0x159259[_0x165433(0xcd6)]);_0x371fa2['forEach'](_0x540eb1=>_0x23c2bf[_0x165433(0x31f)](_0x540eb1['text'],_0x540eb1[_0x165433(0x637)]));const _0x2e5054=await _0x23c2bf[_0x165433(0x504)](_0x12627a);if(_0x2e5054[_0x165433(0x9d4)])return;const _0xd9f061=_0x2e5054[_0x165433(0x77a)];console['log']('[MANAGE_CITIZENS]\x20Button\x20selected:\x20\x22'+_0x371fa2[_0xd9f061][_0x165433(0x931)]+'\x22');if(_0x371fa2[_0xd9f061]['text']['startsWith'](_0x165433(0xa61)))console[_0x165433(0x6a4)](_0x165433(0x8ba)),await claimNearbyCitizens(_0x12627a,_0x45f0a3,_0xf5cc2a);else{if(_0x371fa2[_0xd9f061][_0x165433(0x931)][_0x165433(0x42a)]('Invite\x20Player')){console[_0x165433(0x6a4)](_0x165433(0xba8));const _0x48fa67=Date[_0x165433(0x405)](),_0x46f7e6=inviteCooldowns[_0x165433(0xc0a)](_0x12627a['id'])||0x0,_0x57e6a5=0xa*0x3e8;if(_0x48fa67-_0x46f7e6<_0x57e6a5){const _0x32437c=Math[_0x165433(0x831)]((_0x57e6a5-(_0x48fa67-_0x46f7e6))/0x3e8);_0x12627a[_0x165433(0x34f)]('§cYou\x20must\x20wait\x20'+_0x32437c+_0x165433(0x453));return;}await invitePlayerToColony(_0x12627a,_0x45f0a3,_0x159259),inviteCooldowns[_0x165433(0x336)](_0x12627a['id'],_0x48fa67);}else{if(_0x371fa2[_0xd9f061][_0x165433(0x931)]['startsWith']('Invite\x20Citizen'))console[_0x165433(0x6a4)](_0x165433(0x6bd)),await purchaseCitizen(_0x12627a,_0x45f0a3);else{if(_0x371fa2[_0xd9f061][_0x165433(0x931)][_0x165433(0x42a)](_0x165433(0x67b)))console[_0x165433(0x6a4)](_0x165433(0x179)),await rallyCitizens(_0x12627a,_0x45f0a3);else{if(_0x371fa2[_0xd9f061][_0x165433(0x931)][_0x165433(0x42a)](_0x165433(0xab2)))console[_0x165433(0x6a4)](_0x165433(0xbd4)),await viewColonyMembers(_0x12627a,_0x45f0a3);else{if(_0x371fa2[_0xd9f061][_0x165433(0x931)][_0x165433(0x42a)](_0x165433(0x15d)))console[_0x165433(0x6a4)](_0x165433(0x163)),await showRankManagementMenu(_0x12627a,_0x45f0a3);else _0x371fa2[_0xd9f061]['text'][_0x165433(0x42a)](_0x165433(0x244))?(console[_0x165433(0x6a4)](_0x165433(0x3d6)),await removePlayerFromColony(_0x12627a,_0x45f0a3)):console[_0x165433(0x5b4)]('[MANAGE_CITIZENS]\x20Unknown\x20button\x20selected:\x20\x22'+_0x371fa2[_0xd9f061][_0x165433(0x931)]+'\x22');}}}}}}catch(_0x344e68){console[_0x165433(0x5b4)](_0x165433(0xa77),_0x344e68),_0x12627a[_0x165433(0x34f)](_0x165433(0x3cb));}}async function showConstructionMenu(_0x1ae972,_0x188c28=null){await showBlueprintPacksMenu(_0x1ae972,_0x188c28);}async function showBlueprintPacksMenu(_0x2178f9,_0x2dfa4c=null){const _0x23eeb4=_0x1d2622,_0x3388a1=new Map();if(isPackVisible('structure_pack_plains')){const _0x1204d4=[];for(const _0x235dc6 of BLUEPRINTS){_0x1204d4[_0x23eeb4(0x9bb)](_0x235dc6);}_0x1204d4[_0x23eeb4(0xcd6)]>0x0&&_0x3388a1[_0x23eeb4(0x336)]('Plains\x20Pack',{'name':_0x23eeb4(0x365),'blueprints':_0x1204d4,'isExpansion':![]});}const _0x17d89c={'Desert\x20Pack':_0x23eeb4(0xbd3),'Vehicles\x20Pack':'structure_pack_vehicles'};for(const _0x4e0648 of expansionBlueprints['values']()){const _0x558b6d=_0x4e0648[_0x23eeb4(0xacd)]||_0x23eeb4(0x986),_0x1e6fdf=_0x17d89c[_0x558b6d];if(_0x1e6fdf&&!isPackVisible(_0x1e6fdf))continue;!_0x3388a1[_0x23eeb4(0xb61)](_0x558b6d)&&_0x3388a1[_0x23eeb4(0x336)](_0x558b6d,{'name':_0x558b6d,'blueprints':[],'isExpansion':!![]}),_0x3388a1[_0x23eeb4(0xc0a)](_0x558b6d)[_0x23eeb4(0x644)][_0x23eeb4(0x9bb)](_0x4e0648);}if(_0x3388a1[_0x23eeb4(0x5c1)]===0x0){_0x2178f9[_0x23eeb4(0x34f)](_0x23eeb4(0x37d));return;}if(_0x3388a1[_0x23eeb4(0x5c1)]===0x1){const _0x1015d7=Array[_0x23eeb4(0x2f9)](_0x3388a1['values']())[0x0];await showPackBlueprintsMenu(_0x2178f9,_0x1015d7,_0x2dfa4c);return;}const _0x5d41f8=new ActionFormData()[_0x23eeb4(0xd1)](_0x23eeb4(0x14f))[_0x23eeb4(0x629)](_0x23eeb4(0xa43)),_0x42a929=Array[_0x23eeb4(0x2f9)](_0x3388a1[_0x23eeb4(0xaf3)]());for(const _0x5b9bf5 of _0x42a929){const _0x213a37=_0x5b9bf5[_0x23eeb4(0x994)]?_0x23eeb4(0x4c2):_0x23eeb4(0x793);_0x5d41f8[_0x23eeb4(0x31f)](_0x5b9bf5[_0x23eeb4(0xa45)]+_0x23eeb4(0x706)+_0x5b9bf5[_0x23eeb4(0x644)][_0x23eeb4(0xcd6)]+'\x20blueprints',_0x213a37);}const _0x58b8ee=await _0x5d41f8['show'](_0x2178f9);if(_0x58b8ee['canceled'])return;const _0x5d06fc=_0x42a929[_0x58b8ee[_0x23eeb4(0x77a)]];await showPackBlueprintsMenu(_0x2178f9,_0x5d06fc,_0x2dfa4c);}async function showPackBlueprintsMenu(_0x227e34,_0x266d6f,_0x3e0c22=null){const _0x4fb4b8=_0x1d2622,_0x197bd9=getGlobalPrices(),_0x509cb5=[];for(const _0x38f4ab of _0x266d6f[_0x4fb4b8(0x644)]){const _0x5e632d=_0x38f4ab[_0x4fb4b8(0x5cb)],_0x4ba399=_0x266d6f[_0x4fb4b8(0x994)]?{'item':_0x4fb4b8(0x387),'amount':0xa}:{'item':_0x4fb4b8(0xbe1),'amount':0x14};_0x509cb5[_0x4fb4b8(0x9bb)]({'typeId':_0x38f4ab[_0x4fb4b8(0x621)],'name':_0x5e632d,'cost':_0x197bd9[_0x38f4ab[_0x4fb4b8(0x621)]]||_0x4ba399,'isExpansion':_0x266d6f['isExpansion']});}const _0x3eda5a=new ActionFormData()[_0x4fb4b8(0xd1)](_0x266d6f['name']+'\x20-\x20Blueprints')[_0x4fb4b8(0x629)](_0x4fb4b8(0xc44));_0x509cb5[_0x4fb4b8(0x2c2)](_0x22484d=>{const _0x308673=_0x4fb4b8,_0x3fa02b=_0x22484d[_0x308673(0x994)]?_0x308673(0x4c2):_0x308673(0x793);_0x3eda5a['button'](_0x22484d[_0x308673(0xa45)]+'\x0a'+_0x22484d[_0x308673(0xb27)][_0x308673(0x8f0)]+'\x20'+_0x22484d['cost'][_0x308673(0xcd8)][_0x308673(0x15a)](_0x308673(0x524),'')[_0x308673(0x15a)]('_','\x20'),_0x3fa02b);}),_0x3eda5a[_0x4fb4b8(0x31f)]('§c§lBack\x20to\x20Packs');const _0x2375d9=await _0x3eda5a[_0x4fb4b8(0x504)](_0x227e34);if(_0x2375d9['canceled'])return;if(_0x2375d9[_0x4fb4b8(0x77a)]===_0x509cb5[_0x4fb4b8(0xcd6)]){await showBlueprintPacksMenu(_0x227e34,_0x3e0c22);return;}const _0x21795a=_0x509cb5[_0x2375d9[_0x4fb4b8(0x77a)]],_0x2984ff=_0x227e34[_0x4fb4b8(0x299)](_0x4fb4b8(0xd17))[_0x4fb4b8(0x26e)];let _0x538be9=-0x1,_0x10f4f1=null,_0x5281ae=0x0;for(let _0x35c54a=0x0;_0x35c54a<_0x2984ff['size'];_0x35c54a++){const _0x1aaadb=_0x2984ff['getItem'](_0x35c54a);_0x1aaadb&&_0x1aaadb['typeId']===_0x21795a['cost'][_0x4fb4b8(0xcd8)]&&(_0x5281ae+=_0x1aaadb[_0x4fb4b8(0x8f0)],_0x538be9===-0x1&&(_0x538be9=_0x35c54a,_0x10f4f1=_0x1aaadb));}if(_0x5281ae<_0x21795a[_0x4fb4b8(0xb27)][_0x4fb4b8(0x8f0)]){_0x227e34[_0x4fb4b8(0x34f)](_0x4fb4b8(0x731)+_0x21795a[_0x4fb4b8(0xb27)][_0x4fb4b8(0x8f0)]+'\x20'+_0x21795a[_0x4fb4b8(0xb27)]['item'][_0x4fb4b8(0x15a)](_0x4fb4b8(0x524),'')+'\x20to\x20buy\x20this\x20blueprint!'),await showPackBlueprintsMenu(_0x227e34,_0x266d6f,_0x3e0c22);return;}let _0x258f23=_0x21795a['cost']['amount'];for(let _0x42d144=0x0;_0x42d144<_0x2984ff[_0x4fb4b8(0x5c1)]&&_0x258f23>0x0;_0x42d144++){const _0x4dfeeb=_0x2984ff[_0x4fb4b8(0x416)](_0x42d144);_0x4dfeeb&&_0x4dfeeb['typeId']===_0x21795a[_0x4fb4b8(0xb27)][_0x4fb4b8(0xcd8)]&&(_0x4dfeeb[_0x4fb4b8(0x8f0)]>_0x258f23?(_0x4dfeeb[_0x4fb4b8(0x8f0)]-=_0x258f23,_0x2984ff[_0x4fb4b8(0xbc1)](_0x42d144,_0x4dfeeb),_0x258f23=0x0):(_0x258f23-=_0x4dfeeb['amount'],_0x2984ff[_0x4fb4b8(0xbc1)](_0x42d144,undefined)));}const _0x4648f9=new ItemStack(_0x21795a['typeId'],0x1);let _0x5dc55c=![];for(let _0x11eead=0x0;_0x11eead<_0x2984ff['size'];_0x11eead++){if(!_0x2984ff['getItem'](_0x11eead)){_0x2984ff[_0x4fb4b8(0xbc1)](_0x11eead,_0x4648f9),_0x5dc55c=!![];break;}}!_0x5dc55c?(_0x227e34[_0x4fb4b8(0xaf8)][_0x4fb4b8(0x3ec)](_0x4648f9,_0x227e34[_0x4fb4b8(0x1f2)]),_0x227e34[_0x4fb4b8(0x34f)](_0x4fb4b8(0x696))):_0x227e34['sendMessage'](_0x4fb4b8(0xce5)+_0x21795a[_0x4fb4b8(0xa45)]+'!'),await showPackBlueprintsMenu(_0x227e34,_0x266d6f,_0x3e0c22);}async function claimNearbyCitizens(_0x14b93f,_0x3e5d3c,_0x230ff3){const _0x104c70=_0x1d2622;try{if(_0x230ff3[_0x104c70(0xcd6)]===0x0){_0x14b93f[_0x104c70(0x34f)](_0x104c70(0x498));return;}const _0x5b8776=new ModalFormData()['title'](_0x104c70(0xc91)+_0x3e5d3c['name'])[_0x104c70(0x556)](_0x104c70(0x37a),'Max:\x20'+_0x230ff3[_0x104c70(0xcd6)],'1'),_0x22cf30=await _0x5b8776[_0x104c70(0x504)](_0x14b93f);if(_0x22cf30[_0x104c70(0x9d4)])return;const _0x158441=parseInt(_0x22cf30[_0x104c70(0x36e)][0x0]);if(isNaN(_0x158441)||_0x158441<0x1){_0x14b93f[_0x104c70(0x34f)](_0x104c70(0x50b));return;}const _0x3261ca=Math[_0x104c70(0x2c1)](_0x158441,_0x230ff3['length']);let _0x2de830=0x0;for(let _0x15658a=0x0;_0x15658a<_0x3261ca;_0x15658a++){const _0x29e4f5=_0x230ff3[_0x15658a];try{_0x29e4f5[_0x104c70(0x875)](_0x104c70(0x30d)+_0x3e5d3c['id']),_0x29e4f5[_0x104c70(0x875)](_0x104c70(0x8bc)+_0x3e5d3c[_0x104c70(0xa45)]),_0x29e4f5[_0x104c70(0x875)](_0x104c70(0x2c8)+_0x14b93f[_0x104c70(0xa45)]),_0x2de830++;}catch(_0x5c4c2f){console[_0x104c70(0x5b4)](_0x104c70(0x314),_0x5c4c2f);}}_0x2de830>0x0?(updateColonyMemberNameTags(_0x3e5d3c),_0x14b93f[_0x104c70(0x34f)]('§aSuccessfully\x20claimed\x20'+_0x2de830+_0x104c70(0x75d)+(_0x2de830>0x1?'s':'')+_0x104c70(0x69c)+_0x3e5d3c['name']+'!'),saveColonyData()):_0x14b93f[_0x104c70(0x34f)]('§cFailed\x20to\x20claim\x20any\x20citizens.\x20Please\x20try\x20again.');}catch(_0x4c574c){console[_0x104c70(0x5b4)](_0x104c70(0x5db),_0x4c574c),_0x14b93f['sendMessage']('§cError\x20claiming\x20citizens.\x20Please\x20try\x20again.');}}async function purchaseCitizen(_0xe4fbed,_0x4d2e28){const _0x20f716=_0x1d2622;try{console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Starting\x20purchase\x20for\x20player\x20'+_0xe4fbed[_0x20f716(0xa45)]+_0x20f716(0x442)+_0x4d2e28[_0x20f716(0xa45)]);const _0x1d855e=[{'name':_0x20f716(0x820),'variant':-0x1},{'name':_0x20f716(0x3fc),'variant':0x0},{'name':'Ironsmith\x20[Fem.]','variant':0x5},{'name':_0x20f716(0x373),'variant':0x1},{'name':_0x20f716(0x6fb),'variant':0x6},{'name':'Explorer\x20[Masc.]','variant':0x2},{'name':_0x20f716(0x13a),'variant':0x7},{'name':_0x20f716(0x59b),'variant':0x3},{'name':'Priestess\x20[Fem.]','variant':0x8},{'name':_0x20f716(0x383),'variant':0x4},{'name':_0x20f716(0x887),'variant':0x9},{'name':_0x20f716(0x1ed),'variant':0xa},{'name':_0x20f716(0x967),'variant':0xc},{'name':_0x20f716(0x2d2),'variant':0xb},{'name':_0x20f716(0x9a8),'variant':0xd},{'name':'Noble\x20[Masc.]','variant':0xf},{'name':_0x20f716(0x907),'variant':0xe},{'name':'Duke\x20[Masc.]','variant':0x11},{'name':_0x20f716(0xcbb),'variant':0x10},{'name':_0x20f716(0x774),'variant':0x12}],_0x1184d0=getGlobalMaxNPCs();console['log'](_0x20f716(0x496)+_0x1184d0);let _0x477fbf=0x0;for(const _0xd3f76d of[world[_0x20f716(0xbc8)](_0x20f716(0x182)),world[_0x20f716(0xbc8)](_0x20f716(0x437)),world['getDimension'](_0x20f716(0x18d))]){try{_0x477fbf+=_0xd3f76d[_0x20f716(0xc8f)]({'type':'jerrys_colonies:citizen'})['filter'](_0x3c7c1a=>{const _0x53571b=_0x20f716,_0x72f56d=_0x3c7c1a[_0x53571b(0x460)]();return _0x72f56d[_0x53571b(0x22d)](_0x53571b(0x30d)+_0x4d2e28['id']);})[_0x20f716(0xcd6)],_0x477fbf+=_0xd3f76d['getEntities']({'type':'jerrys_colonies:knight'})['filter'](_0x411010=>{const _0x7b31bc=_0x20f716,_0x36d325=_0x411010[_0x7b31bc(0x460)]();return _0x36d325[_0x7b31bc(0x22d)](_0x7b31bc(0x30d)+_0x4d2e28['id']);})['length'];}catch(_0x32802f){}}console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Current\x20NPC\x20count:\x20'+_0x477fbf);if(_0x477fbf>=_0x1184d0){console[_0x20f716(0x6a4)](_0x20f716(0xca0)),_0xe4fbed[_0x20f716(0x34f)](_0x20f716(0x853)+_0x1184d0+_0x20f716(0x4fb));return;}const _0x319323=_0xe4fbed[_0x20f716(0x299)](_0x20f716(0xd17))[_0x20f716(0x26e)],_0x9179d=getGlobalPrices(),_0x18bf56=_0x9179d['citizen']||{'item':_0x20f716(0x4d5),'amount':0x1};console[_0x20f716(0x6a4)](_0x20f716(0x809)+_0x18bf56['amount']+'\x20'+_0x18bf56['item']);let _0x194f9e=-0x1,_0x1ea276=null,_0x43b377=0x0;for(let _0x39af4e=0x0;_0x39af4e<_0x319323[_0x20f716(0x5c1)];_0x39af4e++){const _0x37eff2=_0x319323[_0x20f716(0x416)](_0x39af4e);_0x37eff2&&_0x37eff2[_0x20f716(0x621)]===_0x18bf56[_0x20f716(0xcd8)]&&_0x37eff2[_0x20f716(0x8f0)]>0x0&&(_0x194f9e===-0x1&&(_0x194f9e=_0x39af4e,_0x1ea276=_0x37eff2),_0x43b377+=_0x37eff2[_0x20f716(0x8f0)]);}console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Player\x20has\x20'+_0x43b377+'\x20'+_0x18bf56[_0x20f716(0xcd8)]+_0x20f716(0xbef)+_0x18bf56[_0x20f716(0x8f0)]+')');if(_0x194f9e===-0x1||!_0x1ea276||_0x43b377<_0x18bf56[_0x20f716(0x8f0)]){console[_0x20f716(0x6a4)](_0x20f716(0x30f)),_0xe4fbed[_0x20f716(0x34f)]('§cYou\x20need\x20at\x20least\x20'+_0x18bf56[_0x20f716(0x8f0)]+'\x20'+_0x18bf56[_0x20f716(0xcd8)][_0x20f716(0x15a)](_0x20f716(0x524),'')+_0x20f716(0x854));return;}const _0x2e5e99=_0x18bf56[_0x20f716(0xcd8)][_0x20f716(0x15a)]('minecraft:','')[_0x20f716(0x15a)](/_/g,'\x20'),_0x24f115=new ModalFormData()[_0x20f716(0xd1)]('Purchase\x20Citizen')['textField'](_0x20f716(0x928),_0x20f716(0x245),'')['dropdown'](_0x20f716(0xa8e),_0x1d855e['map'](_0x28be1a=>_0x28be1a['name']),0x0)[_0x20f716(0xe5)](_0x20f716(0x9d0)+_0x18bf56['amount']+'\x20'+_0x2e5e99,![]),_0x3c934f=await _0x24f115[_0x20f716(0x504)](_0xe4fbed);console[_0x20f716(0x6a4)](_0x20f716(0x34d)+_0x3c934f[_0x20f716(0x9d4)]);if(_0x3c934f[_0x20f716(0x9d4)]){console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Purchase\x20canceled\x20by\x20player');return;}if(!_0x3c934f['formValues'][0x2]){console['log'](_0x20f716(0x9a3)),_0xe4fbed[_0x20f716(0x34f)](_0x20f716(0x7fb));return;}const _0xfd81a5=_0x3c934f[_0x20f716(0x36e)][0x0]?.['trim'](),_0x1bc460=_0x3c934f[_0x20f716(0x36e)][0x1];let _0x35f473=_0x1d855e[_0x1bc460];if(_0x35f473[_0x20f716(0x220)]===-0x1){const _0x6b9a6c=Math[_0x20f716(0x648)](Math[_0x20f716(0x247)]()*(_0x1d855e['length']-0x1))+0x1;_0x35f473=_0x1d855e[_0x6b9a6c];}console[_0x20f716(0x6a4)](_0x20f716(0xb7f)+(_0xfd81a5||_0x20f716(0x968))+_0x20f716(0xbd9)+_0x35f473[_0x20f716(0xa45)]+_0x20f716(0x7c6)+_0x35f473[_0x20f716(0x220)]+')');if(_0xfd81a5&&_0xfd81a5['length']>0x0){if(_0xfd81a5[_0x20f716(0xcd6)]>0x1e){console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Custom\x20name\x20too\x20long'),_0xe4fbed[_0x20f716(0x34f)](_0x20f716(0xc97));return;}}console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Removing\x20'+_0x18bf56['amount']+'\x20'+_0x18bf56['item']+_0x20f716(0x54a));let _0x4572f1=_0x18bf56[_0x20f716(0x8f0)];for(let _0x4d4302=0x0;_0x4d4302<_0x319323[_0x20f716(0x5c1)]&&_0x4572f1>0x0;_0x4d4302++){const _0x565808=_0x319323['getItem'](_0x4d4302);_0x565808&&_0x565808['typeId']===_0x18bf56['item']&&(_0x565808['amount']>_0x4572f1?(_0x565808[_0x20f716(0x8f0)]-=_0x4572f1,_0x319323[_0x20f716(0xbc1)](_0x4d4302,_0x565808),_0x4572f1=0x0):(_0x4572f1-=_0x565808[_0x20f716(0x8f0)],_0x319323[_0x20f716(0xbc1)](_0x4d4302,undefined)));}console['log'](_0x20f716(0x380));const _0x4723a2=_0xe4fbed[_0x20f716(0x1f2)];console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Attempting\x20to\x20spawn\x20at\x20player\x20location:\x20'+_0x4723a2['x']+',\x20'+_0x4723a2['y']+',\x20'+_0x4723a2['z']);let _0x4ed344=null;const _0x164280=_0xe4fbed[_0x20f716(0xaf8)];for(let _0x293b90=0x0;_0x293b90<0xa;_0x293b90++){const _0x495185=(Math[_0x20f716(0x247)]()-0.5)*0x3,_0x1d156e=(Math[_0x20f716(0x247)]()-0.5)*0x3,_0x31cd99={'x':_0x4723a2['x']+_0x495185,'y':_0x4723a2['y'],'z':_0x4723a2['z']+_0x1d156e},_0x24f4ab=_0x164280[_0x20f716(0xb28)]({'x':Math['floor'](_0x31cd99['x']),'y':Math[_0x20f716(0x648)](_0x31cd99['y']),'z':Math[_0x20f716(0x648)](_0x31cd99['z'])}),_0x3b0403=_0x164280[_0x20f716(0xb28)]({'x':Math[_0x20f716(0x648)](_0x31cd99['x']),'y':Math['floor'](_0x31cd99['y'])+0x1,'z':Math[_0x20f716(0x648)](_0x31cd99['z'])});if(_0x24f4ab&&_0x24f4ab[_0x20f716(0xaad)]&&_0x3b0403&&!_0x3b0403['isSolid']){_0x4ed344={'x':_0x31cd99['x'],'y':_0x31cd99['y']+0x1,'z':_0x31cd99['z']};break;}}!_0x4ed344&&(_0x4ed344={'x':_0x4723a2['x'],'y':_0x4723a2['y']+0x1,'z':_0x4723a2['z']});console[_0x20f716(0x6a4)](_0x20f716(0xbea)+_0x4ed344['x']+',\x20'+_0x4ed344['y']+',\x20'+_0x4ed344['z']);let _0xed8ed7=![];try{console[_0x20f716(0x6a4)](_0x20f716(0x9c9));const _0x40e813=_0x164280[_0x20f716(0x26c)](_0x20f716(0x127),_0x4ed344);console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Spawn\x20entity\x20result:\x20'+(_0x40e813?'SUCCESS':_0x20f716(0x9dc)));if(_0x40e813){const _0x519c4b=_0xfd81a5&&_0xfd81a5['length']>0x0?_0xfd81a5:getRandomName();console[_0x20f716(0x6a4)](_0x20f716(0xbc9)+_0x519c4b);const _0x525e92=getColorCode(_0x4d2e28[_0x20f716(0x16a)][_0x20f716(0x768)]),_0x5cb95f=_0x525e92+'['+_0x4d2e28[_0x20f716(0xa45)]+_0x20f716(0x327);_0x40e813[_0x20f716(0x875)](_0x20f716(0x30d)+_0x4d2e28['id']),_0x40e813[_0x20f716(0x875)](_0x20f716(0x8bc)+_0x4d2e28[_0x20f716(0xa45)]),_0x40e813[_0x20f716(0x875)]('colony_owner:'+_0xe4fbed[_0x20f716(0xa45)]),_0x40e813[_0x20f716(0x875)](_0x20f716(0x107)+_0x5cb95f),console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Tags\x20added\x20to\x20citizen'),_0x40e813[_0x20f716(0x875)](_0x20f716(0xbf8)+_0x35f473[_0x20f716(0x220)]),console[_0x20f716(0x6a4)]('[PURCHASE_CITIZEN]\x20Applied\x20skin\x20variant:\x20'+_0x35f473[_0x20f716(0x220)]),setCitizenHungerLevel(_0x40e813['id'],HUNGER_LEVELS[_0x20f716(0x9bf)]),system[_0x20f716(0x633)](()=>{const _0x44d7ae=_0x20f716;_0x40e813[_0x44d7ae(0xa7c)]=_0x5cb95f+'\x20'+_0x519c4b;},0x1),_0x40e813['setDynamicProperty']&&_0x40e813[_0x20f716(0x4da)](_0x20f716(0xa45),_0x519c4b),console[_0x20f716(0x6a4)](_0x20f716(0xac3)),_0xe4fbed[_0x20f716(0x34f)]('§aSuccessfully\x20purchased\x20and\x20spawned\x20citizen\x20\x22'+_0x519c4b+_0x20f716(0xb9d)+_0x4d2e28[_0x20f716(0xa45)]+'!'),_0xe4fbed['sendMessage'](_0x20f716(0xa5e)),saveColonyData(),_0xed8ed7=!![];}}catch(_0x4e8445){console[_0x20f716(0x7bf)](_0x20f716(0x86c),_0x4e8445),console[_0x20f716(0x5b4)]('Error\x20spawning\x20citizen:',_0x4e8445);}if(!_0xed8ed7){console[_0x20f716(0x6a4)](_0x20f716(0x640)),_0xe4fbed['sendMessage'](_0x20f716(0xd06));const _0x26b35e=new ItemStack(_0x18bf56[_0x20f716(0xcd8)],_0x18bf56[_0x20f716(0x8f0)]);let _0x52caf8=![];for(let _0x48cee1=0x0;_0x48cee1<_0x319323[_0x20f716(0x5c1)];_0x48cee1++){const _0x59baf9=_0x319323[_0x20f716(0x416)](_0x48cee1);if(!_0x59baf9){_0x319323[_0x20f716(0xbc1)](_0x48cee1,_0x26b35e),_0x52caf8=!![];break;}else{if(_0x59baf9['typeId']===_0x18bf56[_0x20f716(0xcd8)]&&_0x59baf9[_0x20f716(0x8f0)]+_0x18bf56[_0x20f716(0x8f0)]<=_0x59baf9['maxAmount']){_0x59baf9[_0x20f716(0x8f0)]+=_0x18bf56[_0x20f716(0x8f0)],_0x319323[_0x20f716(0xbc1)](_0x48cee1,_0x59baf9),_0x52caf8=!![];break;}}}!_0x52caf8&&_0xe4fbed[_0x20f716(0xaf8)][_0x20f716(0x3ec)](_0x26b35e,_0xe4fbed['location']);}}catch(_0x3e1d15){console[_0x20f716(0x5b4)](_0x20f716(0x2ee),_0x3e1d15),_0xe4fbed[_0x20f716(0x34f)](_0x20f716(0x59e));}}async function invitePlayerToColony(_0x486dbc,_0x18f27d,_0x107d94){const _0x3ab673=_0x1d2622;try{if(_0x107d94[_0x3ab673(0xcd6)]===0x0){_0x486dbc['sendMessage']('§cNo\x20other\x20players\x20online\x20to\x20invite!');return;}const _0x36528c=new ActionFormData()[_0x3ab673(0xd1)](_0x3ab673(0x185)+_0x18f27d[_0x3ab673(0xa45)])[_0x3ab673(0x629)](_0x3ab673(0xca2));_0x107d94[_0x3ab673(0x2c2)](_0x5599ce=>_0x36528c[_0x3ab673(0x31f)](''+_0x5599ce[_0x3ab673(0xa45)],'textures/ui/icon_multiplayer'));const _0x5a2ee2=await _0x36528c[_0x3ab673(0x504)](_0x486dbc);if(_0x5a2ee2[_0x3ab673(0x9d4)])return;const _0x422b01=_0x107d94[_0x5a2ee2['selection']];if(_0x18f27d[_0x3ab673(0x709)][_0x3ab673(0x22d)](_0x422b01['name'])){_0x486dbc['sendMessage']('§c'+_0x422b01[_0x3ab673(0xa45)]+_0x3ab673(0xc74)+_0x18f27d['name']+'!');return;}const _0xd1cfd6=Array[_0x3ab673(0x2f9)](colonies[_0x3ab673(0xaf3)]())['find'](_0x34b454=>_0x34b454[_0x3ab673(0x709)]['includes'](_0x422b01[_0x3ab673(0xa45)]));if(_0xd1cfd6){_0x486dbc[_0x3ab673(0x34f)]('§c'+_0x422b01[_0x3ab673(0xa45)]+_0x3ab673(0x16d)+_0xd1cfd6[_0x3ab673(0xa45)]);return;}await sendColonyInvitation(_0x486dbc,_0x422b01,_0x18f27d);}catch(_0xd4a90c){console[_0x3ab673(0x5b4)]('Error\x20inviting\x20player:',_0xd4a90c),_0x486dbc['sendMessage'](_0x3ab673(0x69f));}}async function sendColonyInvitation(_0x3a710e,_0x1d105d,_0x89683c){const _0x3f836e=_0x1d2622;try{const _0x34df9e=new ActionFormData()[_0x3f836e(0xd1)](_0x3f836e(0x780))[_0x3f836e(0x629)](_0x3a710e['name']+_0x3f836e(0x76d)+_0x89683c[_0x3f836e(0xa45)]+_0x3f836e(0x254)+_0x89683c[_0x3f836e(0xcd0)]+_0x3f836e(0xbb1)+_0x89683c['citizens'][_0x3f836e(0xcd6)]+_0x3f836e(0x947)+_0x89683c[_0x3f836e(0x16a)]['name']+_0x3f836e(0xadd))['button']('Accept','textures/ui/confirm')[_0x3f836e(0x31f)]('Decline','textures/ui/cancel');_0x3a710e[_0x3f836e(0x34f)](_0x3f836e(0x4ab)+_0x1d105d[_0x3f836e(0xa45)]+_0x3f836e(0x4b0)),_0x1d105d['sendMessage']('§e'+_0x3a710e['name']+_0x3f836e(0xb4b));const _0x4b031a=await _0x34df9e['show'](_0x1d105d);if(_0x4b031a[_0x3f836e(0x9d4)]||_0x4b031a['selection']===0x1){_0x3a710e[_0x3f836e(0x34f)]('§c'+_0x1d105d[_0x3f836e(0xa45)]+_0x3f836e(0x6f4)),_0x1d105d['sendMessage'](_0x3f836e(0xaf5)+_0x89683c[_0x3f836e(0xa45)]+'.');return;}if(_0x4b031a[_0x3f836e(0x77a)]===0x0){const _0x4c1708=Array[_0x3f836e(0x2f9)](colonies[_0x3f836e(0xaf3)]())[_0x3f836e(0x2d0)](_0x4f4f63=>_0x4f4f63[_0x3f836e(0x709)][_0x3f836e(0x22d)](_0x1d105d[_0x3f836e(0xa45)])||_0x4f4f63['ownerId']===_0x1d105d['id']);if(_0x4c1708){_0x1d105d['sendMessage']('§cYou\x20are\x20already\x20a\x20member\x20of\x20colony\x20\x22'+_0x4c1708['name']+'\x22.\x20You\x20must\x20leave\x20your\x20current\x20colony\x20before\x20joining\x20another.'),_0x3a710e[_0x3f836e(0x34f)]('§c'+_0x1d105d[_0x3f836e(0xa45)]+'\x20is\x20already\x20a\x20member\x20of\x20another\x20colony\x20and\x20cannot\x20accept\x20your\x20invitation.');return;}!_0x89683c[_0x3f836e(0x709)][_0x3f836e(0x22d)](_0x1d105d[_0x3f836e(0xa45)])&&(_0x89683c[_0x3f836e(0x709)][_0x3f836e(0x9bb)](_0x1d105d['name']),_0x89683c[_0x3f836e(0x67d)]&&_0x89683c[_0x3f836e(0x67d)][_0x3f836e(0x745)]&&!_0x89683c[_0x3f836e(0x67d)][_0x3f836e(0x709)][_0x1d105d[_0x3f836e(0xa45)]]&&(_0x89683c[_0x3f836e(0x67d)]['citizens'][_0x1d105d['name']]={'paid':![],'lastPayment':null,'overdue':![],'rejected':![],'reminders':[]}),colonies[_0x3f836e(0x336)](_0x89683c['id'],_0x89683c),saveColonyData());try{const _0x21ede8=_0x1d105d[_0x3f836e(0x1f2)]['x']-_0x89683c[_0x3f836e(0x1f2)]['x'],_0x5a89d9=_0x1d105d[_0x3f836e(0x1f2)]['y']-_0x89683c[_0x3f836e(0x1f2)]['y'],_0x1fa64b=_0x1d105d[_0x3f836e(0x1f2)]['z']-_0x89683c[_0x3f836e(0x1f2)]['z'],_0x59c8bf=Math['sqrt'](_0x21ede8*_0x21ede8+_0x5a89d9*_0x5a89d9+_0x1fa64b*_0x1fa64b);if(_0x59c8bf<=0x64){const _0x4baf9a=getColorCode(_0x89683c[_0x3f836e(0x16a)][_0x3f836e(0x768)]),_0x4c7f5d=_0x4baf9a+'['+_0x89683c['name']+']§r';_0x1d105d[_0x3f836e(0x875)](_0x3f836e(0x3ae)+_0x89683c['id']),_0x1d105d['addTag'](_0x3f836e(0x107)+_0x4c7f5d),_0x1d105d[_0x3f836e(0xa7c)]=_0x4c7f5d+'\x20'+_0x1d105d['name'];const _0x3a43ee=_0x1d105d[_0x3f836e(0xaf8)][_0x3f836e(0xc8f)]({'type':'jerrys_colonies:citizen','maxDistance':0x64,'location':_0x1d105d[_0x3f836e(0x1f2)]});for(const _0x2a0970 of _0x3a43ee){try{const _0x4cf7ba=_0x2a0970[_0x3f836e(0x460)](),_0x4503ce=_0x4cf7ba[_0x3f836e(0x7ae)](_0x52bfec=>_0x52bfec[_0x3f836e(0x42a)](_0x3f836e(0x107)));_0x4503ce[_0x3f836e(0x2c2)](_0x1c06d9=>_0x2a0970['removeTag'](_0x1c06d9));const _0x45942a=_0x4cf7ba[_0x3f836e(0xb49)](_0x14edd8=>_0x14edd8==='colony_id:'+_0x89683c['id']);if(_0x45942a){_0x2a0970[_0x3f836e(0x875)](_0x3f836e(0x107)+_0x4c7f5d);let _0x2c7616=_0x2a0970['nameTag']||getRandomName();const _0x10b36d=_0x2c7616['replace'](/§[0-9a-f]\[.*?\]§r\s*/g,'');_0x2a0970['nameTag']=_0x4c7f5d+'\x20'+_0x10b36d;}}catch(_0x158048){}}}}catch(_0x2d0218){console[_0x3f836e(0x5b4)]('Could\x20not\x20apply\x20colony\x20rank\x20to\x20new\x20member:',_0x2d0218);}_0x3a710e['sendMessage']('§a'+_0x1d105d[_0x3f836e(0xa45)]+_0x3f836e(0x6f6)+_0x89683c[_0x3f836e(0xa45)]+'!'),_0x1d105d['sendMessage'](_0x3f836e(0x99c)+_0x89683c[_0x3f836e(0xa45)]+_0x3f836e(0x43e));const _0x4e36b1=world[_0x3f836e(0x272)]()['filter'](_0x310ccf=>_0x89683c[_0x3f836e(0x709)][_0x3f836e(0x22d)](_0x310ccf['name'])||_0x310ccf['id']===_0x89683c['ownerId']);_0x4e36b1[_0x3f836e(0x2c2)](_0x4a3a92=>{const _0x2d3e6c=_0x3f836e;_0x4a3a92['id']!==_0x3a710e['id']&&_0x4a3a92['id']!==_0x1d105d['id']&&_0x4a3a92[_0x2d3e6c(0x34f)]('§e'+_0x1d105d[_0x2d3e6c(0xa45)]+'\x20has\x20joined\x20'+_0x89683c[_0x2d3e6c(0xa45)]+'!');});}}catch(_0x506dfc){console['warn'](_0x3f836e(0xa4a),_0x506dfc),_0x3a710e[_0x3f836e(0x34f)](_0x3f836e(0x686));}}async function viewColonyMembers(_0xd5ae4b,_0x4ad595){const _0x20b4a9=_0x1d2622;try{const _0x1e0b6a=_0x4ad595[_0x20b4a9(0x709)][_0x20b4a9(0xcd6)]>0x0?_0x4ad595['citizens'][_0x20b4a9(0xc89)]((_0x50b228,_0x46bb2d)=>_0x46bb2d+0x1+'.\x20'+_0x50b228+'\x20(Player)'):[];let _0x40cff5=0x0;try{const _0x291134=_0xd5ae4b[_0x20b4a9(0xaf8)][_0x20b4a9(0xc8f)]({'type':_0x20b4a9(0x127),'tags':[_0x20b4a9(0x30d)+_0x4ad595['id']]}),_0x142445=_0xd5ae4b[_0x20b4a9(0xaf8)]['getEntities']({'type':_0x20b4a9(0xca9),'tags':[_0x20b4a9(0x30d)+_0x4ad595['id']]});_0x40cff5=_0x291134[_0x20b4a9(0xcd6)]+_0x142445[_0x20b4a9(0xcd6)];}catch(_0x39ddc9){console[_0x20b4a9(0x5b4)](_0x20b4a9(0x5c6),_0x39ddc9);}const _0x4ef224=_0x1e0b6a[_0x20b4a9(0xcd6)]>0x0?_0x1e0b6a[_0x20b4a9(0x36f)]('\x0a'):_0x20b4a9(0xa3f),_0x7e1b3a=_0x40cff5>0x0?_0x40cff5+_0x20b4a9(0xc60)+(_0x40cff5!==0x1?'s':'')+'§r':'No\x20NPCs\x20yet§r',_0x5d1b69=world['getPlayers']()[_0x20b4a9(0x7ae)](_0x17ccc1=>_0x4ad595[_0x20b4a9(0x709)][_0x20b4a9(0x22d)](_0x17ccc1[_0x20b4a9(0xa45)])),_0x1b249e=_0x5d1b69[_0x20b4a9(0xcd6)]>0x0?_0x5d1b69['map'](_0x1c70f2=>_0x1c70f2[_0x20b4a9(0xa45)]+_0x20b4a9(0x563))[_0x20b4a9(0x36f)]('\x0a'):_0x20b4a9(0xae4),_0xd2713a=getColonyPopulation(_0x4ad595),_0x58d8e7=new ActionFormData()[_0x20b4a9(0xd1)](_0x20b4a9(0xa0d))[_0x20b4a9(0x629)](_0x20b4a9(0xc9a)+_0x4ad595[_0x20b4a9(0xcd0)]+_0x20b4a9(0x784)+_0xd2713a[_0x20b4a9(0x157)]+_0x20b4a9(0x799)+_0xd2713a['npcs']+_0x20b4a9(0x75e)+_0xd2713a[_0x20b4a9(0x8e4)]+_0x20b4a9(0x364)+_0x4ef224+'\x0a\x0a'+_0x7e1b3a+_0x20b4a9(0x5b1)+_0x1b249e)[_0x20b4a9(0x31f)](_0x20b4a9(0x560),_0x20b4a9(0x40d)),_0x2f14ed=await _0x58d8e7[_0x20b4a9(0x504)](_0xd5ae4b);!_0x2f14ed['canceled']&&manageCitizens(_0xd5ae4b,_0x4ad595);}catch(_0x1a1ff8){console[_0x20b4a9(0x5b4)]('Error\x20viewing\x20colony\x20members:',_0x1a1ff8),_0xd5ae4b[_0x20b4a9(0x34f)](_0x20b4a9(0x20c));}}async function showRankManagementMenu(_0x3608c6,_0x44c1c6){const _0x404f8f=_0x1d2622;try{!_0x44c1c6[_0x404f8f(0xabb)]&&(_0x44c1c6['ranks']=[]);!_0x44c1c6[_0x404f8f(0x32c)]&&(_0x44c1c6[_0x404f8f(0x32c)]={});const _0x19643c=new ActionFormData()['title'](_0x404f8f(0x79c))[_0x404f8f(0x629)](_0x404f8f(0x895)+_0x44c1c6[_0x404f8f(0xabb)][_0x404f8f(0xcd6)]+_0x404f8f(0x929));_0x44c1c6[_0x404f8f(0xabb)][_0x404f8f(0xcd6)]<0xa&&_0x19643c['button'](_0x404f8f(0xcf8),_0x404f8f(0x880));_0x44c1c6[_0x404f8f(0xabb)][_0x404f8f(0xcd6)]>0x0&&(_0x19643c[_0x404f8f(0x31f)]('Edit\x20Existing\x20Ranks',_0x404f8f(0xcf6)),_0x19643c[_0x404f8f(0x31f)](_0x404f8f(0x20b),_0x404f8f(0x664)));_0x19643c['button'](_0x404f8f(0xbdf),'textures/ui/arrow_left');const _0x45c6fb=await _0x19643c[_0x404f8f(0x504)](_0x3608c6);if(_0x45c6fb['canceled'])return;const _0x5dbc31=_0x45c6fb[_0x404f8f(0x77a)];let _0x1ce07a=0x0;if(_0x44c1c6[_0x404f8f(0xabb)][_0x404f8f(0xcd6)]<0xa&&_0x5dbc31===_0x1ce07a++)await createNewRank(_0x3608c6,_0x44c1c6);else{if(_0x44c1c6['ranks'][_0x404f8f(0xcd6)]>0x0&&_0x5dbc31===_0x1ce07a++)await editRanksMenu(_0x3608c6,_0x44c1c6);else _0x44c1c6['ranks'][_0x404f8f(0xcd6)]>0x0&&_0x5dbc31===_0x1ce07a++?await assignRanksMenu(_0x3608c6,_0x44c1c6):await manageCitizens(_0x3608c6,_0x44c1c6);}}catch(_0xfb8cf5){console[_0x404f8f(0x5b4)](_0x404f8f(0x3b0),_0xfb8cf5),_0x3608c6[_0x404f8f(0x34f)]('Error\x20opening\x20rank\x20management.\x20Please\x20try\x20again.');}}async function createNewRank(_0x2123d9,_0x1f5fae){const _0x5c623c=_0x1d2622;try{const _0x1d4ee5=new ModalFormData()[_0x5c623c(0xd1)](_0x5c623c(0xcf8))[_0x5c623c(0x556)](_0x5c623c(0xae8),_0x5c623c(0xac6))['toggle']('Interact\x20with\x20Blocks',![])[_0x5c623c(0xe5)]('Manage\x20Citizens',![])[_0x5c623c(0xe5)]('Diplomacy',![])['toggle'](_0x5c623c(0xb82),![])[_0x5c623c(0xe5)](_0x5c623c(0x76a),![])['toggle'](_0x5c623c(0x1b4),![])['toggle'](_0x5c623c(0xabe),![])[_0x5c623c(0xe5)](_0x5c623c(0x906),![])[_0x5c623c(0xe5)]('Teleport\x20to\x20Flags',![]),_0x8a4ba9=await _0x1d4ee5[_0x5c623c(0x504)](_0x2123d9);if(_0x8a4ba9[_0x5c623c(0x9d4)]){await showRankManagementMenu(_0x2123d9,_0x1f5fae);return;}const _0x1d10de=_0x8a4ba9[_0x5c623c(0x36e)][0x0];if(!_0x1d10de||_0x1d10de[_0x5c623c(0x69d)]()===''){_0x2123d9[_0x5c623c(0x34f)](_0x5c623c(0x56c)),await showRankManagementMenu(_0x2123d9,_0x1f5fae);return;}if(_0x1f5fae[_0x5c623c(0xabb)]['some'](_0xdae579=>_0xdae579[_0x5c623c(0xa45)]===_0x1d10de['trim']())){_0x2123d9[_0x5c623c(0x34f)](_0x5c623c(0x532)),await showRankManagementMenu(_0x2123d9,_0x1f5fae);return;}const _0x1f4ae6={'id':'rank_'+Date[_0x5c623c(0x405)]()+'_'+Math[_0x5c623c(0x648)](Math[_0x5c623c(0x247)]()*0x3e8),'name':_0x1d10de[_0x5c623c(0x69d)](),'permissions':{'interactBlocks':_0x8a4ba9[_0x5c623c(0x36e)][0x1],'manageCitizens':_0x8a4ba9[_0x5c623c(0x36e)][0x2],'diplomacy':_0x8a4ba9['formValues'][0x3],'placeBlueprints':_0x8a4ba9['formValues'][0x4],'manageTaxes':_0x8a4ba9[_0x5c623c(0x36e)][0x5],'expandColony':_0x8a4ba9[_0x5c623c(0x36e)][0x6],'manageBabies':_0x8a4ba9[_0x5c623c(0x36e)][0x7],'commandKnights':_0x8a4ba9[_0x5c623c(0x36e)][0x8],'flagTeleport':_0x8a4ba9['formValues'][0x9]}};_0x1f5fae['ranks'][_0x5c623c(0x9bb)](_0x1f4ae6),saveColonyData(),_0x2123d9['sendMessage']('Rank\x20\x22'+_0x1f4ae6['name']+_0x5c623c(0x97c)),await showRankManagementMenu(_0x2123d9,_0x1f5fae);}catch(_0x3609c3){console['warn']('Error\x20creating\x20new\x20rank:',_0x3609c3),_0x2123d9[_0x5c623c(0x34f)](_0x5c623c(0xcd1));}}async function editRanksMenu(_0x5a5deb,_0x4131b0){const _0x55dd90=_0x1d2622;try{const _0x4e1a79=new ActionFormData()[_0x55dd90(0xd1)]('Edit\x20Ranks')[_0x55dd90(0x629)](_0x55dd90(0x338));_0x4131b0[_0x55dd90(0xabb)][_0x55dd90(0x2c2)](_0x3ed4ee=>{const _0x594ede=_0x55dd90,_0x173477=Object[_0x594ede(0xaf3)](_0x3ed4ee['permissions'])[_0x594ede(0x7ae)](_0x101bc3=>_0x101bc3)['length'];_0x4e1a79['button'](_0x3ed4ee[_0x594ede(0xa45)]+'\x0a'+_0x173477+_0x594ede(0x3a8),_0x594ede(0xb96));}),_0x4e1a79[_0x55dd90(0x31f)]('Back','textures/ui/arrow_left');const _0x604257=await _0x4e1a79['show'](_0x5a5deb);if(_0x604257[_0x55dd90(0x9d4)]||_0x604257[_0x55dd90(0x77a)]===_0x4131b0['ranks'][_0x55dd90(0xcd6)]){await showRankManagementMenu(_0x5a5deb,_0x4131b0);return;}const _0x2d23c7=_0x4131b0['ranks'][_0x604257[_0x55dd90(0x77a)]];await editRankDetails(_0x5a5deb,_0x4131b0,_0x2d23c7);}catch(_0x329bdc){console[_0x55dd90(0x5b4)]('Error\x20in\x20editRanksMenu:',_0x329bdc),_0x5a5deb['sendMessage'](_0x55dd90(0x50c));}}async function editRankDetails(_0x27bbfb,_0x4e6f58,_0x38505e){const _0x4f51d7=_0x1d2622;try{const _0x28ed0c=new ModalFormData()[_0x4f51d7(0xd1)](_0x4f51d7(0xcba)+_0x38505e[_0x4f51d7(0xa45)])[_0x4f51d7(0x556)](_0x4f51d7(0xae8),_0x4f51d7(0xac6),_0x38505e[_0x4f51d7(0xa45)])['toggle'](_0x4f51d7(0x24d),_0x38505e['permissions'][_0x4f51d7(0x787)])[_0x4f51d7(0xe5)]('Manage\x20Citizens',_0x38505e['permissions'][_0x4f51d7(0xb4e)])[_0x4f51d7(0xe5)]('Diplomacy',_0x38505e['permissions']['diplomacy'])[_0x4f51d7(0xe5)](_0x4f51d7(0xb82),_0x38505e[_0x4f51d7(0x283)][_0x4f51d7(0xbfa)])[_0x4f51d7(0xe5)]('Manage\x20Taxes',_0x38505e['permissions'][_0x4f51d7(0x559)])[_0x4f51d7(0xe5)](_0x4f51d7(0x1b4),_0x38505e[_0x4f51d7(0x283)]['expandColony']||![])[_0x4f51d7(0xe5)](_0x4f51d7(0xabe),_0x38505e[_0x4f51d7(0x283)][_0x4f51d7(0x876)]||![])[_0x4f51d7(0xe5)](_0x4f51d7(0x906),_0x38505e[_0x4f51d7(0x283)][_0x4f51d7(0xc1b)]||![])[_0x4f51d7(0xe5)](_0x4f51d7(0x668),_0x38505e[_0x4f51d7(0x283)][_0x4f51d7(0x661)]||![]),_0x42f569=await _0x28ed0c[_0x4f51d7(0x504)](_0x27bbfb);if(_0x42f569[_0x4f51d7(0x9d4)]){await editRanksMenu(_0x27bbfb,_0x4e6f58);return;}const _0x18fc34=_0x42f569[_0x4f51d7(0x36e)][0x0];if(!_0x18fc34||_0x18fc34[_0x4f51d7(0x69d)]()===''){_0x27bbfb[_0x4f51d7(0x34f)]('Rank\x20name\x20cannot\x20be\x20empty!'),await editRanksMenu(_0x27bbfb,_0x4e6f58);return;}if(_0x4e6f58['ranks']['some'](_0x7271eb=>_0x7271eb['id']!==_0x38505e['id']&&_0x7271eb[_0x4f51d7(0xa45)]===_0x18fc34[_0x4f51d7(0x69d)]())){_0x27bbfb[_0x4f51d7(0x34f)]('A\x20rank\x20with\x20that\x20name\x20already\x20exists!'),await editRanksMenu(_0x27bbfb,_0x4e6f58);return;}_0x38505e['name']=_0x18fc34['trim'](),_0x38505e['permissions']={'interactBlocks':_0x42f569[_0x4f51d7(0x36e)][0x1],'manageCitizens':_0x42f569['formValues'][0x2],'diplomacy':_0x42f569['formValues'][0x3],'placeBlueprints':_0x42f569[_0x4f51d7(0x36e)][0x4],'manageTaxes':_0x42f569['formValues'][0x5],'expandColony':_0x42f569['formValues'][0x6],'manageBabies':_0x42f569[_0x4f51d7(0x36e)][0x7],'commandKnights':_0x42f569[_0x4f51d7(0x36e)][0x8],'flagTeleport':_0x42f569['formValues'][0x9]},saveColonyData();for(const _0x1822b6 in _0x4e6f58['playerRanks']){if(_0x4e6f58[_0x4f51d7(0x32c)][_0x1822b6]===_0x38505e['id']){const _0x213564=world[_0x4f51d7(0x272)]()[_0x4f51d7(0x2d0)](_0x5cb3f6=>_0x5cb3f6['name']===_0x1822b6);_0x213564&&syncPlayerPermissions(_0x213564,_0x4e6f58);}}_0x27bbfb['sendMessage'](_0x4f51d7(0x2b5)+_0x38505e[_0x4f51d7(0xa45)]+'\x22\x20updated\x20successfully!'),await showRankEditOptions(_0x27bbfb,_0x4e6f58,_0x38505e);}catch(_0x4a5b77){console[_0x4f51d7(0x5b4)](_0x4f51d7(0xb09),_0x4a5b77),_0x27bbfb[_0x4f51d7(0x34f)](_0x4f51d7(0x99e));}}async function showRankEditOptions(_0x1fa1b0,_0x607904,_0x1f1f3c){const _0x4903f9=_0x1d2622;try{const _0x69f1d8=new ActionFormData()['title'](_0x4903f9(0x257)+_0x1f1f3c['name'])['body'](_0x4903f9(0x2a8))[_0x4903f9(0x31f)](_0x4903f9(0x7dd),'textures/ui/book_edit_default')[_0x4903f9(0x31f)](_0x4903f9(0xaec),_0x4903f9(0x889))[_0x4903f9(0x31f)](_0x4903f9(0xb39),_0x4903f9(0x40d)),_0x203dee=await _0x69f1d8['show'](_0x1fa1b0);if(_0x203dee[_0x4903f9(0x9d4)]){await editRanksMenu(_0x1fa1b0,_0x607904);return;}if(_0x203dee[_0x4903f9(0x77a)]===0x0)await editRankDetails(_0x1fa1b0,_0x607904,_0x1f1f3c);else _0x203dee[_0x4903f9(0x77a)]===0x1?await confirmDeleteRank(_0x1fa1b0,_0x607904,_0x1f1f3c):await editRanksMenu(_0x1fa1b0,_0x607904);}catch(_0x31f597){console['warn']('Error\x20in\x20showRankEditOptions:',_0x31f597);}}async function confirmDeleteRank(_0x549ed6,_0x453fde,_0x4f80c9){const _0x5337b2=_0x1d2622;try{const _0xf62ece=Object['values'](_0x453fde['playerRanks'])[_0x5337b2(0x7ae)](_0x119e84=>_0x119e84===_0x4f80c9['id'])[_0x5337b2(0xcd6)],_0x3fdadd=new MessageFormData()[_0x5337b2(0xd1)](_0x5337b2(0x5b5))['body'](_0x5337b2(0x9e5)+_0x4f80c9['name']+'\x22?\x0a\x0aThis\x20rank\x20is\x20currently\x20assigned\x20to\x20'+_0xf62ece+_0x5337b2(0xce9))[_0x5337b2(0xa5b)](_0x5337b2(0x468))[_0x5337b2(0x81d)](_0x5337b2(0x890)),_0x1fe16d=await _0x3fdadd['show'](_0x549ed6);if(_0x1fe16d[_0x5337b2(0x77a)]===0x1){_0x453fde['ranks']=_0x453fde[_0x5337b2(0xabb)][_0x5337b2(0x7ae)](_0x100311=>_0x100311['id']!==_0x4f80c9['id']);for(const _0x25cc1e in _0x453fde['playerRanks']){_0x453fde['playerRanks'][_0x25cc1e]===_0x4f80c9['id']&&delete _0x453fde[_0x5337b2(0x32c)][_0x25cc1e];}saveColonyData(),_0x549ed6[_0x5337b2(0x34f)](_0x5337b2(0x2b5)+_0x4f80c9[_0x5337b2(0xa45)]+_0x5337b2(0xae9)),await editRanksMenu(_0x549ed6,_0x453fde);}else await showRankEditOptions(_0x549ed6,_0x453fde,_0x4f80c9);}catch(_0x2146c2){console[_0x5337b2(0x5b4)](_0x5337b2(0x6ca),_0x2146c2),_0x549ed6[_0x5337b2(0x34f)](_0x5337b2(0xa12));}}async function assignRanksMenu(_0x45ee9d,_0x1b4721){const _0x28b5e8=_0x1d2622;try{const _0x462508=new ActionFormData()[_0x28b5e8(0xd1)](_0x28b5e8(0x8c1))[_0x28b5e8(0x629)]('Select\x20a\x20player\x20to\x20manage\x20their\x20rank:');if(!_0x1b4721[_0x28b5e8(0x709)]||_0x1b4721[_0x28b5e8(0x709)]['length']===0x0){_0x45ee9d[_0x28b5e8(0x34f)]('No\x20players\x20in\x20colony\x20to\x20assign\x20ranks!'),await showRankManagementMenu(_0x45ee9d,_0x1b4721);return;}_0x1b4721[_0x28b5e8(0x709)][_0x28b5e8(0x2c2)](_0x44a99f=>{const _0x1616c4=_0x28b5e8,_0x2fc0a3=_0x1b4721[_0x1616c4(0x32c)][_0x44a99f],_0x56efb5=_0x1b4721[_0x1616c4(0xabb)]['find'](_0xc7edef=>_0xc7edef['id']===_0x2fc0a3),_0x501891=_0x56efb5?_0x56efb5[_0x1616c4(0xa45)]:_0x1616c4(0xb15);_0x462508['button'](_0x44a99f+'\x0a'+_0x501891,'textures/ui/icon_multiplayer');}),_0x462508[_0x28b5e8(0x31f)](_0x28b5e8(0x49e),_0x28b5e8(0x40d));const _0x8bae87=await _0x462508[_0x28b5e8(0x504)](_0x45ee9d);if(_0x8bae87[_0x28b5e8(0x9d4)]||_0x8bae87[_0x28b5e8(0x77a)]===_0x1b4721[_0x28b5e8(0x709)]['length']){await showRankManagementMenu(_0x45ee9d,_0x1b4721);return;}const _0x3bed25=_0x1b4721[_0x28b5e8(0x709)][_0x8bae87[_0x28b5e8(0x77a)]];await assignPlayerRank(_0x45ee9d,_0x1b4721,_0x3bed25);}catch(_0x4e3416){console[_0x28b5e8(0x5b4)](_0x28b5e8(0x926),_0x4e3416),_0x45ee9d[_0x28b5e8(0x34f)](_0x28b5e8(0x5da));}}async function assignPlayerRank(_0x2b5b14,_0x10acab,_0x248328){const _0x3143f1=_0x1d2622;try{const _0x3b54d8=_0x10acab[_0x3143f1(0x32c)][_0x248328],_0x465b02=_0x10acab[_0x3143f1(0xabb)][_0x3143f1(0xb06)](_0x5ac74c=>_0x5ac74c['id']===_0x3b54d8),_0x547076=new ModalFormData()[_0x3143f1(0xd1)](_0x3143f1(0x88f)+_0x248328)[_0x3143f1(0x4d0)](_0x3143f1(0xcc2),['No\x20Rank',..._0x10acab[_0x3143f1(0xabb)][_0x3143f1(0xc89)](_0x4ebb08=>_0x4ebb08[_0x3143f1(0xa45)])],_0x465b02>=0x0?_0x465b02+0x1:0x0),_0x361ff7=await _0x547076[_0x3143f1(0x504)](_0x2b5b14);if(_0x361ff7['canceled']){await assignRanksMenu(_0x2b5b14,_0x10acab);return;}const _0x3d4355=_0x361ff7[_0x3143f1(0x36e)][0x0];if(_0x3d4355===0x0)delete _0x10acab[_0x3143f1(0x32c)][_0x248328],_0x2b5b14['sendMessage']('Removed\x20rank\x20from\x20'+_0x248328);else{const _0x53ddd2=_0x10acab[_0x3143f1(0xabb)][_0x3d4355-0x1];_0x10acab[_0x3143f1(0x32c)][_0x248328]=_0x53ddd2['id'],_0x2b5b14[_0x3143f1(0x34f)]('Assigned\x20rank\x20\x22'+_0x53ddd2[_0x3143f1(0xa45)]+'\x22\x20to\x20'+_0x248328);}saveColonyData();const _0x44533f=world[_0x3143f1(0x272)]()[_0x3143f1(0x2d0)](_0x82af9c=>_0x82af9c[_0x3143f1(0xa45)]===_0x248328);_0x44533f&&syncPlayerPermissions(_0x44533f,_0x10acab),await assignRanksMenu(_0x2b5b14,_0x10acab);}catch(_0x5bcc84){console[_0x3143f1(0x5b4)](_0x3143f1(0x9f3),_0x5bcc84),_0x2b5b14[_0x3143f1(0x34f)](_0x3143f1(0xc06));}}async function rallyCitizens(_0x207e6a,_0x1bc42f){const _0x411783=_0x1d2622;try{let _0x1439a1=0x0;for(const _0x56cf47 of[world['getDimension'](_0x411783(0x182)),world[_0x411783(0xbc8)](_0x411783(0x437)),world[_0x411783(0xbc8)](_0x411783(0x18d))]){try{const _0x2d544a=_0x56cf47[_0x411783(0xc8f)]({'type':'jerrys_colonies:citizen','tags':[_0x411783(0x30d)+_0x1bc42f['id']]});for(const _0xe7f65c of _0x2d544a){const _0x32a11a=(Math[_0x411783(0x247)]()-0.5)*0x2,_0x12dbf4=(Math['random']()-0.5)*0x2;_0xe7f65c[_0x411783(0x54b)]({'x':_0x207e6a[_0x411783(0x1f2)]['x']+_0x32a11a,'y':_0x207e6a[_0x411783(0x1f2)]['y'],'z':_0x207e6a[_0x411783(0x1f2)]['z']+_0x12dbf4},_0x207e6a['dimension']),_0x1439a1++;}}catch(_0xdf586a){}}_0x1439a1>0x0?_0x207e6a[_0x411783(0x34f)](_0x411783(0x90e)+_0x1439a1+_0x411783(0x75d)+(_0x1439a1>0x1?'s':'')+'\x20to\x20your\x20location!'):_0x207e6a[_0x411783(0x34f)](_0x411783(0x53f));}catch(_0x337740){console[_0x411783(0x5b4)](_0x411783(0xc14),_0x337740),_0x207e6a['sendMessage']('§cError\x20rallying\x20citizens.\x20Please\x20try\x20again.');}}async function removePlayerFromColony(_0x55256d,_0x3eadf3){const _0x5a9ef6=_0x1d2622;try{const _0x276f1d=_0x3eadf3['citizens'][_0x5a9ef6(0xc89)](_0x65dd28=>({'name':_0x65dd28,'type':_0x5a9ef6(0xb8f)})),_0x35eb71=[];try{const _0x1b54be=_0x55256d[_0x5a9ef6(0xaf8)][_0x5a9ef6(0xc8f)]({'type':'jerrys_colonies:citizen','tags':[_0x5a9ef6(0x30d)+_0x3eadf3['id']]});_0x1b54be[_0x5a9ef6(0x2c2)](_0x5286c8=>{const _0x45f3ab=_0x5a9ef6,_0x19c3ba=_0x5286c8[_0x45f3ab(0xa7c)]||'Unnamed\x20Citizen',_0x4cdb32=_0x19c3ba[_0x45f3ab(0x15a)](/§[0-9a-f]\[.*?\]§r\s*/g,'');_0x35eb71[_0x45f3ab(0x9bb)]({'name':_0x4cdb32,'type':_0x45f3ab(0xf3),'entity':_0x5286c8,'originalName':_0x19c3ba});});}catch(_0x4249ff){console[_0x5a9ef6(0x5b4)]('Error\x20getting\x20NPC\x20citizens:',_0x4249ff);}const _0x207802=[..._0x276f1d,..._0x35eb71];if(_0x207802[_0x5a9ef6(0xcd6)]===0x0){_0x55256d[_0x5a9ef6(0x34f)](_0x5a9ef6(0xbf1));return;}const _0x1d3bd3=new ActionFormData()[_0x5a9ef6(0xd1)](_0x5a9ef6(0xc1f))[_0x5a9ef6(0x629)]('Select\x20a\x20member\x20to\x20remove\x20from\x20the\x20colony:');_0x207802[_0x5a9ef6(0x2c2)](_0x2af34a=>{const _0x540371=_0x5a9ef6,_0x351181=_0x2af34a[_0x540371(0x9a5)]==='player'?_0x540371(0x5f6):_0x540371(0x937),_0x442c95=_0x2af34a[_0x540371(0x9a5)]===_0x540371(0xb8f)?_0x2af34a[_0x540371(0xa45)]+'\x20§a(Player)':_0x2af34a[_0x540371(0xa45)]+_0x540371(0x28e);_0x1d3bd3['button'](_0x442c95,_0x351181);});const _0x5b8dd9=await _0x1d3bd3[_0x5a9ef6(0x504)](_0x55256d);if(_0x5b8dd9['canceled'])return;const _0x4a6f19=_0x207802[_0x5b8dd9['selection']],_0x388b2e=new ActionFormData()[_0x5a9ef6(0xd1)](_0x5a9ef6(0x8cd))[_0x5a9ef6(0x629)]('§7Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20§c'+_0x4a6f19['name']+_0x5a9ef6(0x238)+(_0x4a6f19['type']===_0x5a9ef6(0xb8f)?'Player':_0x5a9ef6(0x222))+_0x5a9ef6(0x712)+_0x3eadf3['name']+'?')['button'](_0x5a9ef6(0x67f),_0x5a9ef6(0x933))[_0x5a9ef6(0x31f)](_0x5a9ef6(0x6e3),'textures/ui/cancel'),_0x1ad275=await _0x388b2e[_0x5a9ef6(0x504)](_0x55256d);if(_0x1ad275[_0x5a9ef6(0x9d4)]||_0x1ad275[_0x5a9ef6(0x77a)]===0x1)return;if(_0x4a6f19[_0x5a9ef6(0x9a5)]===_0x5a9ef6(0xb8f)){_0x3eadf3[_0x5a9ef6(0x709)]=_0x3eadf3['citizens'][_0x5a9ef6(0x7ae)](_0x501982=>_0x501982!==_0x4a6f19[_0x5a9ef6(0xa45)]),colonies[_0x5a9ef6(0x336)](_0x3eadf3['id'],_0x3eadf3),saveColonyData(),_0x55256d[_0x5a9ef6(0x34f)]('§c'+_0x4a6f19[_0x5a9ef6(0xa45)]+_0x5a9ef6(0x5e2)+_0x3eadf3[_0x5a9ef6(0xa45)]+'.');const _0xd4c763=world['getPlayers']()[_0x5a9ef6(0x2d0)](_0x29b5b8=>_0x29b5b8['name']===_0x4a6f19[_0x5a9ef6(0xa45)]);if(_0xd4c763){_0xd4c763['sendMessage'](_0x5a9ef6(0x16c)+_0x3eadf3[_0x5a9ef6(0xa45)]+'.');try{const _0x4cf9b4=_0xd4c763[_0x5a9ef6(0x460)](),_0x5eb834=_0x4cf9b4[_0x5a9ef6(0x7ae)](_0xfa1098=>_0xfa1098[_0x5a9ef6(0x42a)](_0x5a9ef6(0x3ae))||_0xfa1098[_0x5a9ef6(0x42a)](_0x5a9ef6(0x107)));_0x5eb834[_0x5a9ef6(0x2c2)](_0xe1a599=>_0xd4c763[_0x5a9ef6(0x866)](_0xe1a599)),_0xd4c763[_0x5a9ef6(0xa7c)]=_0xd4c763[_0x5a9ef6(0xa45)];}catch(_0x40842c){console[_0x5a9ef6(0x5b4)](_0x5a9ef6(0x198),_0x40842c);}}}else{if(_0x4a6f19[_0x5a9ef6(0x9a5)]===_0x5a9ef6(0xf3))try{const _0x44fa0a=_0x4a6f19[_0x5a9ef6(0x3e7)],_0x157707=_0x44fa0a[_0x5a9ef6(0x460)]()[_0x5a9ef6(0x7ae)](_0x1cb31e=>_0x1cb31e[_0x5a9ef6(0x42a)](_0x5a9ef6(0x30d))||_0x1cb31e[_0x5a9ef6(0x42a)]('colony_name:')||_0x1cb31e[_0x5a9ef6(0x42a)]('colony_owner:')||_0x1cb31e[_0x5a9ef6(0x42a)](_0x5a9ef6(0x3ae))||_0x1cb31e[_0x5a9ef6(0x42a)]('colony_rank:'));_0x157707[_0x5a9ef6(0x2c2)](_0x47ab2d=>_0x44fa0a['removeTag'](_0x47ab2d));const _0x5be94c=_0x4a6f19['originalName'],_0x5e1571=_0x5be94c[_0x5a9ef6(0x15a)](/§[0-9a-f]\[.*?\]§r\s*/g,'');_0x44fa0a[_0x5a9ef6(0xa7c)]=_0x5e1571,_0x55256d[_0x5a9ef6(0x34f)]('§c'+_0x4a6f19[_0x5a9ef6(0xa45)]+_0x5a9ef6(0x55c)+_0x3eadf3['name']+_0x5a9ef6(0x565));}catch(_0x364874){console[_0x5a9ef6(0x5b4)](_0x5a9ef6(0xd8),_0x364874),_0x55256d['sendMessage'](_0x5a9ef6(0xc3d));return;}}}catch(_0x447b26){console[_0x5a9ef6(0x5b4)](_0x5a9ef6(0xcb3),_0x447b26),_0x55256d[_0x5a9ef6(0x34f)]('§cError\x20removing\x20member.\x20Please\x20try\x20again.');}}async function renameColony(_0x583c4f,_0x5af455){const _0x5d9df0=_0x1d2622;try{const _0x508dd9=new ModalFormData()[_0x5d9df0(0xd1)](_0x5d9df0(0x961))[_0x5d9df0(0x556)](_0x5d9df0(0x45a),_0x5d9df0(0x2c7),_0x5af455[_0x5d9df0(0xa45)]),_0x388641=await _0x508dd9['show'](_0x583c4f);if(!_0x388641[_0x5d9df0(0x9d4)]){const _0x3efc03=_0x388641['formValues'][0x0];if(_0x3efc03&&_0x3efc03[_0x5d9df0(0x69d)]()!==''){const _0x4ffdf4=_0x5af455[_0x5d9df0(0xa45)];_0x5af455['name']=_0x3efc03['trim'](),colonies[_0x5d9df0(0x336)](_0x5af455['id'],_0x5af455);const _0x3c437c=getColorCode(_0x5af455[_0x5d9df0(0x16a)]['value']),_0x4c041c=_0x3c437c+'['+_0x4ffdf4+']§r',_0x1c9f9a=_0x3c437c+'['+_0x3efc03[_0x5d9df0(0x69d)]()+_0x5d9df0(0x327);try{const _0x6bad78=[world[_0x5d9df0(0xbc8)](_0x5d9df0(0x182)),world[_0x5d9df0(0xbc8)](_0x5d9df0(0x437)),world[_0x5d9df0(0xbc8)](_0x5d9df0(0x18d))];for(const _0xbb6dce of _0x6bad78){try{const _0x4bf8fd=_0xbb6dce[_0x5d9df0(0xc8f)]({'type':_0x5d9df0(0x7f6)});for(const _0x70d03 of _0x4bf8fd){_0x70d03[_0x5d9df0(0x4ac)](_0x5d9df0(0x30d)+_0x5af455['id'])&&(_0x70d03[_0x5d9df0(0x866)](_0x5d9df0(0x8bc)+_0x4ffdf4),_0x70d03[_0x5d9df0(0x875)]('colony_name:'+_0x3efc03[_0x5d9df0(0x69d)]()));}}catch(_0x42bcfb){console[_0x5d9df0(0x5b4)]('Error\x20updating\x20flags\x20in\x20dimension:',_0x42bcfb);}}}catch(_0x1fc0e8){console[_0x5d9df0(0x5b4)](_0x5d9df0(0xf6),_0x1fc0e8);}try{const _0x10f628=[world[_0x5d9df0(0xbc8)](_0x5d9df0(0x182)),world[_0x5d9df0(0xbc8)](_0x5d9df0(0x437)),world[_0x5d9df0(0xbc8)](_0x5d9df0(0x18d))];for(const _0x26d197 of _0x10f628){try{const _0x83a82=_0x26d197[_0x5d9df0(0xc8f)]({'type':_0x5d9df0(0x127)});for(const _0x4fc55a of _0x83a82){if(_0x4fc55a[_0x5d9df0(0x4ac)](_0x5d9df0(0x30d)+_0x5af455['id'])){_0x4fc55a[_0x5d9df0(0x866)](_0x5d9df0(0x8bc)+_0x4ffdf4),_0x4fc55a[_0x5d9df0(0x875)]('colony_name:'+_0x3efc03[_0x5d9df0(0x69d)]()),_0x4fc55a[_0x5d9df0(0x866)](_0x5d9df0(0x107)+_0x4c041c),_0x4fc55a[_0x5d9df0(0x875)]('colony_rank:'+_0x1c9f9a);const _0x7601aa=_0x4fc55a[_0x5d9df0(0xa7c)]||'',_0x18a729=_0x7601aa[_0x5d9df0(0x15a)](_0x4c041c,'')[_0x5d9df0(0x69d)]();_0x4fc55a[_0x5d9df0(0xa7c)]=_0x1c9f9a+'\x20'+_0x18a729;}}}catch(_0x32555f){console['warn'](_0x5d9df0(0xa84),_0x32555f);}}}catch(_0x57c2e3){console[_0x5d9df0(0x5b4)](_0x5d9df0(0xa28),_0x57c2e3);}try{const _0xeefb2d=[world['getDimension'](_0x5d9df0(0x182)),world[_0x5d9df0(0xbc8)](_0x5d9df0(0x437)),world[_0x5d9df0(0xbc8)](_0x5d9df0(0x18d))];for(const _0x4768e3 of _0xeefb2d){try{const _0x391045=_0x4768e3['getEntities']({'type':_0x5d9df0(0xca9)});for(const _0x55bb69 of _0x391045){if(_0x55bb69[_0x5d9df0(0x4ac)](_0x5d9df0(0x30d)+_0x5af455['id'])){_0x55bb69[_0x5d9df0(0x866)](_0x5d9df0(0x8bc)+_0x4ffdf4),_0x55bb69[_0x5d9df0(0x875)](_0x5d9df0(0x8bc)+_0x3efc03[_0x5d9df0(0x69d)]()),_0x55bb69['removeTag'](_0x5d9df0(0x107)+_0x4c041c),_0x55bb69['addTag'](_0x5d9df0(0x107)+_0x1c9f9a);const _0x736a19=_0x55bb69[_0x5d9df0(0xa7c)]||'',_0xe85968=_0x736a19['replace'](_0x4c041c,'')['trim']();_0x55bb69['nameTag']=_0x1c9f9a+'\x20'+_0xe85968;}}}catch(_0x5c4174){console['warn'](_0x5d9df0(0xbc2),_0x5c4174);}}}catch(_0x1c9ebc){console[_0x5d9df0(0x5b4)](_0x5d9df0(0x7c2),_0x1c9ebc);}try{const _0x42c624=world[_0x5d9df0(0x272)]();for(const _0x4b973e of _0x42c624){if(_0x4b973e['hasTag']('colony_member:'+_0x5af455['id'])||_0x4b973e[_0x5d9df0(0x4ac)](_0x5d9df0(0x30d)+_0x5af455['id'])){_0x4b973e['removeTag'](_0x5d9df0(0x107)+_0x4c041c),_0x4b973e['addTag'](_0x5d9df0(0x107)+_0x1c9f9a);const _0x22238c=_0x4b973e[_0x5d9df0(0xa7c)]||_0x4b973e[_0x5d9df0(0xa45)],_0x54b7de=_0x22238c['replace'](_0x4c041c,'')[_0x5d9df0(0x69d)]();_0x4b973e[_0x5d9df0(0xa7c)]=_0x1c9f9a+'\x20'+_0x54b7de;}}}catch(_0x4b0722){console[_0x5d9df0(0x5b4)]('Could\x20not\x20update\x20player\x20tags:',_0x4b0722);}saveColonyData(),_0x583c4f['sendMessage']('§aColony\x20renamed\x20to\x20\x22'+_0x3efc03+'\x22!'),_0x583c4f[_0x5d9df0(0x34f)](_0x5d9df0(0x34c));}}}catch(_0x33c011){console[_0x5d9df0(0x5b4)](_0x5d9df0(0x4c3),_0x33c011);}}async function deleteColony(_0x23a685,_0x4ff133){const _0x12b1b4=_0x1d2622;try{if(!_0x4ff133||!_0x4ff133['id']||!colonies['has'](_0x4ff133['id']))return _0x23a685['sendMessage'](_0x12b1b4(0xc9e)),![];_0x4ff133=colonies[_0x12b1b4(0xc0a)](_0x4ff133['id']);const _0x5c884e=_0x4ff133['name'],_0x2da49d=new ActionFormData()[_0x12b1b4(0xd1)]('§cDelete\x20Colony')[_0x12b1b4(0x629)](_0x12b1b4(0xbeb)+_0x5c884e+'\x22?\x0a§cThis\x20action\x20cannot\x20be\x20undone!')[_0x12b1b4(0x31f)](_0x12b1b4(0x2a9),_0x12b1b4(0x933))[_0x12b1b4(0x31f)](_0x12b1b4(0x468),_0x12b1b4(0x96e)),_0x22f38b=await _0x2da49d[_0x12b1b4(0x504)](_0x23a685);if(!_0x22f38b[_0x12b1b4(0x9d4)]&&_0x22f38b[_0x12b1b4(0x77a)]===0x0){try{const _0x5a975c=_0x23a685['dimension'];let _0x17c6f3=0x0;for(const _0x8e5898 of[_0x5a975c,world['getDimension'](_0x12b1b4(0x437)),world['getDimension'](_0x12b1b4(0x18d))]){try{const _0x112838=_0x8e5898[_0x12b1b4(0xc8f)]({'type':'jerrys_colonies:citizen'});for(const _0x40d5b4 of _0x112838){try{const _0x31b4e5=_0x40d5b4[_0x12b1b4(0x460)](),_0x57a2c9=_0x31b4e5[_0x12b1b4(0x2d0)](_0x487244=>_0x487244['startsWith'](_0x12b1b4(0x2a0))||_0x487244[_0x12b1b4(0x42a)](_0x12b1b4(0x30d)));if(_0x57a2c9&&(_0x57a2c9['includes'](_0x4ff133['id'])||_0x57a2c9===_0x12b1b4(0x30d)+_0x4ff133['id'])){const _0x2fc6ca=_0x31b4e5[_0x12b1b4(0x7ae)](_0x2640ac=>_0x2640ac[_0x12b1b4(0x42a)]('colony:')||_0x2640ac['startsWith']('colony_rank:')||_0x2640ac[_0x12b1b4(0x42a)](_0x12b1b4(0x30d))||_0x2640ac[_0x12b1b4(0x42a)](_0x12b1b4(0x5a7)));_0x2fc6ca[_0x12b1b4(0x2c2)](_0x445d6e=>_0x40d5b4['removeTag'](_0x445d6e));const _0x846059=_0x40d5b4[_0x12b1b4(0xa7c)]||'',_0x2755da=/§[0-9a-f]\[.*?\]§r\s+(.+)/,_0xf81216=_0x846059[_0x12b1b4(0x59d)](_0x2755da);if(_0xf81216){const _0x34fd24=_0xf81216[0x1];_0x40d5b4[_0x12b1b4(0xa7c)]=_0x34fd24;}_0x17c6f3++;}}catch(_0x5ae554){console[_0x12b1b4(0x5b4)](_0x12b1b4(0x676),_0x5ae554);}}}catch(_0x5c2e41){}}_0x17c6f3>0x0&&_0x23a685[_0x12b1b4(0x34f)]('§7'+_0x17c6f3+'\x20citizen(s)\x20were\x20released\x20from\x20the\x20colony.');try{const _0x461aa3=_0x5a975c[_0x12b1b4(0xc8f)]({'type':_0x12b1b4(0x311)});for(const _0x2f0928 of _0x461aa3){_0x2f0928['remove']();}}catch(_0x2cdcd4){console['warn']('Error\x20removing\x20exclamation\x20entities:',_0x2cdcd4);}}catch(_0x5ae438){console['warn']('Could\x20not\x20find\x20citizens\x20to\x20kill:',_0x5ae438);}const _0x46350f=_0x23a685[_0x12b1b4(0xaf8)];!_0x4ff133['flagLocations']&&(_0x4ff133[_0x12b1b4(0x61a)]=[_0x4ff133[_0x12b1b4(0x1f2)]]);let _0x2da3eb=0x0;for(const _0x322c25 of _0x4ff133[_0x12b1b4(0x61a)]){try{try{const _0xbbb74a=_0x46350f['getEntities']({'type':_0x12b1b4(0x7f6),'location':_0x322c25,'maxDistance':0x2});_0xbbb74a[_0x12b1b4(0xcd6)]>0x0?(_0xbbb74a[0x0][_0x12b1b4(0xa0b)](),_0x46350f['spawnItem'](new ItemStack(_0x12b1b4(0x91f),0x1),_0x322c25),_0x2da3eb++):(_0x46350f[_0x12b1b4(0x3ec)](new ItemStack('jerrys_colonies:colony_flag',0x1),_0x23a685['location']),_0x2da3eb++,console[_0x12b1b4(0x6a4)](_0x12b1b4(0x190)+_0x322c25['x']+',\x20'+_0x322c25['y']+',\x20'+_0x322c25['z']+_0x12b1b4(0x458)));}catch(_0x38996d){console[_0x12b1b4(0x6a4)]('Chunk\x20likely\x20not\x20loaded\x20for\x20flag\x20at\x20'+_0x322c25['x']+',\x20'+_0x322c25['y']+',\x20'+_0x322c25['z']+'.\x20Spawning\x20item\x20at\x20player\x20location.'),_0x46350f[_0x12b1b4(0x3ec)](new ItemStack('jerrys_colonies:colony_flag',0x1),_0x23a685[_0x12b1b4(0x1f2)]),_0x2da3eb++;}}catch(_0x2cbb0e){console['warn'](_0x12b1b4(0x7b1)+_0x322c25['x']+',\x20'+_0x322c25['y']+',\x20'+_0x322c25['z']+':',_0x2cbb0e);try{_0x46350f[_0x12b1b4(0x3ec)](new ItemStack(_0x12b1b4(0x91f),0x1),_0x23a685[_0x12b1b4(0x1f2)]),_0x2da3eb++;}catch(_0x387865){console[_0x12b1b4(0x5b4)]('Could\x20not\x20spawn\x20flag\x20at\x20player\x20location:',_0x387865);}}}_0x2da3eb>0x0&&_0x23a685[_0x12b1b4(0x34f)]('§7'+_0x2da3eb+'\x20colony\x20flag(s)\x20were\x20removed\x20and\x20returned\x20to\x20you.');let _0x243088=0x0;for(const _0x42adfc of[_0x46350f,world['getDimension'](_0x12b1b4(0x437)),world[_0x12b1b4(0xbc8)](_0x12b1b4(0x18d))]){try{const _0x47d397=_0x42adfc['getEntities']({'type':'jerrys_colonies:colony_flag_entity'});for(const _0x5f334c of _0x47d397){try{const _0x3764aa=_0x5f334c[_0x12b1b4(0x460)]();if(_0x3764aa['some'](_0x28cdc6=>_0x28cdc6===_0x12b1b4(0x30d)+_0x4ff133['id'])){const _0x34a1c0=_0x5f334c[_0x12b1b4(0x1f2)];_0x5f334c[_0x12b1b4(0xa0b)]();try{_0x42adfc[_0x12b1b4(0x3ec)](new ItemStack(_0x12b1b4(0x91f),0x1),_0x34a1c0),_0x243088++;}catch(_0x46aa85){try{_0x46350f[_0x12b1b4(0x3ec)](new ItemStack('jerrys_colonies:colony_flag',0x1),_0x23a685[_0x12b1b4(0x1f2)]),_0x243088++;}catch(_0x40e132){console['warn'](_0x12b1b4(0xb3b),_0x40e132);}}}}catch(_0x46c720){console[_0x12b1b4(0x5b4)](_0x12b1b4(0x9a6),_0x46c720);}}}catch(_0x4f4133){console[_0x12b1b4(0x5b4)](_0x12b1b4(0x385),_0x4f4133);}}_0x243088>0x0&&_0x23a685[_0x12b1b4(0x34f)](_0x12b1b4(0xa39)+_0x243088+_0x12b1b4(0x9c0));try{const _0x3b65a8=world[_0x12b1b4(0x272)]();let _0x36b2f7=0x0;for(const _0x3497fc of _0x3b65a8){try{const _0x4c7a03=_0x3497fc[_0x12b1b4(0x460)](),_0x54ba7d=_0x4c7a03['some'](_0x24066a=>_0x24066a===_0x12b1b4(0x3ae)+_0x4ff133['id']||_0x24066a[_0x12b1b4(0x42a)](_0x12b1b4(0x107)));if(_0x54ba7d||_0x4ff133['citizens'][_0x12b1b4(0x22d)](_0x3497fc['name'])||_0x3497fc['id']===_0x4ff133[_0x12b1b4(0x396)]){const _0x392391=_0x4c7a03[_0x12b1b4(0x7ae)](_0x46628a=>_0x46628a[_0x12b1b4(0x42a)](_0x12b1b4(0x3ae))||_0x46628a[_0x12b1b4(0x42a)](_0x12b1b4(0x107)));_0x392391[_0x12b1b4(0x2c2)](_0x16d2e4=>_0x3497fc[_0x12b1b4(0x866)](_0x16d2e4)),_0x3497fc[_0x12b1b4(0xa7c)]=_0x3497fc[_0x12b1b4(0xa45)],_0x36b2f7++;}}catch(_0x4a3da1){console[_0x12b1b4(0x5b4)](_0x12b1b4(0xa70),_0x4a3da1);}}_0x36b2f7>0x0&&_0x23a685[_0x12b1b4(0x34f)](_0x12b1b4(0x4d2)+_0x36b2f7+_0x12b1b4(0x730));}catch(_0x159361){console[_0x12b1b4(0x5b4)]('Error\x20cleaning\x20up\x20player\x20ranks:',_0x159361);}const _0x1bdd53=activeWars[_0x12b1b4(0x7ae)](_0x431f68=>_0x431f68[_0x12b1b4(0x6d0)]['id']===_0x4ff133['id']||_0x431f68[_0x12b1b4(0xad2)]['id']===_0x4ff133['id']);for(const _0x3fd00e of _0x1bdd53){try{const _0x364405=_0x3fd00e[_0x12b1b4(0x6d0)]['id']===_0x4ff133['id']?'B':'A';endWar(_0x3fd00e,_0x364405),_0x23a685['sendMessage'](_0x12b1b4(0x649)+(_0x3fd00e[_0x12b1b4(0x6d0)]['id']===_0x4ff133['id']?_0x3fd00e[_0x12b1b4(0xad2)]['name']:_0x3fd00e[_0x12b1b4(0x6d0)][_0x12b1b4(0xa45)])+'\x20due\x20to\x20colony\x20deletion.');}catch(_0xd12021){console[_0x12b1b4(0x5b4)](_0x12b1b4(0xb56),_0xd12021);}}try{const _0x209c18=world[_0x12b1b4(0x272)]();for(const _0x44a4a9 of _0x209c18){_0x44a4a9[_0x12b1b4(0x6ba)](_0x12b1b4(0xc3a));}}catch(_0x351d55){console[_0x12b1b4(0x5b4)](_0x12b1b4(0x9bc),_0x351d55);}const _0x187cc5=_0x4ff133[_0x12b1b4(0xa45)];return colonies[_0x12b1b4(0xb61)](_0x4ff133['id'])?(colonies[_0x12b1b4(0xbcb)](_0x4ff133['id']),_0x23a685[_0x12b1b4(0x34f)]('§cColony\x20\x22'+_0x187cc5+_0x12b1b4(0x24b))):_0x23a685[_0x12b1b4(0x34f)]('§cWarning:\x20Colony\x20was\x20already\x20removed\x20from\x20the\x20system.'),saveColonyData(),system[_0x12b1b4(0x633)](()=>{const _0x241a50=_0x12b1b4;for(const _0x490dca of world[_0x241a50(0x272)]()){try{_0x490dca[_0x241a50(0x903)][_0x241a50(0xc64)]('');}catch(_0x3c5d31){console[_0x241a50(0x5b4)](_0x241a50(0x8e5),_0x3c5d31);}}},0xa),system[_0x12b1b4(0x633)](()=>{saveColonyData();},0x28),!![];}return![];}catch(_0x4ae04c){return console[_0x12b1b4(0x5b4)](_0x12b1b4(0xb9b),_0x4ae04c),_0x23a685[_0x12b1b4(0x34f)]('§cAn\x20error\x20occurred\x20while\x20deleting\x20the\x20colony.\x20Please\x20try\x20again.'),![];}}async function manageDiplomacy(_0x251138,_0x1081b0){const _0x1e1563=_0x1d2622;try{const _0x23269b=Array[_0x1e1563(0x2f9)](colonies[_0x1e1563(0xaf3)]())['filter'](_0x328746=>_0x328746['id']!==_0x1081b0['id']);if(_0x23269b[_0x1e1563(0xcd6)]===0x0){_0x251138['sendMessage']('§cNo\x20other\x20colonies\x20exist\x20for\x20diplomacy!');return;}!_0x1081b0[_0x1e1563(0x2ca)]&&(_0x1081b0[_0x1e1563(0x2ca)]={});const _0x2ff9b1=_0x1081b0[_0x1e1563(0x396)]===_0x251138['id'],_0xea24d6=hasColonyPermission(_0x251138,_0x1081b0,_0x1e1563(0x2ca)),_0x34c829=_0x2ff9b1||_0xea24d6,_0x3bfb6a=_0x34c829?[_0x1e1563(0x1b1),_0x1e1563(0x863),_0x1e1563(0x790)]:[_0x1e1563(0x1b1)],_0x4f0c8e=new ActionFormData()['title'](_0x1e1563(0x68d))[_0x1e1563(0x629)](_0x1e1563(0xb48)+_0x23269b[_0x1e1563(0xcd6)]),_0x2b3a16=_0x34c829?[{'text':_0x1e1563(0x1b1),'icon':_0x1e1563(0x8c8)},{'text':_0x1e1563(0x863),'icon':'textures/ui/FriendsIcon'},{'text':_0x1e1563(0x790),'icon':_0x1e1563(0x96e)}]:[{'text':_0x1e1563(0x1b1),'icon':_0x1e1563(0x8c8)}];_0x2b3a16[_0x1e1563(0x2c2)](_0x95ec25=>_0x4f0c8e[_0x1e1563(0x31f)](_0x95ec25['text'],_0x95ec25[_0x1e1563(0x637)]));const _0xc74297=await _0x4f0c8e['show'](_0x251138);if(_0xc74297[_0x1e1563(0x9d4)])return;const _0x4ede34=_0x2b3a16[_0xc74297[_0x1e1563(0x77a)]]['text'];switch(_0x4ede34){case _0x1e1563(0x1b1):await viewAllColonies(_0x251138,_0x1081b0);break;case _0x1e1563(0x863):_0x34c829&&await setDiplomaticRelations(_0x251138,_0x1081b0);break;case'Declare\x20War':_0x34c829&&await declareWar(_0x251138,_0x1081b0);break;}}catch(_0xaee253){console['warn'](_0x1e1563(0xb8b),_0xaee253),_0x251138['sendMessage'](_0x1e1563(0x438));}}async function declareWar(_0x4fce09,_0x2802ef){const _0x47c6c3=_0x1d2622,_0x43317c=new Date();if(_0x43317c[_0x47c6c3(0x61d)]()===0xb&&_0x43317c[_0x47c6c3(0xa89)]()===0x19){_0x4fce09[_0x47c6c3(0x34f)](_0x47c6c3(0x18e));return;}const _0x1bd852=Date[_0x47c6c3(0x405)](),_0x34ab9f=warCooldowns[_0x47c6c3(0xc0a)](_0x2802ef['id'])||0x0,_0x14fc4a=WAR_COOLDOWN_MS;if(_0x1bd852-_0x34ab9f<_0x14fc4a){const _0x187809=Math[_0x47c6c3(0x831)]((_0x14fc4a-(_0x1bd852-_0x34ab9f))/0xea60);_0x4fce09[_0x47c6c3(0x34f)](_0x47c6c3(0x717)+_0x187809+'\x20more\x20minute(s)\x20before\x20declaring\x20another\x20war!\x20(10\x20in-game\x20days\x20cooldown)');return;}const _0x89e779=calculateColonyLevel(_0x2802ef);if(_0x89e779<0xf){_0x4fce09[_0x47c6c3(0x34f)](_0x47c6c3(0x4ea)+_0x89e779);return;}const _0x36debf=Array[_0x47c6c3(0x2f9)](colonies['values']())[_0x47c6c3(0x7ae)](_0x13f580=>_0x13f580['id']!==_0x2802ef['id']),_0x5990b8=_0x36debf['filter'](_0x1d559f=>{const _0x186be6=_0x47c6c3,_0x442174=calculateColonyLevel(_0x1d559f),_0x436247=_0x2802ef[_0x186be6(0x2ca)]&&_0x2802ef['diplomacy'][_0x1d559f['id']]?_0x2802ef['diplomacy'][_0x1d559f['id']]:_0x186be6(0xa0a);return _0x442174>=0xf&&_0x436247===_0x186be6(0x9ea);});if(_0x5990b8['length']===0x0){const _0x161ad=_0x36debf['filter'](_0x5abe59=>calculateColonyLevel(_0x5abe59)>=0xf);_0x161ad[_0x47c6c3(0xcd6)]===0x0?_0x4fce09[_0x47c6c3(0x34f)](_0x47c6c3(0x972)):_0x4fce09[_0x47c6c3(0x34f)](_0x47c6c3(0xcda));return;}const _0x482c8c=new ActionFormData()[_0x47c6c3(0xd1)](_0x47c6c3(0x64b))[_0x47c6c3(0x629)](_0x47c6c3(0x2e7));_0x5990b8[_0x47c6c3(0x2c2)](_0x10b1f0=>{const _0x4b7cb6=_0x47c6c3;_0x482c8c[_0x4b7cb6(0x31f)](_0x10b1f0[_0x4b7cb6(0xa45)]+_0x4b7cb6(0x376)+_0x10b1f0['owner']+')',_0x4b7cb6(0xb6d));});const _0x1d2b38=await _0x482c8c['show'](_0x4fce09);if(_0x1d2b38[_0x47c6c3(0x9d4)])return;const _0x51ae26=_0x5990b8[_0x1d2b38[_0x47c6c3(0x77a)]],_0x3c99a3=world[_0x47c6c3(0x272)]()['find'](_0x27b155=>_0x27b155['id']===_0x51ae26[_0x47c6c3(0x396)]);if(!_0x3c99a3){_0x4fce09['sendMessage']('§cCannot\x20declare\x20war:\x20The\x20owner\x20of\x20'+_0x51ae26[_0x47c6c3(0xa45)]+_0x47c6c3(0x865));return;}const _0x4aa22e=new ModalFormData()[_0x47c6c3(0xd1)](_0x47c6c3(0xdb))['dropdown'](_0x47c6c3(0x6d5),[_0x47c6c3(0xcd7),_0x47c6c3(0x11d),_0x47c6c3(0x710)],0x1),_0x3b8b76=await _0x4aa22e[_0x47c6c3(0x504)](_0x4fce09);if(_0x3b8b76[_0x47c6c3(0x9d4)])return;let _0x5df626=0x1e,_0x555340=_0x47c6c3(0x3e0);switch(_0x3b8b76[_0x47c6c3(0x36e)][0x0]){case 0x0:_0x5df626=0xa,_0x555340='10\x20minutes';break;case 0x1:_0x5df626=0x1e,_0x555340=_0x47c6c3(0x3e0);break;case 0x2:_0x5df626=0x3c,_0x555340=_0x47c6c3(0xab5);break;}const _0x32c07e=_0x5df626*0x3c,_0x5ae209=new ActionFormData()[_0x47c6c3(0xd1)](_0x47c6c3(0xb20))[_0x47c6c3(0x629)](_0x47c6c3(0x3e6)+_0x51ae26[_0x47c6c3(0xa45)]+_0x47c6c3(0x742)+_0x555340+_0x47c6c3(0x4c1))[_0x47c6c3(0x31f)](_0x47c6c3(0x64b),_0x47c6c3(0x933))[_0x47c6c3(0x31f)]('§0Cancel','textures/ui/cancel'),_0xbae839=await _0x5ae209[_0x47c6c3(0x504)](_0x4fce09);if(_0xbae839[_0x47c6c3(0x9d4)]||_0xbae839[_0x47c6c3(0x77a)]===0x1)return;startWar(_0x2802ef,_0x51ae26,_0x32c07e),warCooldowns['set'](_0x2802ef['id'],Date['now']()),saveWarCooldowns();}function convertKnightsToEnemyKnights(_0x72c787){const _0x5d7391=_0x1d2622;console[_0x5d7391(0x6a4)](_0x5d7391(0x616)+_0x72c787['id']);let _0x194167=0x0,_0x506a8c=0x0;for(const _0x3a3b57 of[world[_0x5d7391(0xbc8)](_0x5d7391(0x182)),world[_0x5d7391(0xbc8)](_0x5d7391(0x437)),world['getDimension'](_0x5d7391(0x18d))]){try{const _0x48489e=_0x3a3b57['getEntities']({'type':_0x5d7391(0xca9),'tags':['colony_id:'+_0x72c787['id']]});for(const _0x17a872 of _0x48489e){try{const _0x334684=_0x17a872[_0x5d7391(0x1f2)],_0x443578=_0x17a872['getRotation'](),_0x23da5b=_0x17a872[_0x5d7391(0xa7c)],_0x19964c=_0x17a872[_0x5d7391(0x299)](_0x5d7391(0x4fd)),_0x2b4795=_0x19964c?_0x19964c['currentValue']:0x46,_0x36e3ec=_0x17a872[_0x5d7391(0x460)](),_0x27df66=_0x17a872[_0x5d7391(0x299)](_0x5d7391(0x4e4))?.[_0x5d7391(0x768)]||0x1,_0x14f1c0=_0x17a872[_0x5d7391(0x299)](_0x5d7391(0xa74))?.['value']||0x0,_0x5d0607=_0x17a872[_0x5d7391(0x299)](_0x5d7391(0x343)),_0x5040a9={};if(_0x5d0607){const _0x2fffb2=_0x5d0607[_0x5d7391(0x8a9)](_0x5d7391(0x584)),_0x4c0856=_0x5d0607[_0x5d7391(0x8a9)](_0x5d7391(0x5ac)),_0x571277=_0x5d0607[_0x5d7391(0x8a9)]('Head'),_0x537a4d=_0x5d0607['getEquipmentSlot'](_0x5d7391(0x98c)),_0x152b50=_0x5d0607[_0x5d7391(0x8a9)](_0x5d7391(0xbda)),_0x5a8985=_0x5d0607[_0x5d7391(0x8a9)](_0x5d7391(0x9c4));_0x5040a9[_0x5d7391(0x5be)]=_0x2fffb2[_0x5d7391(0x416)](),_0x5040a9[_0x5d7391(0xd01)]=_0x4c0856[_0x5d7391(0x416)](),_0x5040a9[_0x5d7391(0x995)]=_0x571277[_0x5d7391(0x416)](),_0x5040a9['chest']=_0x537a4d[_0x5d7391(0x416)](),_0x5040a9[_0x5d7391(0x824)]=_0x152b50[_0x5d7391(0x416)](),_0x5040a9[_0x5d7391(0xc83)]=_0x5a8985[_0x5d7391(0x416)]();}const _0x5e59e0=_0x17a872[_0x5d7391(0x299)](_0x5d7391(0x9e4)),_0x365ba3=_0x5e59e0?_0x5e59e0[_0x5d7391(0x26e)]:null,_0x2b4886=[];if(_0x365ba3)for(let _0x1dd54f=0x0;_0x1dd54f<_0x365ba3[_0x5d7391(0x5c1)];_0x1dd54f++){const _0x4ec733=_0x365ba3[_0x5d7391(0x416)](_0x1dd54f);_0x4ec733&&_0x2b4886['push']({'slot':_0x1dd54f,'item':_0x4ec733});}_0x17a872['remove']();const _0x199dad=_0x3a3b57[_0x5d7391(0x26c)](_0x5d7391(0x1e3),_0x334684);_0x199dad[_0x5d7391(0x550)](_0x443578),_0x199dad['nameTag']=_0x23da5b;const _0x2f8266=_0x199dad[_0x5d7391(0x299)]('minecraft:health');_0x2f8266&&_0x2f8266[_0x5d7391(0x652)](_0x2b4795);for(const _0x548a09 of _0x36e3ec){_0x199dad['addTag'](_0x548a09);}_0x199dad['addTag'](_0x5d7391(0x35e));const _0x5cd62e=_0x199dad['getComponent'](_0x5d7391(0x343));if(_0x5cd62e&&_0x5040a9){if(_0x5040a9['mainhand']){const _0x5db2a3=_0x5cd62e[_0x5d7391(0x8a9)](_0x5d7391(0x584));_0x5db2a3[_0x5d7391(0xbc1)](_0x5040a9[_0x5d7391(0x5be)]);}if(_0x5040a9[_0x5d7391(0xd01)]){const _0x34478c=_0x5cd62e['getEquipmentSlot'](_0x5d7391(0x5ac));_0x34478c[_0x5d7391(0xbc1)](_0x5040a9[_0x5d7391(0xd01)]);}if(_0x5040a9['head']){const _0x4310a6=_0x5cd62e['getEquipmentSlot'](_0x5d7391(0x77c));_0x4310a6[_0x5d7391(0xbc1)](_0x5040a9[_0x5d7391(0x995)]);}if(_0x5040a9[_0x5d7391(0x213)]){const _0x13c419=_0x5cd62e[_0x5d7391(0x8a9)](_0x5d7391(0x98c));_0x13c419[_0x5d7391(0xbc1)](_0x5040a9[_0x5d7391(0x213)]);}if(_0x5040a9[_0x5d7391(0x824)]){const _0x28d885=_0x5cd62e[_0x5d7391(0x8a9)](_0x5d7391(0xbda));_0x28d885[_0x5d7391(0xbc1)](_0x5040a9[_0x5d7391(0x824)]);}if(_0x5040a9[_0x5d7391(0xc83)]){const _0x5452ef=_0x5cd62e['getEquipmentSlot']('Feet');_0x5452ef[_0x5d7391(0xbc1)](_0x5040a9[_0x5d7391(0xc83)]);}}const _0xc859b5=_0x199dad['getComponent'](_0x5d7391(0x9e4));if(_0xc859b5&&_0xc859b5[_0x5d7391(0x26e)]&&_0x2b4886[_0x5d7391(0xcd6)]>0x0)for(const _0x1e2bdf of _0x2b4886){_0xc859b5['container']['setItem'](_0x1e2bdf[_0x5d7391(0x32a)],_0x1e2bdf[_0x5d7391(0xcd8)]);}if(_0x27df66===0x2)_0x199dad[_0x5d7391(0xbd0)](_0x5d7391(0x8b1));else _0x27df66===0x3?_0x199dad[_0x5d7391(0xbd0)](_0x5d7391(0x7bd)):_0x199dad[_0x5d7391(0xbd0)](_0x5d7391(0xa08));if(_0x14f1c0){const _0x3e3a32=_0x199dad[_0x5d7391(0x299)](_0x5d7391(0xa74));_0x3e3a32&&(_0x3e3a32[_0x5d7391(0x768)]=_0x14f1c0);}_0x199dad[_0x5d7391(0xbd0)](_0x5d7391(0x4d1)),_0x199dad['triggerEvent']('knight_stand'),_0x194167++;}catch(_0x18af14){_0x18af14[_0x5d7391(0x72b)]()[_0x5d7391(0x22d)](_0x5d7391(0x4d9))||_0x18af14[_0x5d7391(0x72b)]()[_0x5d7391(0x22d)](_0x5d7391(0x6d1))?(pendingKnightConversions['set'](_0x17a872['id'],{'colonyId':_0x72c787['id'],'type':'to_enemy','timestamp':Date[_0x5d7391(0x405)]()}),_0x506a8c++,console['warn'](_0x5d7391(0x5c9)+_0x17a872['id'])):console[_0x5d7391(0x5b4)](_0x5d7391(0x4df),_0x18af14);}}}catch(_0x1fa151){console['warn']('[WAR]\x20Error\x20in\x20dimension:',_0x1fa151);}}console[_0x5d7391(0x6a4)](_0x5d7391(0x66e)+_0x194167+'\x20knights\x20to\x20enemy\x20knights,\x20'+_0x506a8c+_0x5d7391(0x3bd));}function convertEnemyKnightsToKnights(_0x2042a7){const _0x8cff35=_0x1d2622;console['log'](_0x8cff35(0x727)+_0x2042a7['id']);let _0x2a5df1=0x0,_0x2affa9=0x0;for(const _0x3ea219 of[world[_0x8cff35(0xbc8)](_0x8cff35(0x182)),world['getDimension']('nether'),world[_0x8cff35(0xbc8)]('the_end')]){try{const _0x687d39=_0x3ea219[_0x8cff35(0xc8f)]({'type':_0x8cff35(0x1e3),'tags':[_0x8cff35(0x30d)+_0x2042a7['id']]});for(const _0x312b61 of _0x687d39){try{const _0x137ce6=_0x312b61[_0x8cff35(0x1f2)],_0x3b0d9d=_0x312b61[_0x8cff35(0x912)](),_0x5400d5=_0x312b61[_0x8cff35(0xa7c)],_0x379c82=_0x312b61[_0x8cff35(0x299)]('minecraft:health'),_0x34e47d=_0x379c82?_0x379c82[_0x8cff35(0x7e6)]:0x46,_0x22207b=_0x312b61[_0x8cff35(0x460)](),_0x45194b=_0x312b61[_0x8cff35(0x299)]('minecraft:variant')?.['value']||0x1,_0x50ba49=_0x312b61[_0x8cff35(0x299)](_0x8cff35(0xa74))?.[_0x8cff35(0x768)]||0x0,_0x1e92b1=_0x312b61[_0x8cff35(0x299)](_0x8cff35(0x343)),_0x39b7f6={};if(_0x1e92b1){const _0x32853b=_0x1e92b1[_0x8cff35(0x8a9)](_0x8cff35(0x584)),_0x2a148c=_0x1e92b1['getEquipmentSlot'](_0x8cff35(0x5ac)),_0x15accc=_0x1e92b1['getEquipmentSlot'](_0x8cff35(0x77c)),_0x57fe02=_0x1e92b1[_0x8cff35(0x8a9)](_0x8cff35(0x98c)),_0x255cd7=_0x1e92b1['getEquipmentSlot'](_0x8cff35(0xbda)),_0xc4dba9=_0x1e92b1['getEquipmentSlot']('Feet');_0x39b7f6[_0x8cff35(0x5be)]=_0x32853b[_0x8cff35(0x416)](),_0x39b7f6[_0x8cff35(0xd01)]=_0x2a148c[_0x8cff35(0x416)](),_0x39b7f6[_0x8cff35(0x995)]=_0x15accc['getItem'](),_0x39b7f6[_0x8cff35(0x213)]=_0x57fe02[_0x8cff35(0x416)](),_0x39b7f6[_0x8cff35(0x824)]=_0x255cd7[_0x8cff35(0x416)](),_0x39b7f6[_0x8cff35(0xc83)]=_0xc4dba9['getItem']();}const _0x4f92bb=_0x312b61[_0x8cff35(0x299)](_0x8cff35(0x9e4)),_0x3e0fa2=_0x4f92bb?_0x4f92bb['container']:null,_0x44bb08=[];if(_0x3e0fa2)for(let _0x3c58a3=0x0;_0x3c58a3<_0x3e0fa2['size'];_0x3c58a3++){const _0x11f039=_0x3e0fa2['getItem'](_0x3c58a3);_0x11f039&&_0x44bb08[_0x8cff35(0x9bb)]({'slot':_0x3c58a3,'item':_0x11f039});}_0x312b61[_0x8cff35(0xa0b)]();const _0x20679c=_0x3ea219[_0x8cff35(0x26c)](_0x8cff35(0xca9),_0x137ce6);_0x20679c[_0x8cff35(0x550)](_0x3b0d9d),_0x20679c[_0x8cff35(0xa7c)]=_0x5400d5;const _0x17a5e3=_0x20679c[_0x8cff35(0x299)](_0x8cff35(0x4fd));_0x17a5e3&&_0x17a5e3[_0x8cff35(0x652)](_0x34e47d);for(const _0x59290f of _0x22207b){_0x59290f!==_0x8cff35(0x35e)&&_0x20679c[_0x8cff35(0x875)](_0x59290f);}_0x20679c[_0x8cff35(0x875)](_0x8cff35(0xb13));if(_0x45194b===0x2)_0x20679c[_0x8cff35(0xbd0)](_0x8cff35(0x8b1));else _0x45194b===0x3?_0x20679c['triggerEvent'](_0x8cff35(0x7bd)):_0x20679c[_0x8cff35(0xbd0)](_0x8cff35(0xa08));if(_0x50ba49){const _0x5a9b31=_0x20679c[_0x8cff35(0x299)](_0x8cff35(0xa74));_0x5a9b31&&(_0x5a9b31[_0x8cff35(0x768)]=_0x50ba49);}_0x20679c[_0x8cff35(0xbd0)](_0x8cff35(0x4d1)),_0x20679c[_0x8cff35(0xbd0)]('knight_stand'),_0x2a5df1++;}catch(_0x32729d){_0x32729d['toString']()[_0x8cff35(0x22d)]('LocationInUnloadedChunkError')||_0x32729d[_0x8cff35(0x72b)]()[_0x8cff35(0x22d)]('not\x20in\x20a\x20chunk\x20currently\x20loaded')?(pendingKnightConversions[_0x8cff35(0x336)](_0x312b61['id'],{'colonyId':_0x2042a7['id'],'type':_0x8cff35(0x287),'timestamp':Date[_0x8cff35(0x405)]()}),_0x2affa9++,console['warn'](_0x8cff35(0x31e)+_0x312b61['id'])):console[_0x8cff35(0x5b4)](_0x8cff35(0x3b1),_0x32729d);}}}catch(_0x207fdd){console[_0x8cff35(0x5b4)]('[WAR]\x20Error\x20in\x20dimension:',_0x207fdd);}}console['log'](_0x8cff35(0x66e)+_0x2a5df1+_0x8cff35(0xe1)+_0x2affa9+_0x8cff35(0x3bd));}function convertSingleKnightToEnemy(_0x14dd3f,_0x5085b9){const _0x19f16f=_0x1d2622,_0x55a6ca=_0x14dd3f['location'],_0x2be19a=_0x14dd3f[_0x19f16f(0x912)](),_0x170e59=_0x14dd3f[_0x19f16f(0xa7c)],_0x4cf979=_0x14dd3f[_0x19f16f(0x299)](_0x19f16f(0x4fd)),_0x7e9de1=_0x4cf979?_0x4cf979[_0x19f16f(0x7e6)]:0x46,_0xcc9086=_0x14dd3f[_0x19f16f(0x460)](),_0x2a33c3=_0x14dd3f['getComponent'](_0x19f16f(0x4e4))?.[_0x19f16f(0x768)]||0x1,_0x4974e7=_0x14dd3f[_0x19f16f(0x299)]('minecraft:skin_id')?.[_0x19f16f(0x768)]||0x0,_0x4c0d7a=_0x14dd3f['getComponent']('minecraft:equippable'),_0x452486={};_0x4c0d7a&&(_0x452486[_0x19f16f(0x5be)]=_0x4c0d7a[_0x19f16f(0xaef)](_0x19f16f(0x584)),_0x452486[_0x19f16f(0xd01)]=_0x4c0d7a['getEquipment'](_0x19f16f(0x5ac)),_0x452486['head']=_0x4c0d7a[_0x19f16f(0xaef)]('Head'),_0x452486[_0x19f16f(0x213)]=_0x4c0d7a[_0x19f16f(0xaef)](_0x19f16f(0x98c)),_0x452486[_0x19f16f(0x824)]=_0x4c0d7a[_0x19f16f(0xaef)]('Legs'),_0x452486[_0x19f16f(0xc83)]=_0x4c0d7a['getEquipment'](_0x19f16f(0x9c4)));const _0x284e76=_0x14dd3f[_0x19f16f(0x299)](_0x19f16f(0x9e4)),_0x43a4af=_0x284e76?_0x284e76[_0x19f16f(0x26e)]:null,_0x4c7d51=[];if(_0x43a4af)for(let _0x15a7ca=0x0;_0x15a7ca<_0x43a4af[_0x19f16f(0x5c1)];_0x15a7ca++){const _0x4349b5=_0x43a4af[_0x19f16f(0x416)](_0x15a7ca);_0x4349b5&&_0x4c7d51[_0x19f16f(0x9bb)]({'slot':_0x15a7ca,'item':_0x4349b5});}_0x14dd3f[_0x19f16f(0xa0b)]();const _0x414e34=_0x5085b9[_0x19f16f(0x26c)](_0x19f16f(0x1e3),_0x55a6ca);_0x414e34[_0x19f16f(0x550)](_0x2be19a),_0x414e34[_0x19f16f(0xa7c)]=_0x170e59;const _0x66098f=_0x414e34[_0x19f16f(0x299)](_0x19f16f(0x4fd));if(_0x66098f)_0x66098f[_0x19f16f(0x652)](_0x7e9de1);for(const _0x31a41c of _0xcc9086){_0x414e34['addTag'](_0x31a41c);}_0x414e34[_0x19f16f(0x875)](_0x19f16f(0x35e));const _0x2dc77e=_0x414e34['getComponent'](_0x19f16f(0x343));if(_0x2dc77e&&_0x452486){if(_0x452486[_0x19f16f(0x5be)])_0x2dc77e[_0x19f16f(0x870)]('Mainhand',_0x452486[_0x19f16f(0x5be)]);if(_0x452486[_0x19f16f(0xd01)])_0x2dc77e[_0x19f16f(0x870)](_0x19f16f(0x5ac),_0x452486[_0x19f16f(0xd01)]);if(_0x452486[_0x19f16f(0x995)])_0x2dc77e[_0x19f16f(0x870)]('Head',_0x452486[_0x19f16f(0x995)]);if(_0x452486[_0x19f16f(0x213)])_0x2dc77e['setEquipment'](_0x19f16f(0x98c),_0x452486[_0x19f16f(0x213)]);if(_0x452486[_0x19f16f(0x824)])_0x2dc77e[_0x19f16f(0x870)](_0x19f16f(0xbda),_0x452486['legs']);if(_0x452486[_0x19f16f(0xc83)])_0x2dc77e[_0x19f16f(0x870)](_0x19f16f(0x9c4),_0x452486[_0x19f16f(0xc83)]);}const _0x53c0b4=_0x414e34[_0x19f16f(0x299)](_0x19f16f(0x9e4));if(_0x53c0b4&&_0x53c0b4['container']&&_0x4c7d51[_0x19f16f(0xcd6)]>0x0)for(const _0x3850fd of _0x4c7d51){_0x53c0b4['container'][_0x19f16f(0xbc1)](_0x3850fd[_0x19f16f(0x32a)],_0x3850fd[_0x19f16f(0xcd8)]);}if(_0x2a33c3===0x2)_0x414e34[_0x19f16f(0xbd0)](_0x19f16f(0x8b1));else _0x2a33c3===0x3?_0x414e34[_0x19f16f(0xbd0)](_0x19f16f(0x7bd)):_0x414e34[_0x19f16f(0xbd0)](_0x19f16f(0xa08));if(_0x4974e7){const _0x1f8ba5=_0x414e34[_0x19f16f(0x299)](_0x19f16f(0xa74));if(_0x1f8ba5)_0x1f8ba5[_0x19f16f(0x768)]=_0x4974e7;}_0x414e34[_0x19f16f(0xbd0)](_0x19f16f(0x4d1)),_0x414e34[_0x19f16f(0xbd0)](_0x19f16f(0x862));}function convertSingleEnemyKnightToRegular(_0x5257fd,_0x15b9ce){const _0x1146f7=_0x1d2622,_0x7992b3=_0x5257fd['location'],_0x740208=_0x5257fd[_0x1146f7(0x912)](),_0x4f951b=_0x5257fd[_0x1146f7(0xa7c)],_0xa8ee08=_0x5257fd[_0x1146f7(0x299)](_0x1146f7(0x4fd)),_0x1adc07=_0xa8ee08?_0xa8ee08[_0x1146f7(0x7e6)]:0x46,_0x53f8f2=_0x5257fd[_0x1146f7(0x460)](),_0x3e93e5=_0x5257fd[_0x1146f7(0x299)]('minecraft:variant')?.['value']||0x1,_0x2fe11f=_0x5257fd['getComponent'](_0x1146f7(0xa74))?.['value']||0x0,_0x300e16=_0x5257fd[_0x1146f7(0x299)]('minecraft:equippable'),_0x1cd842={};_0x300e16&&(_0x1cd842[_0x1146f7(0x5be)]=_0x300e16['getEquipment'](_0x1146f7(0x584)),_0x1cd842[_0x1146f7(0xd01)]=_0x300e16[_0x1146f7(0xaef)](_0x1146f7(0x5ac)),_0x1cd842['head']=_0x300e16[_0x1146f7(0xaef)](_0x1146f7(0x77c)),_0x1cd842[_0x1146f7(0x213)]=_0x300e16[_0x1146f7(0xaef)](_0x1146f7(0x98c)),_0x1cd842[_0x1146f7(0x824)]=_0x300e16['getEquipment']('Legs'),_0x1cd842[_0x1146f7(0xc83)]=_0x300e16['getEquipment'](_0x1146f7(0x9c4)));const _0x295149=_0x5257fd[_0x1146f7(0x299)](_0x1146f7(0x9e4)),_0x23c7cd=_0x295149?_0x295149['container']:null,_0x278ac0=[];if(_0x23c7cd)for(let _0x1b2834=0x0;_0x1b2834<_0x23c7cd[_0x1146f7(0x5c1)];_0x1b2834++){const _0x1238a1=_0x23c7cd['getItem'](_0x1b2834);_0x1238a1&&_0x278ac0[_0x1146f7(0x9bb)]({'slot':_0x1b2834,'item':_0x1238a1});}_0x5257fd[_0x1146f7(0xa0b)]();const _0x2a5361=_0x15b9ce[_0x1146f7(0x26c)]('jerrys_colonies:knight',_0x7992b3);_0x2a5361[_0x1146f7(0x550)](_0x740208),_0x2a5361[_0x1146f7(0xa7c)]=_0x4f951b;const _0xdc873f=_0x2a5361[_0x1146f7(0x299)](_0x1146f7(0x4fd));if(_0xdc873f)_0xdc873f['setCurrentValue'](_0x1adc07);for(const _0x5498e5 of _0x53f8f2){_0x5498e5!==_0x1146f7(0x35e)&&_0x2a5361[_0x1146f7(0x875)](_0x5498e5);}_0x2a5361[_0x1146f7(0x875)](_0x1146f7(0xb13));if(_0x3e93e5===0x2)_0x2a5361[_0x1146f7(0xbd0)](_0x1146f7(0x8b1));else _0x3e93e5===0x3?_0x2a5361['triggerEvent']('become_cavalry'):_0x2a5361[_0x1146f7(0xbd0)]('become_melee');if(_0x2fe11f){const _0x416a0b=_0x2a5361[_0x1146f7(0x299)]('minecraft:skin_id');if(_0x416a0b)_0x416a0b[_0x1146f7(0x768)]=_0x2fe11f;}_0x2a5361[_0x1146f7(0xbd0)](_0x1146f7(0x4d1)),_0x2a5361[_0x1146f7(0xbd0)](_0x1146f7(0x862));}function startWar(_0x323417,_0x344e2f,_0x2af52e=0x708){const _0x485b0c=_0x1d2622;if(activeWars[_0x485b0c(0xcd6)]>0x0)return;if(activeWars[_0x485b0c(0xb49)](_0x3a536d=>_0x3a536d[_0x485b0c(0x6d0)]['id']===_0x323417['id']&&_0x3a536d[_0x485b0c(0xad2)]['id']===_0x344e2f['id']||_0x3a536d['colonyA']['id']===_0x344e2f['id']&&_0x3a536d[_0x485b0c(0xad2)]['id']===_0x323417['id']))return;const _0x36cc8f={'colonyA':_0x323417,'colonyB':_0x344e2f,'timeLeft':_0x2af52e,'killsA':0x0,'killsB':0x0};activeWars[_0x485b0c(0x9bb)](_0x36cc8f),saveActiveWars(),forceCorrectWarTags(_0x323417,_0x344e2f),console['log']('[WAR]\x20Knights\x20will\x20remain\x20as\x20regular\x20knight\x20entities\x20during\x20war');for(const _0x5dd003 of world[_0x485b0c(0x272)]()){_0x5dd003[_0x485b0c(0x903)]&&_0x5dd003[_0x485b0c(0x903)][_0x485b0c(0x5d3)]?_0x5dd003[_0x485b0c(0x903)][_0x485b0c(0x5d3)]('§cWAR\x20DECLARED','§6'+_0x323417[_0x485b0c(0xa45)]+_0x485b0c(0x8d3)+_0x344e2f[_0x485b0c(0xa45)],{'fadeInDuration':0x14,'stayDuration':0x3c,'fadeOutDuration':0x14}):(_0x5dd003[_0x485b0c(0x6ba)](_0x485b0c(0xb58)),_0x5dd003[_0x485b0c(0x6ba)](_0x485b0c(0x18f)+_0x323417[_0x485b0c(0xa45)]+_0x485b0c(0xca7)+_0x344e2f[_0x485b0c(0xa45)]+_0x485b0c(0xbd2)));try{_0x5dd003['playSound'](_0x485b0c(0x58b));}catch(_0x25a5c2){console['warn']('Could\x20not\x20play\x20war\x20declared\x20sound:',_0x25a5c2);}}clearWarSideTags(),setWarSideTags(0x1,_0x323417[_0x485b0c(0x709)]['concat']([_0x323417['owner']]),[_0x323417['id']]),setWarSideTags(0x2,_0x344e2f['citizens']['concat']([_0x344e2f[_0x485b0c(0xcd0)]]),[_0x344e2f['id']]);for(const _0xfb4da9 of[world['getDimension'](_0x485b0c(0x182)),world[_0x485b0c(0xbc8)](_0x485b0c(0x437)),world[_0x485b0c(0xbc8)](_0x485b0c(0x18d))]){try{const _0x5ade56=_0xfb4da9[_0x485b0c(0xc8f)]({'type':_0x485b0c(0x127)});for(const _0x31fd5a of _0x5ade56){const _0x5c603c=_0x31fd5a['getTags']();if(_0x5c603c[_0x485b0c(0x22d)](_0x485b0c(0xb32)))try{_0x31fd5a[_0x485b0c(0xbd0)]('start_war_mode_side_1');}catch(_0x485371){}else{if(_0x5c603c[_0x485b0c(0x22d)](_0x485b0c(0xa14)))try{_0x31fd5a['triggerEvent'](_0x485b0c(0x268));}catch(_0x33ec96){}}}}catch(_0x1aadbe){}}_0x36cc8f[_0x485b0c(0x569)]=system[_0x485b0c(0x613)](()=>{const _0x3d7af1=_0x485b0c;updateWarActionbar(_0x36cc8f),_0x36cc8f[_0x3d7af1(0x60f)]--,_0x36cc8f[_0x3d7af1(0x60f)]<=0x0&&endWar(_0x36cc8f),saveActiveWars();},0x14);}function isPlayerInActiveArenaMatch(_0x42589a){const _0x9a1165=_0x1d2622;for(const _0x57f9a6 of activeMatches[_0x9a1165(0xaf3)]()){if(_0x57f9a6['status']===_0x9a1165(0x2d4)){for(const _0x2972a7 of Object[_0x9a1165(0xaf3)](_0x57f9a6[_0x9a1165(0xc3c)])){if(_0x2972a7[_0x9a1165(0x157)][_0x9a1165(0x22d)](_0x42589a))return!![];}try{const _0x12e334=world[_0x9a1165(0x272)]()['find'](_0x2df67e=>_0x2df67e['name']===_0x42589a);if(_0x12e334&&_0x12e334[_0x9a1165(0x25f)]()){const _0x237749=world['getDimension']('overworld'),_0x668bf4=Math[_0x9a1165(0x4e0)](Math[_0x9a1165(0x6bc)](_0x12e334['location']['x']-ARENA_CENTER['x'],0x2)+Math['pow'](_0x12e334['location']['y']-ARENA_CENTER['y'],0x2)+Math[_0x9a1165(0x6bc)](_0x12e334[_0x9a1165(0x1f2)]['z']-ARENA_CENTER['z'],0x2));if(_0x668bf4<=0x96)return!![];}}catch(_0x513d17){}}}return![];}function updateWarActionbar(_0x207e2e){const _0x53a615=_0x1d2622,_0x93866b=Math[_0x53a615(0xb51)](0x0,Math[_0x53a615(0x648)](_0x207e2e[_0x53a615(0x60f)])),_0x1aad8e=Math[_0x53a615(0x648)](_0x93866b/0x3c)[_0x53a615(0x72b)]()[_0x53a615(0xafd)](0x2,'0'),_0x15675e=(_0x93866b%0x3c)['toString']()[_0x53a615(0xafd)](0x2,'0'),_0x5583d5=_0x53a615(0x8db)+_0x1aad8e+':'+_0x15675e+_0x53a615(0x9ad)+_0x207e2e[_0x53a615(0x6d0)][_0x53a615(0xa45)]+_0x53a615(0xb0e)+_0x207e2e[_0x53a615(0x984)]+'\x20kills\x20\x20§6'+_0x207e2e[_0x53a615(0xad2)][_0x53a615(0xa45)]+'§r:\x20'+_0x207e2e[_0x53a615(0xb2c)]+_0x53a615(0x6f3);for(const _0x2dcf31 of world['getPlayers']()){if(pendingArenaTeleports['has'](_0x2dcf31['id']))continue;if(isPlayerInActiveArenaMatch(_0x2dcf31[_0x53a615(0xa45)]))continue;_0x2dcf31['runCommandAsync'](_0x53a615(0xcee)+_0x5583d5+_0x53a615(0xbd2));}}function endWar(_0x57e8b2,_0x32036d){const _0x3cc84a=_0x1d2622;system[_0x3cc84a(0xcd3)](_0x57e8b2[_0x3cc84a(0x569)]);let _0x28de56='',_0x54de14=null,_0x47f8db=null;if(_0x32036d==='A')_0x28de56='§a'+_0x57e8b2[_0x3cc84a(0x6d0)]['name']+'\x20wins\x20the\x20war!',_0x54de14=_0x57e8b2[_0x3cc84a(0x6d0)],_0x47f8db=_0x57e8b2[_0x3cc84a(0xad2)];else{if(_0x32036d==='B')_0x28de56='§a'+_0x57e8b2[_0x3cc84a(0xad2)][_0x3cc84a(0xa45)]+'\x20wins\x20the\x20war!',_0x54de14=_0x57e8b2['colonyB'],_0x47f8db=_0x57e8b2[_0x3cc84a(0x6d0)];else{if(_0x57e8b2[_0x3cc84a(0x984)]>_0x57e8b2['killsB'])_0x28de56='§a'+_0x57e8b2['colonyA'][_0x3cc84a(0xa45)]+_0x3cc84a(0xc49)+_0x57e8b2[_0x3cc84a(0x984)]+'\x20vs\x20'+_0x57e8b2[_0x3cc84a(0xb2c)]+')',_0x54de14=_0x57e8b2[_0x3cc84a(0x6d0)],_0x47f8db=_0x57e8b2['colonyB'];else _0x57e8b2[_0x3cc84a(0xb2c)]>_0x57e8b2[_0x3cc84a(0x984)]&&(_0x28de56='§a'+_0x57e8b2[_0x3cc84a(0xad2)][_0x3cc84a(0xa45)]+_0x3cc84a(0xc49)+_0x57e8b2['killsB']+'\x20vs\x20'+_0x57e8b2[_0x3cc84a(0x984)]+')',_0x54de14=_0x57e8b2[_0x3cc84a(0xad2)],_0x47f8db=_0x57e8b2[_0x3cc84a(0x6d0)]);}}if(_0x54de14&&_0x47f8db){if(!_0x54de14[_0x3cc84a(0xc8e)])_0x54de14[_0x3cc84a(0xc8e)]=0x0;_0x54de14[_0x3cc84a(0xc8e)]++,colonies[_0x3cc84a(0x336)](_0x54de14['id'],_0x54de14),saveColonyData();}else _0x28de56='§e'+_0x57e8b2[_0x3cc84a(0x6d0)][_0x3cc84a(0xa45)]+'\x20and\x20'+_0x57e8b2[_0x3cc84a(0xad2)]['name']+_0x3cc84a(0x94e);for(const _0x4ac6db of world[_0x3cc84a(0x272)]()){_0x4ac6db['onScreenDisplay']&&_0x4ac6db['onScreenDisplay'][_0x3cc84a(0x5d3)]?_0x4ac6db[_0x3cc84a(0x903)][_0x3cc84a(0x5d3)](_0x28de56,'§6'+_0x57e8b2['colonyA'][_0x3cc84a(0xa45)]+_0x3cc84a(0x8d3)+_0x57e8b2[_0x3cc84a(0xad2)][_0x3cc84a(0xa45)],{'fadeInDuration':0x14,'stayDuration':0x50,'fadeOutDuration':0x14}):(_0x4ac6db['runCommandAsync'](_0x3cc84a(0x5fa)+_0x28de56+'\x22}]}'),_0x4ac6db[_0x3cc84a(0x6ba)](_0x3cc84a(0x18f)+_0x57e8b2[_0x3cc84a(0x6d0)][_0x3cc84a(0xa45)]+'\x20vs\x20'+_0x57e8b2['colonyB'][_0x3cc84a(0xa45)]+_0x3cc84a(0xbd2)));_0x4ac6db['runCommandAsync']('titleraw\x20@s\x20actionbar\x20{\x22rawtext\x22:[{\x22text\x22:\x22\x22}]}');try{_0x4ac6db[_0x3cc84a(0x285)]('event.war_over');}catch(_0x17932c){console[_0x3cc84a(0x5b4)](_0x3cc84a(0x93b),_0x17932c);}}for(const _0x187c4c of[world[_0x3cc84a(0xbc8)](_0x3cc84a(0x182)),world[_0x3cc84a(0xbc8)](_0x3cc84a(0x437)),world[_0x3cc84a(0xbc8)](_0x3cc84a(0x18d))]){try{const _0x447c86=_0x187c4c[_0x3cc84a(0xc8f)]({'type':_0x3cc84a(0x127)});for(const _0x408c23 of _0x447c86){const _0x1dd58d=_0x408c23[_0x3cc84a(0x460)]();if(_0x1dd58d[_0x3cc84a(0x22d)](_0x3cc84a(0xb32)))try{_0x408c23[_0x3cc84a(0xbd0)](_0x3cc84a(0xa2d));}catch(_0x482f16){}else{if(_0x1dd58d[_0x3cc84a(0x22d)](_0x3cc84a(0xa14)))try{_0x408c23[_0x3cc84a(0xbd0)](_0x3cc84a(0x170));}catch(_0x21a990){}}}}catch(_0xa4f496){}}console[_0x3cc84a(0x6a4)]('[WAR]\x20War\x20ended\x20-\x20knights\x20remain\x20as\x20regular\x20entities');if(_0x54de14&&_0x47f8db)try{const _0x15c89c=world[_0x3cc84a(0x272)]()[_0x3cc84a(0x2d0)](_0x35827b=>_0x35827b['id']===_0x54de14[_0x3cc84a(0x396)]);!_0x47f8db[_0x3cc84a(0x61a)]&&(_0x47f8db[_0x3cc84a(0x61a)]=[_0x47f8db['location']],colonies[_0x3cc84a(0x336)](_0x47f8db['id'],_0x47f8db),saveColonyData());if(_0x47f8db[_0x3cc84a(0x61a)][_0x3cc84a(0xcd6)]>0x1){if(_0x15c89c)system[_0x3cc84a(0x633)](()=>{offerFlagStealing(_0x15c89c,_0x54de14,_0x47f8db);},0x3c);else{console[_0x3cc84a(0x6a4)](_0x3cc84a(0x83d)+_0x54de14['ownerId']+_0x3cc84a(0x8cb)),pendingFlagSteals['set'](_0x54de14[_0x3cc84a(0x396)],{'winnerColonyId':_0x54de14['id'],'loserColonyId':_0x47f8db['id'],'timestamp':Date['now']()}),savePendingFlagSteals();const _0x480e1d=world[_0x3cc84a(0x272)]()[_0x3cc84a(0x7ae)](_0x329155=>{const _0x48bc1a=_0x3cc84a,_0x516739=_0x329155[_0x48bc1a(0x460)]()[_0x48bc1a(0x2d0)](_0x575da3=>_0x575da3[_0x48bc1a(0x42a)](_0x48bc1a(0x3ae)));return _0x516739&&_0x516739[_0x48bc1a(0x684)](_0x54de14['id']);});for(const _0x384183 of _0x480e1d){_0x384183['sendMessage'](_0x3cc84a(0x1fd)+_0x47f8db[_0x3cc84a(0xa45)]+'!\x20Your\x20colony\x20owner\x20can\x20claim\x20one\x20of\x20their\x20non-primary\x20flags\x20when\x20they\x20log\x20in.');}}}}catch(_0x50ec5f){console[_0x3cc84a(0x5b4)]('Error\x20during\x20flag\x20stealing\x20process:',_0x50ec5f);}activeWars=activeWars[_0x3cc84a(0x7ae)](_0x982629=>_0x982629!==_0x57e8b2),saveActiveWars();}function checkPendingFlagSteal(_0x5c0fdb){const _0x3c133f=_0x1d2622;try{if(!_0x5c0fdb||!_0x5c0fdb['id'])return;const _0x3a10fc=pendingFlagSteals[_0x3c133f(0xc0a)](_0x5c0fdb['id']);if(!_0x3a10fc)return;console[_0x3c133f(0x6a4)]('Player\x20'+_0x5c0fdb[_0x3c133f(0xa45)]+'\x20has\x20a\x20pending\x20flag\x20steal\x20opportunity');const _0x27b055=colonies['get'](_0x3a10fc[_0x3c133f(0xba4)]),_0x1f2c01=colonies[_0x3c133f(0xc0a)](_0x3a10fc[_0x3c133f(0x68c)]);if(!_0x27b055||!_0x1f2c01){console[_0x3c133f(0x5b4)]('One\x20or\x20both\x20colonies\x20no\x20longer\x20exist\x20for\x20pending\x20flag\x20steal'),pendingFlagSteals[_0x3c133f(0xbcb)](_0x5c0fdb['id']),savePendingFlagSteals(),_0x5c0fdb[_0x3c133f(0x34f)](_0x3c133f(0xbf5));return;}if(!_0x1f2c01[_0x3c133f(0x61a)]||_0x1f2c01[_0x3c133f(0x61a)][_0x3c133f(0xcd6)]<=0x1){console[_0x3c133f(0x6a4)](_0x3c133f(0x418)),pendingFlagSteals[_0x3c133f(0xbcb)](_0x5c0fdb['id']),savePendingFlagSteals(),_0x5c0fdb[_0x3c133f(0x34f)]('§e'+_0x1f2c01[_0x3c133f(0xa45)]+'\x20no\x20longer\x20has\x20any\x20non-primary\x20flags\x20to\x20steal.');return;}if(_0x27b055['ownerId']!==_0x5c0fdb['id']){console[_0x3c133f(0x6a4)](_0x3c133f(0xad3)),pendingFlagSteals['delete'](_0x5c0fdb['id']),savePendingFlagSteals();return;}_0x5c0fdb['sendMessage'](_0x3c133f(0x6c4)+_0x1f2c01[_0x3c133f(0xa45)]+'!'),_0x5c0fdb['sendMessage'](_0x3c133f(0x2cb)),system[_0x3c133f(0x633)](()=>{const _0x49c779=_0x3c133f;offerFlagStealing(_0x5c0fdb,_0x27b055,_0x1f2c01),pendingFlagSteals[_0x49c779(0xbcb)](_0x5c0fdb['id']),savePendingFlagSteals();},0x50);}catch(_0x47b857){console[_0x3c133f(0x7bf)](_0x3c133f(0xa41),_0x47b857);}}async function offerFlagStealing(_0x1027a4,_0x3f3dfa,_0x57a5cb){const _0x199b59=_0x1d2622;try{if(!colonies['has'](_0x3f3dfa['id'])||!colonies[_0x199b59(0xb61)](_0x57a5cb['id'])){console[_0x199b59(0x5b4)](_0x199b59(0x31c));pendingFlagSteals[_0x199b59(0xb61)](_0x1027a4['id'])&&(pendingFlagSteals[_0x199b59(0xbcb)](_0x1027a4['id']),savePendingFlagSteals());return;}_0x3f3dfa=colonies['get'](_0x3f3dfa['id']),_0x57a5cb=colonies['get'](_0x57a5cb['id']);if(!_0x57a5cb['flagLocations']||_0x57a5cb[_0x199b59(0x61a)][_0x199b59(0xcd6)]<=0x1){_0x1027a4[_0x199b59(0x34f)]('§6'+_0x57a5cb[_0x199b59(0xa45)]+'\x20has\x20no\x20non-primary\x20flags\x20to\x20steal.');pendingFlagSteals[_0x199b59(0xb61)](_0x1027a4['id'])&&(pendingFlagSteals[_0x199b59(0xbcb)](_0x1027a4['id']),savePendingFlagSteals());return;}const _0x10477d=_0x57a5cb[_0x199b59(0x61a)][_0x199b59(0x8e3)](0x1);if(_0x10477d[_0x199b59(0xcd6)]===0x0){_0x1027a4[_0x199b59(0x34f)]('§6'+_0x57a5cb[_0x199b59(0xa45)]+_0x199b59(0x3af));return;}const _0xc1df3f=new ActionFormData()['title'](_0x199b59(0xa78))[_0x199b59(0x629)](_0x199b59(0xc73)+_0x57a5cb[_0x199b59(0xa45)]+'§a!\x0a\x0aYou\x20can\x20choose\x20to\x20steal\x20one\x20of\x20their\x20non-primary\x20flags\x20as\x20a\x20prize,\x20or\x20decline.');_0x10477d[_0x199b59(0x2c2)]((_0x59bb8c,_0x5657dc)=>{const _0x57d77a=_0x199b59;_0xc1df3f[_0x57d77a(0x31f)](_0x57d77a(0xa76)+(_0x5657dc+0x2)+'\x20('+Math[_0x57d77a(0x648)](_0x59bb8c['x'])+',\x20'+Math['floor'](_0x59bb8c['y'])+',\x20'+Math[_0x57d77a(0x648)](_0x59bb8c['z'])+')',_0x57d77a(0x8c8));}),_0xc1df3f[_0x199b59(0x31f)]('§7Decline\x20-\x20Don\x27t\x20steal\x20any\x20flags',_0x199b59(0x96e));const _0x4e49f0=await _0xc1df3f[_0x199b59(0x504)](_0x1027a4);if(_0x4e49f0[_0x199b59(0x9d4)]||_0x4e49f0[_0x199b59(0x77a)]>=_0x10477d[_0x199b59(0xcd6)]){_0x1027a4[_0x199b59(0x34f)]('§7You\x20declined\x20to\x20steal\x20any\x20flags.');pendingFlagSteals[_0x199b59(0xb61)](_0x1027a4['id'])&&(pendingFlagSteals[_0x199b59(0xbcb)](_0x1027a4['id']),savePendingFlagSteals());return;}const _0x49506c=_0x4e49f0[_0x199b59(0x77a)]+0x1,_0x55a3ba=_0x57a5cb[_0x199b59(0x61a)][_0x49506c],_0x570c99=new ActionFormData()['title'](_0x199b59(0x13d))[_0x199b59(0x629)](_0x199b59(0x87f)+_0x57a5cb[_0x199b59(0xa45)]+_0x199b59(0x779)+Math[_0x199b59(0x648)](_0x55a3ba['x'])+',\x20'+Math['floor'](_0x55a3ba['y'])+',\x20'+Math['floor'](_0x55a3ba['z'])+_0x199b59(0x58d))[_0x199b59(0x31f)](_0x199b59(0xcf3),_0x199b59(0x933))[_0x199b59(0x31f)]('§7Cancel','textures/ui/cancel'),_0x4ba003=await _0x570c99['show'](_0x1027a4);if(_0x4ba003[_0x199b59(0x9d4)]||_0x4ba003[_0x199b59(0x77a)]===0x1){_0x1027a4[_0x199b59(0x34f)](_0x199b59(0x970));pendingFlagSteals[_0x199b59(0xb61)](_0x1027a4['id'])&&(pendingFlagSteals[_0x199b59(0xbcb)](_0x1027a4['id']),savePendingFlagSteals());return;}try{const _0x5accfd=_0x57a5cb[_0x199b59(0x61a)]['splice'](_0x49506c,0x1)[0x0];!_0x3f3dfa['flagLocations']&&(_0x3f3dfa['flagLocations']=[_0x3f3dfa[_0x199b59(0x1f2)]]);_0x3f3dfa[_0x199b59(0x61a)][_0x199b59(0x9bb)](_0x5accfd),colonies[_0x199b59(0x336)](_0x57a5cb['id'],_0x57a5cb),colonies[_0x199b59(0x336)](_0x3f3dfa['id'],_0x3f3dfa),saveColonyData();const _0x22e912=_0x1027a4[_0x199b59(0xaf8)];try{const _0xe27e0c=_0x22e912['getEntities']({'type':_0x199b59(0x7f6),'location':_0x5accfd,'maxDistance':0x2});if(_0xe27e0c[_0x199b59(0xcd6)]>0x0){const _0x79c59b=_0xe27e0c[0x0];if(_0x79c59b&&_0x79c59b['isValid']()){try{const _0x3266eb=_0x79c59b['getTags'](),_0x48495d=_0x3266eb[_0x199b59(0x7ae)](_0x3bd9fc=>_0x3bd9fc[_0x199b59(0x42a)](_0x199b59(0x30d))||_0x3bd9fc[_0x199b59(0x42a)]('colony_name:')||_0x3bd9fc[_0x199b59(0x42a)]('colony_owner:'));for(const _0x449602 of _0x48495d){_0x79c59b['removeTag'](_0x449602);}_0x79c59b[_0x199b59(0x875)]('colony_id:'+_0x3f3dfa['id']),_0x79c59b[_0x199b59(0x875)]('colony_name:'+_0x3f3dfa['name']),_0x79c59b[_0x199b59(0x875)](_0x199b59(0x2c8)+_0x3f3dfa[_0x199b59(0xcd0)]),console[_0x199b59(0x6a4)]('Updated\x20flag\x20entity\x20tags\x20for\x20colony\x20'+_0x3f3dfa[_0x199b59(0xa45)]);}catch(_0x437c15){console[_0x199b59(0x5b4)]('Error\x20updating\x20flag\x20entity\x20tags:',_0x437c15);}let _0x5c32bd=_0x199b59(0xc67);if(_0x3f3dfa[_0x199b59(0x16a)]&&_0x3f3dfa[_0x199b59(0x16a)][_0x199b59(0x76c)])_0x5c32bd=_0x3f3dfa['color']['event'];else{const _0x355016={0x0:'set_white',0x1:'set_red',0x2:_0x199b59(0x397),0x3:_0x199b59(0x259),0x4:'set_yellow',0x5:'set_orange',0x6:'set_purple',0x7:_0x199b59(0x5aa),0x8:_0x199b59(0x777),0x9:_0x199b59(0x814),0xa:'set_light_gray',0xb:_0x199b59(0x72d),0xc:_0x199b59(0x1e7),0xd:_0x199b59(0x741),0xe:'set_lime',0xf:_0x199b59(0x18b)},_0x32c6f7=_0x3f3dfa[_0x199b59(0x16a)]['value'];_0x5c32bd=_0x355016[_0x32c6f7]||_0x199b59(0xc67);}if(_0x5c32bd)try{_0x79c59b[_0x199b59(0xbd0)](_0x5c32bd),console[_0x199b59(0x6a4)](_0x199b59(0x42f)+_0x3f3dfa[_0x199b59(0x16a)]['name']+'\x20using\x20event:\x20'+_0x5c32bd);}catch(_0x4e817b){console[_0x199b59(0x5b4)](_0x199b59(0xad8),_0x4e817b);}else console[_0x199b59(0x5b4)](_0x199b59(0x249)+colorValue);}else console['warn'](_0x199b59(0xb23));}else console[_0x199b59(0x5b4)](_0x199b59(0xd4));}catch(_0x3cb82b){console[_0x199b59(0x5b4)](_0x199b59(0xb03),_0x3cb82b);}const _0x2ed9ec='§6[WAR]\x20§a'+_0x3f3dfa[_0x199b59(0xa45)]+_0x199b59(0x1b7)+_0x57a5cb[_0x199b59(0xa45)]+_0x199b59(0xbad);for(const _0x31b1e0 of world[_0x199b59(0x272)]()){_0x31b1e0[_0x199b59(0x34f)](_0x2ed9ec);}pendingFlagSteals[_0x199b59(0xb61)](_0x1027a4['id'])&&(pendingFlagSteals[_0x199b59(0xbcb)](_0x1027a4['id']),savePendingFlagSteals());const _0x245a7d=world[_0x199b59(0x272)]()[_0x199b59(0x2d0)](_0x34fe52=>_0x34fe52['id']===_0x3f3dfa[_0x199b59(0x396)]);_0x245a7d&&_0x245a7d['sendMessage'](_0x199b59(0x264)+_0x57a5cb[_0x199b59(0xa45)]+'§a!\x20The\x20flag\x20has\x20been\x20converted\x20to\x20your\x20colony\x27s\x20colors.');const _0x3278d6=world[_0x199b59(0x272)]()[_0x199b59(0x2d0)](_0x3f214b=>_0x3f214b['id']===_0x57a5cb['ownerId']);_0x3278d6&&_0x3278d6[_0x199b59(0x34f)]('§c'+_0x3f3dfa['name']+_0x199b59(0x424));}catch(_0x2d216b){console[_0x199b59(0x5b4)]('Error\x20during\x20flag\x20stealing:',_0x2d216b),_0x1027a4['sendMessage'](_0x199b59(0xa65));}}catch(_0x171373){console['warn']('Error\x20in\x20offerFlagStealing:',_0x171373),_0x1027a4&&_0x1027a4['isValid']()&&_0x1027a4[_0x199b59(0x34f)](_0x199b59(0x9ed));}}system[_0x1d2622(0x613)](()=>{const _0x143dea=_0x1d2622;if(!activeWars[_0x143dea(0xcd6)])return;for(const _0x3b4c6b of[...activeWars]){const _0x183bec=colonies[_0x143dea(0xb61)](_0x3b4c6b[_0x143dea(0x6d0)]['id']),_0x42213f=colonies[_0x143dea(0xb61)](_0x3b4c6b[_0x143dea(0xad2)]['id']);if(!_0x183bec&&_0x42213f)endWar(_0x3b4c6b,'B');else{if(!_0x42213f&&_0x183bec)endWar(_0x3b4c6b,'A');else!_0x183bec&&!_0x42213f&&endWar(_0x3b4c6b);}}},0xc8),world['afterEvents'][_0x1d2622(0xc41)][_0x1d2622(0xba5)](_0x5e909b=>{const _0x335524=_0x1d2622,_0x44f2c9=_0x5e909b['deadEntity'],_0x496cb7=_0x5e909b[_0x335524(0x1f7)];if(_0x44f2c9[_0x335524(0x621)]===_0x335524(0x2d8)){const _0x41746f=_0x496cb7?.[_0x335524(0x851)];_0x41746f&&_0x41746f[_0x335524(0x621)]===_0x335524(0x2d8)&&_0x41746f['id']!==_0x44f2c9['id']&&incrementPlayerKills(_0x41746f['id']),handleArenaPlayerDeath(_0x44f2c9,_0x41746f);}}),world['afterEvents'][_0x1d2622(0xcf4)]['subscribe'](_0xbfd6ef=>{const _0x5b7094=_0x1d2622,_0x95c2e0=_0xbfd6ef[_0x5b7094(0xb8f)],_0x3f9593=_0x95c2e0[_0x5b7094(0x1f2)],_0x4ceb8f=50009.3,_0xe7eb98=50052.7,_0x2dd9a5=109.65,_0x443f52=110.5,_0x25daab=50009.3,_0x5da050=50054.7;if(_0x3f9593['x']>=_0x4ceb8f&&_0x3f9593['x']<=_0xe7eb98&&_0x3f9593['y']>=_0x2dd9a5&&_0x3f9593['y']<=_0x443f52&&_0x3f9593['z']>=_0x25daab&&_0x3f9593['z']<=_0x5da050){let _0x527698=![];for(const _0x5e317b of activeMatches[_0x5b7094(0xaf3)]()){if(_0x5e317b[_0x5b7094(0x95d)]==='active'||_0x5e317b[_0x5b7094(0x95d)]==='waiting')for(const _0x2b5137 of Object[_0x5b7094(0xaf3)](_0x5e317b[_0x5b7094(0xc3c)])){if(_0x2b5137['players']['includes'](_0x95c2e0['name'])){_0x527698=!![];break;}}if(_0x527698)break;}if(!_0x527698){system[_0x5b7094(0x633)](()=>{const _0x3a3ffd=_0x5b7094;_0x95c2e0[_0x3a3ffd(0x25f)]()&&(_0x95c2e0[_0x3a3ffd(0x54b)]({'x':50031.54,'y':0x70,'z':50007.65}),_0x95c2e0['sendMessage']('§cYou\x20cannot\x20be\x20in\x20the\x20arena\x20area\x20without\x20being\x20in\x20a\x20match!'));},0x5);return;}}for(const _0x230a0d of activeMatches['values']()){if(_0x230a0d[_0x5b7094(0x95d)]!==_0x5b7094(0x2d4))continue;for(const _0x226827 of Object[_0x5b7094(0xaf3)](_0x230a0d[_0x5b7094(0xc3c)])){if(_0x226827['players'][_0x5b7094(0x22d)](_0x95c2e0[_0x5b7094(0xa45)])){const _0xc209e7=_0x230a0d[_0x5b7094(0x99d)][_0x95c2e0[_0x5b7094(0xa45)]]||0x0,_0x17a823=_0x230a0d[_0x5b7094(0xf5)][_0x95c2e0[_0x5b7094(0xa45)]]||0x3;system['runTimeout'](()=>{const _0x2cae6e=_0x5b7094;if(!_0x95c2e0[_0x2cae6e(0x25f)]())return;const _0x4c93d6=Object[_0x2cae6e(0xaf3)](_0x230a0d[_0x2cae6e(0xc3c)]),_0x3b3420=_0x4c93d6[0x0],_0x22e11e=_0x4c93d6[0x1];if(_0x17a823<=0x0){const _0x262f48=_0x95c2e0[_0x2cae6e(0x299)](_0x2cae6e(0xd17))[_0x2cae6e(0x26e)];for(let _0x5cb10e=0x0;_0x5cb10e<_0x262f48[_0x2cae6e(0x5c1)];_0x5cb10e++){_0x262f48['setItem'](_0x5cb10e,undefined);}_0x95c2e0[_0x2cae6e(0x54b)]({'x':50031.54,'y':0x70,'z':50007.29}),_0x95c2e0[_0x2cae6e(0x34f)](_0x2cae6e(0x4c8));const _0x4f6849=_0x4c93d6[_0x2cae6e(0x2d0)](_0x390f4f=>_0x390f4f[_0x2cae6e(0x157)][_0x2cae6e(0x22d)](_0x95c2e0[_0x2cae6e(0xa45)]));if(_0x4f6849){const _0x1890c5=_0x4f6849[_0x2cae6e(0x157)][_0x2cae6e(0x817)](_0x13b4ad=>{const _0x240839=_0x2cae6e,_0x4d35fe=_0x230a0d[_0x240839(0xf5)][_0x13b4ad]||0x3;return _0x4d35fe<=0x0;});if(_0x1890c5){const _0x2d7e25=_0x4c93d6[_0x2cae6e(0x2d0)](_0x291d4d=>_0x291d4d[_0x2cae6e(0xb85)]!==_0x4f6849[_0x2cae6e(0xb85)]);_0x2d7e25&&system[_0x2cae6e(0x633)](()=>{endMatch(_0x230a0d,_0x2d7e25['colonyName']);},0x28);}}}else{_0x226827[_0x2cae6e(0xb85)]===_0x3b3420['colonyName']?_0x95c2e0[_0x2cae6e(0x54b)]({'x':50014.5,'y':0x68,'z':50046.5}):_0x95c2e0[_0x2cae6e(0x54b)]({'x':50052.38,'y':0x69,'z':50014.54});const _0x5a8c0a=_0x95c2e0['getComponent']('inventory')['container'],_0x130481=new ItemStack('minecraft:iron_sword',0x1),_0x37614b=new ItemStack(_0x2cae6e(0x974),0x1),_0x5267ac=new ItemStack(_0x2cae6e(0x783),0x1),_0xf6da04=new ItemStack(_0x2cae6e(0x2d5),0x1),_0x1ed997=new ItemStack(_0x2cae6e(0x3b8),0x1),_0x121e4d=new ItemStack(_0x2cae6e(0x6c7),0x1),_0x9e021b=new ItemStack(_0x2cae6e(0xef),0x10),_0x28a414=new ItemStack(_0x2cae6e(0xa67),0x1),_0x193fbd=new ItemStack(_0x2cae6e(0xcf7),0x20);_0x5a8c0a[_0x2cae6e(0x3c5)](_0x130481),_0x5a8c0a[_0x2cae6e(0x3c5)](_0x37614b),_0x5a8c0a[_0x2cae6e(0x3c5)](_0x5267ac),_0x5a8c0a[_0x2cae6e(0x3c5)](_0xf6da04),_0x5a8c0a['addItem'](_0x1ed997),_0x5a8c0a['addItem'](_0x121e4d),_0x5a8c0a[_0x2cae6e(0x3c5)](_0x9e021b),_0x5a8c0a[_0x2cae6e(0x3c5)](_0x28a414),_0x5a8c0a[_0x2cae6e(0x3c5)](_0x193fbd),_0x95c2e0[_0x2cae6e(0x34f)](_0x2cae6e(0x63f)+_0x17a823);}},0x1);return;}}}});function handleArenaPlayerDeath(_0x3a0d2b,_0x262781){const _0x400f3c=_0x1d2622;try{let _0x375615=null,_0x248ce9=null,_0x9aae6e=null;for(const _0x332396 of activeMatches[_0x400f3c(0xaf3)]()){if(_0x332396[_0x400f3c(0x95d)]!==_0x400f3c(0x2d4))continue;for(const _0x5e71c1 of Object[_0x400f3c(0xaf3)](_0x332396['teams'])){_0x5e71c1['players'][_0x400f3c(0x22d)](_0x3a0d2b[_0x400f3c(0xa45)])&&(_0x375615=_0x332396,_0x248ce9=_0x5e71c1),_0x262781&&_0x262781[_0x400f3c(0x621)]===_0x400f3c(0x2d8)&&_0x5e71c1['players']['includes'](_0x262781['name'])&&(_0x9aae6e=_0x5e71c1);}if(_0x375615)break;}if(!_0x375615||!_0x248ce9)return;_0x375615['playerDeaths'][_0x3a0d2b[_0x400f3c(0xa45)]]=(_0x375615[_0x400f3c(0x99d)][_0x3a0d2b[_0x400f3c(0xa45)]]||0x0)+0x1,_0x375615[_0x400f3c(0xf5)][_0x3a0d2b['name']]=Math[_0x400f3c(0xb51)](0x0,0x3-_0x375615[_0x400f3c(0x99d)][_0x3a0d2b[_0x400f3c(0xa45)]]);try{const _0xb1f471=Math[_0x400f3c(0x648)](Math[_0x400f3c(0x247)]()*0x7)+0x1,_0x3ef5a7='arenavocals.a'+_0xb1f471,_0x10bcf6=world[_0x400f3c(0xbc8)](_0x400f3c(0x182)),_0x1b73ec=_0x10bcf6[_0x400f3c(0xb28)]({'x':0xc36f,'y':0x67,'z':0xc36f});_0x1b73ec&&_0x1b73ec[_0x400f3c(0xaf8)][_0x400f3c(0x6ba)](_0x400f3c(0x4ff)+_0x3ef5a7+'\x20@a\x20'+_0x1b73ec[_0x400f3c(0x1f2)]['x']+'\x20'+_0x1b73ec[_0x400f3c(0x1f2)]['y']+'\x20'+_0x1b73ec[_0x400f3c(0x1f2)]['z']+_0x400f3c(0x4a1));}catch(_0x390be1){console['warn'](_0x400f3c(0x3a3),_0x390be1);}const _0x3350cf=_0x248ce9['players']['every'](_0x4eb141=>{const _0x450ec1=_0x400f3c,_0x4ab30a=_0x375615[_0x450ec1(0xf5)][_0x4eb141]||0x3;return _0x4ab30a<=0x0;});if(_0x3350cf){const _0x42c2b4=Object[_0x400f3c(0xaf3)](_0x375615[_0x400f3c(0xc3c)]),_0x88723d=_0x42c2b4[_0x400f3c(0x2d0)](_0x2d40a5=>_0x2d40a5[_0x400f3c(0xb85)]!==_0x248ce9[_0x400f3c(0xb85)]);if(_0x88723d){system[_0x400f3c(0x633)](()=>{endMatch(_0x375615,_0x88723d['colonyName']);},0x28);return;}}if(_0x9aae6e&&_0x9aae6e[_0x400f3c(0xb85)]!==_0x248ce9['colonyName']){_0x375615[_0x400f3c(0x1c8)][_0x9aae6e[_0x400f3c(0xb85)]]=(_0x375615[_0x400f3c(0x1c8)][_0x9aae6e[_0x400f3c(0xb85)]]||0x0)+0x1;if(_0x375615[_0x400f3c(0x3a1)]){system['runTimeout'](()=>{const _0x51a11a=_0x400f3c;endMatch(_0x375615,_0x9aae6e[_0x51a11a(0xb85)]);},0x14);return;}}const _0x46d9a7=_0x375615[_0x400f3c(0x99d)][_0x3a0d2b[_0x400f3c(0xa45)]],_0x5e99dc=_0x375615[_0x400f3c(0xf5)][_0x3a0d2b['name']];}catch(_0x12d48d){console[_0x400f3c(0x7bf)](_0x400f3c(0x391),_0x12d48d);}}world[_0x1d2622(0x290)][_0x1d2622(0xc41)]['subscribe'](_0x140926=>{const _0x4a5629=_0x1d2622,_0x15325e=_0x140926[_0x4a5629(0x7f3)];if(_0x15325e[_0x4a5629(0x621)]===_0x4a5629(0x127)){try{let _0x27fe7e=_0x15325e[_0x4a5629(0xa7c)]||_0x4a5629(0x673);_0x27fe7e[_0x4a5629(0x22d)](']\x20')&&(_0x27fe7e=_0x27fe7e[_0x4a5629(0x44b)](']\x20')[0x1]);const _0x22a42d=getCitizenDeathMessage(_0x15325e,_0x140926[_0x4a5629(0x1f7)],_0x27fe7e),_0x284835=_0x15325e['dimension']['getPlayers']({'location':_0x15325e[_0x4a5629(0x1f2)],'maxDistance':0x64});if(_0x284835[_0x4a5629(0xcd6)]>0x0)for(const _0x186a0b of _0x284835){_0x186a0b['sendMessage'](_0x22a42d);}else world['sendMessage'](_0x22a42d);}catch(_0x5896fe){console[_0x4a5629(0x7bf)](_0x4a5629(0x884),_0x5896fe);}try{const _0x3c7f00=_0x15325e[_0x4a5629(0x1f2)],_0x104c9c=_0x15325e[_0x4a5629(0xaf8)];console['log'](_0x4a5629(0x762)+_0x3c7f00['x']+',\x20'+_0x3c7f00['y']+',\x20'+_0x3c7f00['z']);const _0x523686={'x':Math[_0x4a5629(0x648)](_0x3c7f00['x']),'y':Math[_0x4a5629(0x648)](_0x3c7f00['y']),'z':Math[_0x4a5629(0x648)](_0x3c7f00['z'])},_0x161b85=_0x104c9c['getBlock'](_0x523686);if(_0x161b85){const _0x5d102c=_0x161b85['typeId'],_0x342455=[_0x4a5629(0xaf2),_0x4a5629(0x5a9),'minecraft:short_grass','minecraft:tall_grass'];console[_0x4a5629(0x6a4)](_0x4a5629(0xa79)+_0x5d102c);if(_0x342455['includes'](_0x5d102c)||_0x5d102c[_0x4a5629(0x22d)](_0x4a5629(0x917))||_0x5d102c[_0x4a5629(0x22d)](_0x4a5629(0x265))){_0x161b85[_0x4a5629(0x121)](_0x4a5629(0x2fa)),console[_0x4a5629(0x6a4)](_0x4a5629(0x9b1));try{const _0x1f2ab0=_0x15325e[_0x4a5629(0x912)]();let _0x1402e0=_0x4a5629(0x8a7);if(_0x1f2ab0&&_0x1f2ab0['y']!==undefined){const _0x53ac42=_0x1f2ab0['y'];if(_0x53ac42>=-0x2d&&_0x53ac42<0x2d)_0x1402e0=_0x4a5629(0x8a7);else{if(_0x53ac42>=0x2d&&_0x53ac42<0x87)_0x1402e0=_0x4a5629(0xa18);else _0x53ac42>=0x87||_0x53ac42<-0x87?_0x1402e0=_0x4a5629(0xd0f):_0x1402e0=_0x4a5629(0x420);}}const _0x4ae113=_0x161b85[_0x4a5629(0x91a)],_0x3b91aa=_0x4ae113[_0x4a5629(0x97e)](_0x4a5629(0x35a),_0x1402e0);_0x161b85[_0x4a5629(0xa30)](_0x3b91aa),console['log'](_0x4a5629(0x1d3)+_0x1402e0);}catch(_0x1fa372){console['warn'](_0x4a5629(0x3ca),_0x1fa372);}try{let _0x55fa76=_0x15325e['nameTag']||_0x4a5629(0x673);_0x55fa76['includes'](']\x20')&&(_0x55fa76=_0x55fa76[_0x4a5629(0x44b)](']\x20')[0x1]);let _0x43d6ce=_0x4a5629(0x670);if(_0x140926[_0x4a5629(0x1f7)]){const _0x1d4a31=_0x140926[_0x4a5629(0x1f7)]['cause'];switch(_0x1d4a31){case _0x4a5629(0x3e9):const _0x440f6f=_0x140926[_0x4a5629(0x1f7)][_0x4a5629(0x851)];if(_0x440f6f){const _0x386926=_0x440f6f['nameTag']||_0x440f6f['typeId'][_0x4a5629(0x15a)](_0x4a5629(0x524),'')[_0x4a5629(0x15a)](_0x4a5629(0x292),'')[_0x4a5629(0x15a)](/_/g,'\x20');_0x43d6ce=_0x4a5629(0x78f)+_0x386926;}else _0x43d6ce=_0x4a5629(0x9c3);break;case'projectile':_0x43d6ce=_0x4a5629(0x40b);break;case _0x4a5629(0x423):_0x43d6ce=_0x4a5629(0x423);break;case'lava':_0x43d6ce=_0x4a5629(0x313);break;case _0x4a5629(0xbdb):_0x43d6ce=_0x4a5629(0xbdb);break;case _0x4a5629(0xc5b):_0x43d6ce=_0x4a5629(0x19c);break;case _0x4a5629(0xcfe):_0x43d6ce='suffocation';break;case _0x4a5629(0x280):_0x43d6ce=_0x4a5629(0x464);break;case _0x4a5629(0x27e):_0x43d6ce='magic';break;case'wither':_0x43d6ce='withering';break;case _0x4a5629(0x29d):_0x43d6ce=_0x4a5629(0x2ba);break;case'anvil':_0x43d6ce=_0x4a5629(0x6a7);break;case _0x4a5629(0xa2c):_0x43d6ce=_0x4a5629(0xa2c);break;case'fireworks':_0x43d6ce='fireworks';break;case _0x4a5629(0xa1a):_0x43d6ce=_0x4a5629(0xa1a);break;default:_0x43d6ce=_0x1d4a31||'unknown\x20causes';}}const _0x1cb8bc=new Date(),_0x3cb3b3=_0x1cb8bc[_0x4a5629(0x61d)]()+0x1+'/'+_0x1cb8bc[_0x4a5629(0xa89)]()+'/'+_0x1cb8bc['getFullYear'](),_0x4a19d4={'citizenName':_0x55fa76,'deathDate':_0x3cb3b3,'deathCause':_0x43d6ce},_0x32ef68=_0x4a5629(0x4e7)+_0x523686['x']+'_'+_0x523686['y']+'_'+_0x523686['z']+'_'+_0x104c9c['id'];world['setDynamicProperty'](_0x32ef68,JSON[_0x4a5629(0x1db)](_0x4a19d4)),console[_0x4a5629(0x6a4)](_0x4a5629(0x9b8)+_0x523686['x']+',\x20'+_0x523686['y']+',\x20'+_0x523686['z']+':\x20'+_0x55fa76+',\x20'+_0x3cb3b3+',\x20'+_0x43d6ce);}catch(_0x56ebe4){console['error'](_0x4a5629(0x487),_0x56ebe4);}console[_0x4a5629(0x6a4)](_0x4a5629(0x81a)+_0x523686['x']+',\x20'+_0x523686['y']+',\x20'+_0x523686['z']+_0x4a5629(0xb9a)+(_0x15325e[_0x4a5629(0xa7c)]||'Unknown'));}else console['log'](_0x4a5629(0xcc8)+_0x5d102c);}else console[_0x4a5629(0x5b4)]('[GRAVE]\x20Could\x20not\x20get\x20block\x20at\x20death\x20location\x20-\x20chunk\x20may\x20be\x20unloaded');}catch(_0x55f629){console['error'](_0x4a5629(0x215),_0x55f629);}if(citizenExclamations['has'](_0x15325e['id'])){const _0x2d8ceb=citizenExclamations['get'](_0x15325e['id']);if(_0x2d8ceb)try{if(_0x2d8ceb['isValid']()){try{_0x2d8ceb[_0x4a5629(0x104)](0x3e8);}catch(_0x588a6e){}_0x2d8ceb['kill']();try{_0x2d8ceb['teleport']({'x':0x0,'y':-0xc8,'z':0x0});}catch(_0x114d55){}}}catch(_0x55e773){}citizenExclamations[_0x4a5629(0xbcb)](_0x15325e['id']);}try{const _0x1a3317=_0x15325e[_0x4a5629(0xaf8)],_0x2443ca=_0x1a3317[_0x4a5629(0xc8f)]({'type':_0x4a5629(0x311),'location':_0x15325e[_0x4a5629(0x1f2)],'maxDistance':0x5});for(const _0x5d4ace of _0x2443ca){try{_0x5d4ace[_0x4a5629(0x63d)]();}catch(_0x1c97bf){}}}catch(_0x33ddb1){}if(_0x15325e[_0x4a5629(0x4ac)]('citizen_type:knight'))try{const _0x44dcf8=_0x15325e[_0x4a5629(0x460)]()[_0x4a5629(0x7ae)](_0x22f001=>_0x22f001[_0x4a5629(0x42a)](_0x4a5629(0x9d9)));if(_0x44dcf8[_0x4a5629(0xcd6)]>0x0){const _0x2bd128=_0x44dcf8[0x0][_0x4a5629(0x44b)](':')[0x1],_0x2b764b=world['getPlayers']()[_0x4a5629(0x2d0)](_0x4d022b=>_0x4d022b['id']===_0x2bd128);_0x2b764b&&_0x2b764b['isValid']()&&_0x2b764b[_0x4a5629(0x34f)]('§c'+(_0x15325e[_0x4a5629(0xa7c)]||_0x4a5629(0x233))+'\x20has\x20fallen\x20in\x20battle.');}}catch(_0x28dd3d){}}if(_0x15325e['typeId']==='jerrys_colonies:knight')try{const _0x2f878d=_0x15325e['id'];for(const [_0x192366,_0x48c722]of playerUnits[_0x4a5629(0x74e)]()){let _0x13233e=![];const _0x51086e=[];for(const [_0x42d6d3,_0x538912]of _0x48c722['entries']()){_0x538912[_0x4a5629(0xb61)](_0x2f878d)&&(_0x538912[_0x4a5629(0xbcb)](_0x2f878d),_0x13233e=!![],_0x538912[_0x4a5629(0x5c1)]===0x0&&_0x51086e['push'](_0x42d6d3));}for(const _0x16f2b4 of _0x51086e){_0x48c722[_0x4a5629(0xbcb)](_0x16f2b4);const _0x253091=world[_0x4a5629(0x272)]()[_0x4a5629(0x2d0)](_0x4a22ab=>_0x4a22ab['id']===_0x192366);_0x253091&&_0x253091['sendMessage'](_0x4a5629(0x6d6)+_0x16f2b4+_0x4a5629(0x31d));}if(_0x13233e){saveUnitData();break;}}}catch(_0x4e94bb){console[_0x4a5629(0x5b4)](_0x4a5629(0x55d),_0x4e94bb);}if(!activeWars['length'])return;const _0xd79f3d=_0x140926['damageSource']?.[_0x4a5629(0x851)];if(!_0xd79f3d)return;let _0x4c6aa1=null;if(_0xd79f3d[_0x4a5629(0x621)]===_0x4a5629(0x2d8)){const _0x128f74=_0xd79f3d[_0x4a5629(0x460)](),_0x10edb7=_0x128f74['find'](_0x13385b=>_0x13385b[_0x4a5629(0x42a)](_0x4a5629(0x3ae)));if(_0x10edb7){const _0x64b7aa=_0x10edb7['substring'](_0x4a5629(0x3ae)['length']);_0x4c6aa1=Array[_0x4a5629(0x2f9)](colonies[_0x4a5629(0xaf3)]())[_0x4a5629(0x2d0)](_0x3cd5be=>_0x3cd5be['id']===_0x64b7aa);}}else{if(_0xd79f3d['typeId']==='jerrys_colonies:citizen'||_0xd79f3d[_0x4a5629(0x621)]===_0x4a5629(0xca9)||_0xd79f3d['typeId']===_0x4a5629(0x1e3)){const _0x476e92=_0xd79f3d[_0x4a5629(0x460)](),_0x4a7bc0=_0x476e92['find'](_0x43d906=>_0x43d906[_0x4a5629(0x42a)]('colony_id:'));if(_0x4a7bc0){const _0x13e168=_0x4a7bc0[_0x4a5629(0x3ad)](_0x4a5629(0x30d)[_0x4a5629(0xcd6)]);_0x4c6aa1=Array[_0x4a5629(0x2f9)](colonies[_0x4a5629(0xaf3)]())['find'](_0x51f14d=>_0x51f14d['id']===_0x13e168);}}}if(!_0x4c6aa1)return;let _0x29730a=null;if(_0x15325e[_0x4a5629(0x621)]==='minecraft:player'){const _0x5d270a=_0x15325e[_0x4a5629(0x460)](),_0x2a7828=_0x5d270a[_0x4a5629(0x2d0)](_0x210f61=>_0x210f61[_0x4a5629(0x42a)](_0x4a5629(0x3ae)));if(_0x2a7828){const _0x51abfd=_0x2a7828['substring'](_0x4a5629(0x3ae)['length']);_0x29730a=Array[_0x4a5629(0x2f9)](colonies[_0x4a5629(0xaf3)]())[_0x4a5629(0x2d0)](_0x3c719c=>_0x3c719c['id']===_0x51abfd);}}else{if(_0x15325e[_0x4a5629(0x621)]==='jerrys_colonies:citizen'||_0x15325e[_0x4a5629(0x621)]===_0x4a5629(0xca9)||_0x15325e[_0x4a5629(0x621)]===_0x4a5629(0x1e3)){const _0x20a2f3=_0x15325e[_0x4a5629(0x460)](),_0x2a3e10=_0x20a2f3['find'](_0x1e8897=>_0x1e8897[_0x4a5629(0x42a)](_0x4a5629(0x30d)));if(_0x2a3e10){const _0x7fa219=_0x2a3e10[_0x4a5629(0x3ad)](_0x4a5629(0x30d)[_0x4a5629(0xcd6)]);_0x29730a=Array[_0x4a5629(0x2f9)](colonies[_0x4a5629(0xaf3)]())['find'](_0x265353=>_0x265353['id']===_0x7fa219);}}}if(!_0x29730a)return;for(const _0x5d5c6a of activeWars){console['warn'](_0x4a5629(0x6fa)+JSON[_0x4a5629(0x1db)](_0xd79f3d['getTags']())),console[_0x4a5629(0x5b4)](_0x4a5629(0xb87)+JSON[_0x4a5629(0x1db)](_0x15325e[_0x4a5629(0x460)]()));if(_0x4c6aa1['id']===_0x5d5c6a['colonyA']['id']&&_0x29730a['id']===_0x5d5c6a[_0x4a5629(0xad2)]['id'])_0x5d5c6a[_0x4a5629(0x984)]++,console[_0x4a5629(0x5b4)](_0x4a5629(0x66f)+_0x4c6aa1[_0x4a5629(0xa45)]+'\x20(A)\x20killed\x20'+_0x29730a[_0x4a5629(0xa45)]+_0x4a5629(0xb7c)+_0x5d5c6a[_0x4a5629(0x984)]),updateWarActionbar(_0x5d5c6a);else _0x4c6aa1['id']===_0x5d5c6a['colonyB']['id']&&_0x29730a['id']===_0x5d5c6a[_0x4a5629(0x6d0)]['id']?(_0x5d5c6a[_0x4a5629(0xb2c)]++,console[_0x4a5629(0x5b4)](_0x4a5629(0x66f)+_0x4c6aa1['name']+_0x4a5629(0xb5c)+_0x29730a[_0x4a5629(0xa45)]+_0x4a5629(0x999)+_0x5d5c6a[_0x4a5629(0xb2c)]),updateWarActionbar(_0x5d5c6a)):console[_0x4a5629(0x5b4)](_0x4a5629(0x1de)+(_0x4c6aa1?.[_0x4a5629(0xa45)]||_0x4a5629(0xa3a))+_0x4a5629(0x844)+(_0x29730a?.[_0x4a5629(0xa45)]||_0x4a5629(0xa3a)));}}),system[_0x1d2622(0x613)](()=>{const _0x4d8371=_0x1d2622;try{if(citizenExclamations['size']===0x0)return;const _0x3497d9=0x3;let _0x56da99=0x0;for(const [_0x7583a3,_0x333452]of[...citizenExclamations['entries']()]){if(_0x56da99>=_0x3497d9)break;try{if(!_0x333452||!_0x333452[_0x4d8371(0x25f)]()){citizenExclamations[_0x4d8371(0xbcb)](_0x7583a3),_0x56da99++;continue;}let _0x5202ec=![];const _0x368c94=[world['getDimension']('overworld'),world['getDimension'](_0x4d8371(0x437)),world['getDimension'](_0x4d8371(0x18d))];for(const _0x37aebc of _0x368c94){try{const _0x4b4f4c=_0x37aebc[_0x4d8371(0xc8f)]({'type':_0x4d8371(0x127)}),_0x1f9671=Math[_0x4d8371(0x2c1)](_0x4b4f4c['length'],0xa);for(let _0x979319=0x0;_0x979319<_0x1f9671;_0x979319++){if(_0x4b4f4c[_0x979319]['id']===_0x7583a3&&_0x4b4f4c[_0x979319]['isValid']()){_0x5202ec=!![];break;}}if(_0x5202ec)break;}catch(_0x464ae5){}}if(!_0x5202ec){try{_0x333452['isValid']()&&_0x333452[_0x4d8371(0x63d)]();}catch(_0x228781){}citizenExclamations[_0x4d8371(0xbcb)](_0x7583a3);}_0x56da99++;}catch(_0x4bd7a9){_0x56da99++;}}}catch(_0x5d5e4f){}},0x258);async function viewAllColonies(_0x6dead0,_0x2d6d3c){const _0x174f64=_0x1d2622;try{const _0x31eab8=Array[_0x174f64(0x2f9)](colonies[_0x174f64(0xaf3)]());let _0x3f9fc5=_0x174f64(0x791);for(const _0x469319 of _0x31eab8){_0x3f9fc5+='§7'+_0x469319['name']+'\x20(Owner:\x20'+_0x469319[_0x174f64(0xcd0)]+')\x0a';}_0x6dead0[_0x174f64(0x34f)](_0x3f9fc5);}catch(_0x5ebf47){_0x6dead0[_0x174f64(0x34f)](_0x174f64(0x8b0));}}async function setDiplomaticRelations(_0x573ed4,_0x4a2137){const _0x49a15d=_0x1d2622;try{const _0x1dd0c4=Array[_0x49a15d(0x2f9)](colonies[_0x49a15d(0xaf3)]())['filter'](_0x184445=>_0x184445['id']!==_0x4a2137['id']);if(_0x1dd0c4['length']===0x0){_0x573ed4['sendMessage'](_0x49a15d(0xcb5));return;}const _0x3e0849=new ActionFormData()[_0x49a15d(0xd1)](_0x49a15d(0x908)+_0x4a2137[_0x49a15d(0xa45)])[_0x49a15d(0x629)](_0x49a15d(0xa64));_0x1dd0c4[_0x49a15d(0x2c2)](_0x2c307f=>_0x3e0849[_0x49a15d(0x31f)](_0x2c307f[_0x49a15d(0xa45)]+_0x49a15d(0x376)+_0x2c307f[_0x49a15d(0xcd0)]+')',_0x49a15d(0x965)));const _0x25ce29=await _0x3e0849[_0x49a15d(0x504)](_0x573ed4);if(_0x25ce29[_0x49a15d(0x9d4)])return;const _0x5456e3=_0x1dd0c4[_0x25ce29[_0x49a15d(0x77a)]],_0x5074a8=_0x4a2137[_0x49a15d(0x2ca)]&&_0x4a2137[_0x49a15d(0x2ca)][_0x5456e3['id']]?_0x4a2137[_0x49a15d(0x2ca)][_0x5456e3['id']]:_0x49a15d(0xa0a),_0x2a2519=[{'name':'Ally','value':_0x49a15d(0x5f3)},{'name':'Neutral','value':_0x49a15d(0xa0a)},{'name':_0x49a15d(0x8f3),'value':_0x49a15d(0x9ea)},{'name':_0x49a15d(0xb4d),'value':_0x49a15d(0xac2)},{'name':_0x49a15d(0x33f),'value':_0x49a15d(0x841)},{'name':_0x49a15d(0x200),'value':_0x49a15d(0x77e)}],_0x52d0bd=_0x2a2519[_0x49a15d(0xc89)](_0x9f664d=>_0x9f664d[_0x49a15d(0xa45)]),_0x206908=_0x2a2519[_0x49a15d(0xb06)](_0x17de82=>_0x17de82['value']===_0x5074a8),_0x2c4d5a=new ActionFormData()[_0x49a15d(0xd1)]('§6'+_0x4a2137[_0x49a15d(0xa45)]+'\x20⇄\x20'+_0x5456e3[_0x49a15d(0xa45)])[_0x49a15d(0x629)](_0x49a15d(0x5ef)+(_0x2a2519[_0x49a15d(0x2d0)](_0x2d04ff=>_0x2d04ff[_0x49a15d(0x768)]===_0x5074a8)?.[_0x49a15d(0xa45)]||_0x49a15d(0x758)));_0x52d0bd[_0x49a15d(0x2c2)](_0x289c06=>_0x2c4d5a[_0x49a15d(0x31f)](_0x289c06));const _0x20a754=await _0x2c4d5a[_0x49a15d(0x504)](_0x573ed4);if(_0x20a754[_0x49a15d(0x9d4)])return;const _0x3d7740=_0x2a2519[_0x20a754[_0x49a15d(0x77a)]][_0x49a15d(0x768)];if(!_0x4a2137['diplomacy'])_0x4a2137[_0x49a15d(0x2ca)]={};if(!_0x5456e3[_0x49a15d(0x2ca)])_0x5456e3[_0x49a15d(0x2ca)]={};_0x4a2137['diplomacy'][_0x5456e3['id']]=_0x3d7740;[_0x49a15d(0x5f3),_0x49a15d(0xac2),'defensive_pact']['includes'](_0x3d7740)&&(_0x5456e3['diplomacy'][_0x4a2137['id']]=_0x3d7740);colonies[_0x49a15d(0x336)](_0x4a2137['id'],_0x4a2137),colonies['set'](_0x5456e3['id'],_0x5456e3),saveColonyData();const _0x2d4af9=_0x2a2519[_0x49a15d(0x2d0)](_0xa3208a=>_0xa3208a['value']===_0x3d7740)?.[_0x49a15d(0xa45)]||_0x3d7740,_0x3c7eb8=_0x49a15d(0xb34)+_0x4a2137[_0x49a15d(0xa45)]+_0x49a15d(0x488)+_0x5456e3[_0x49a15d(0xa45)]+_0x49a15d(0xc2c)+_0x2d4af9;for(const _0x313dce of world[_0x49a15d(0x272)]()){_0x313dce[_0x49a15d(0x34f)](_0x3c7eb8);try{_0x313dce[_0x49a15d(0x285)]('event.whistle');}catch(_0x1b4752){console[_0x49a15d(0x5b4)](_0x49a15d(0x983)+_0x1b4752);}}}catch(_0x3e80b9){_0x573ed4[_0x49a15d(0x34f)](_0x49a15d(0x2e6)),console[_0x49a15d(0x5b4)](_0x49a15d(0x614),_0x3e80b9);}}system[_0x1d2622(0x613)](()=>{const _0x5d4cda=_0x1d2622;try{const _0x352f56=[world[_0x5d4cda(0xbc8)](_0x5d4cda(0x182)),world[_0x5d4cda(0xbc8)](_0x5d4cda(0x437)),world['getDimension'](_0x5d4cda(0x18d))];for(const _0x34b859 of _0x352f56){const _0x5ce27f=_0x34b859[_0x5d4cda(0xc8f)]({'type':_0x5d4cda(0x271),'tags':[]});for(const _0x324e53 of _0x5ce27f){try{if(!_0x324e53['isValid']())continue;const _0x55689e=_0x324e53[_0x5d4cda(0x299)](_0x5d4cda(0x4fd));if(!_0x55689e)continue;const _0x961d9=_0x55689e[_0x5d4cda(0x7e6)],_0x5c5dd6=0x28;if(_0x961d9<_0x5c5dd6-0.1){const _0x2b0588=Math[_0x5d4cda(0x2c1)](_0x961d9+0x1,_0x5c5dd6);try{_0x55689e[_0x5d4cda(0x652)](_0x2b0588),_0x34b859['spawnParticle']('minecraft:heart_particle',{'x':_0x324e53[_0x5d4cda(0x1f2)]['x'],'y':_0x324e53['location']['y']+1.5,'z':_0x324e53['location']['z']},{'x':0.5,'y':0.5,'z':0.5}),_0x34b859[_0x5d4cda(0x6ba)](_0x5d4cda(0xb30)+_0x324e53['location']['x']+'\x20'+_0x324e53[_0x5d4cda(0x1f2)]['y']+'\x20'+_0x324e53[_0x5d4cda(0x1f2)]['z']+'\x200.5\x201.0'),_0x34b859[_0x5d4cda(0x57a)](_0x5d4cda(0x893),{'x':_0x324e53['location']['x'],'y':_0x324e53[_0x5d4cda(0x1f2)]['y']+0.2,'z':_0x324e53[_0x5d4cda(0x1f2)]['z']},{'x':0x1,'y':0.2,'z':0x1});}catch(_0x37653e){}}}catch(_0x5e5b43){}}}}catch(_0xe652db){}},0x4b0);function removeEntityAndSpawnItem(_0x4ab42b,_0x54789,_0x365ac1,_0x34b05c){const _0x55d33e=_0x1d2622;try{if(!_0x4ab42b||!_0x4ab42b[_0x55d33e(0x25f)]())return![];const _0x3f1d29={'x':_0x4ab42b['location']['x'],'y':_0x4ab42b[_0x55d33e(0x1f2)]['y'],'z':_0x4ab42b[_0x55d33e(0x1f2)]['z']},_0x3e0127=_0x4ab42b[_0x55d33e(0xaf8)];let _0x5e7618=![];try{_0x4ab42b[_0x55d33e(0x54b)]({'x':_0x3f1d29['x'],'y':-0x1f4,'z':_0x3f1d29['z']},{'dimension':_0x3e0127}),_0x5e7618=!![];}catch(_0x253dd7){console[_0x55d33e(0x5b4)]('Teleport\x20to\x20void\x20failed:',_0x253dd7);}try{_0x4ab42b[_0x55d33e(0x875)](_0x55d33e(0x796)),_0x3e0127[_0x55d33e(0x6ba)]('tp\x20@e[type=jerrys_colonies:colony_flag_entity,tag=delete_this_entity]\x20~\x20~-500\x20~'),_0x5e7618=!![];}catch(_0x2e3050){console[_0x55d33e(0x5b4)](_0x55d33e(0xbde),_0x2e3050);}try{_0x3e0127['runCommandAsync'](_0x55d33e(0x3f9)+_0x3f1d29['x']+_0x55d33e(0x323)+_0x3f1d29['y']+',z='+_0x3f1d29['z']+_0x55d33e(0xc82)),_0x5e7618=!![];}catch(_0x157876){console[_0x55d33e(0x5b4)](_0x55d33e(0x4d7),_0x157876);}try{_0x3e0127[_0x55d33e(0x6ba)]('kill\x20@e[type=jerrys_colonies:colony_flag_entity,tag=delete_this_entity]'),_0x5e7618=!![];}catch(_0x2549be){console[_0x55d33e(0x5b4)]('Kill\x20command\x20failed:',_0x2549be);}return system[_0x55d33e(0x633)](()=>{const _0x34851b=_0x55d33e;try{_0x3e0127[_0x34851b(0x3ec)](new ItemStack(_0x54789,_0x365ac1),_0x3f1d29),_0x34b05c&&_0x34b05c[_0x34851b(0x34f)](_0x34851b(0xa05));}catch(_0x39ba0c){console['warn']('Could\x20not\x20spawn\x20item:',_0x39ba0c),_0x34b05c&&_0x34b05c['sendMessage']('§cCouldn\x27t\x20spawn\x20item,\x20but\x20flag\x20was\x20removed.');}},0x5),_0x5e7618;}catch(_0x2a2f00){return console[_0x55d33e(0x5b4)]('Entity\x20removal\x20error:',_0x2a2f00),![];}}function setCitizenHungerLevel(_0x29955f,_0x60934){const _0x110d90=_0x1d2622;let _0x2e4230=citizenHungerData[_0x110d90(0xc0a)](_0x29955f)||{};_0x2e4230['hungerLevel']=_0x60934,_0x2e4230['lastFeedTime']=Date[_0x110d90(0x405)](),citizenHungerData['set'](_0x29955f,_0x2e4230),saveCitizenHungerData();}function saveCitizenHungerData(){const _0x3f1e1d=_0x1d2622;try{const _0x5d3cf7={};for(const [_0x32af1b,_0x340879]of citizenHungerData['entries']()){_0x5d3cf7[_0x32af1b]=_0x340879;}world[_0x3f1e1d(0x4da)]('citizen_hunger_data',JSON[_0x3f1e1d(0x1db)](_0x5d3cf7));}catch(_0x5b826c){console['error'](_0x3f1e1d(0x390),_0x5b826c);}}function loadCitizenHungerData(){const _0x2a7bd1=_0x1d2622;try{const _0x508024=world[_0x2a7bd1(0x49d)]('citizen_hunger_data');if(_0x508024){const _0xf9934c=JSON[_0x2a7bd1(0xc35)](_0x508024);citizenHungerData[_0x2a7bd1(0xa83)]();for(const [_0x479491,_0x5a92b8]of Object[_0x2a7bd1(0x74e)](_0xf9934c)){citizenHungerData[_0x2a7bd1(0x336)](_0x479491,_0x5a92b8);}}}catch(_0x33e26a){console['error'](_0x2a7bd1(0x772),_0x33e26a);}}function tryConsumeFoodFromNearestCrate(_0x415f3e){const _0xf75572=_0x1d2622;try{const _0x3ca69d=_0x415f3e[_0xf75572(0x1f2)],_0x3946e7=world[_0xf75572(0xbc8)](_0xf75572(0x182)),_0x375792=_0x415f3e[_0xf75572(0x460)]()[_0xf75572(0x2d0)](_0x119045=>_0x119045['startsWith'](_0xf75572(0x30d)));if(!_0x375792)return![];const _0x3d2410=_0x375792['split'](':')[0x1],_0x5d0e06=colonies[_0xf75572(0xc0a)](_0x3d2410);if(!_0x5d0e06)return![];const _0x8ef891=world[_0xf75572(0x272)](),_0x2a203e=_0x8ef891['filter'](_0x3865aa=>_0x3865aa[_0xf75572(0x460)]()[_0xf75572(0xb49)](_0x4f87a5=>_0x4f87a5===_0xf75572(0x30d)+_0x3d2410||_0x4f87a5==='colony_member:'+_0x3d2410));if(!hasOnlineColonyMembers(_0x3d2410))return![];if(!_0x5d0e06[_0xf75572(0x59f)]||_0x5d0e06[_0xf75572(0x59f)]['length']===0x0)return![];const _0x118117=foodCratePoints[_0xf75572(0xc0a)](_0x5d0e06['id'])||0x0;if(_0x118117<=0x0)return![];if(_0x118117>=0x1){const _0x5d9e36=Math['max'](0x0,_0x118117-0x1);if(_0x5d9e36<0x0||_0x5d9e36>_0x118117)return console[_0xf75572(0x7bf)](_0xf75572(0x599)+_0x118117+',\x20new='+_0x5d9e36),![];const _0x2eed83=foodCratePoints[_0xf75572(0xc0a)](_0x5d0e06['id']);foodCratePoints[_0xf75572(0x336)](_0x5d0e06['id'],_0x5d9e36);const _0x42855d=foodCratePoints[_0xf75572(0xc0a)](_0x5d0e06['id']);if(_0x42855d!==_0x5d9e36)return console[_0xf75572(0x7bf)]('[FOOD_CRATE]\x20CRITICAL:\x20Set\x20verification\x20failed!\x20Expected\x20'+_0x5d9e36+_0xf75572(0x811)+_0x42855d),foodCratePoints['set'](_0x5d0e06['id'],_0x2eed83),![];saveFoodCrateData(),system['runTimeout'](()=>{const _0x2f4f3c=_0xf75572,_0x50ad29=foodCratePoints[_0x2f4f3c(0xc0a)](_0x5d0e06['id']);_0x50ad29!==_0x5d9e36&&console[_0x2f4f3c(0x7bf)](_0x2f4f3c(0xba2)+_0x5d0e06['id']+'!\x20Expected\x20'+_0x5d9e36+',\x20got\x20'+_0x50ad29);},0x5);try{for(const _0xb6bc1f of _0x5d0e06[_0xf75572(0x59f)]){const _0x4bb55c=_0x3946e7[_0xf75572(0xb28)](_0xb6bc1f);if(_0x4bb55c&&_0x4bb55c['typeId']==='jerrys_colonies:food_crate'){const _0x17cf06=_0x5d9e36>0x0;_0x4bb55c['setPermutation'](_0x4bb55c[_0xf75572(0x91a)][_0xf75572(0x97e)](_0xf75572(0x685),_0x17cf06));}}}catch(_0x2096ab){console[_0xf75572(0x5b4)](_0xf75572(0xac5),_0x2096ab);}const _0x334905=getCitizenHungerLevel(_0x415f3e['id']),_0x149883=Math[_0xf75572(0xb51)](HUNGER_LEVELS['FULL'],_0x334905-0x1);return setCitizenHungerLevel(_0x415f3e['id'],_0x149883),applyCitizenHungerEffects(_0x415f3e,_0x149883),console[_0xf75572(0x6a4)](_0xf75572(0xa63)+_0x415f3e['id']+_0xf75572(0xc72)+_0x5d0e06['name']+_0xf75572(0x6d4)+HUNGER_STATUS_NAMES[_0x334905]+_0xf75572(0xa85)+HUNGER_STATUS_NAMES[_0x149883]),!![];}return![];}catch(_0xd091a0){return console[_0xf75572(0x7bf)](_0xf75572(0xc62),_0xd091a0),![];}}function hasOnlineColonyMembers(_0x48b536){const _0x2cc27a=_0x1d2622;try{const _0x500ceb=world['getPlayers']();for(const _0x1bd6d2 of _0x500ceb){const _0x4a7778=_0x1bd6d2['getTags']()[_0x2cc27a(0xb49)](_0x560c6d=>_0x560c6d==='colony_id:'+_0x48b536),_0x2fe8fa=_0x1bd6d2[_0x2cc27a(0x460)]()[_0x2cc27a(0xb49)](_0x5286ed=>_0x5286ed===_0x2cc27a(0x3ae)+_0x48b536);if(_0x4a7778||_0x2fe8fa)return!![];}return![];}catch(_0x239964){return console[_0x2cc27a(0x7bf)](_0x2cc27a(0xc8c),_0x239964),!![];}}function checkCitizenHunger(){const _0x59f257=_0x1d2622;try{if(!isCitizenHungerEnabled()){const _0xf0ed94=world[_0x59f257(0xbc8)](_0x59f257(0x182)),_0x1256f8=_0xf0ed94[_0x59f257(0xc8f)]({'type':'jerrys_colonies:citizen'});for(const _0x9d818f of _0x1256f8){const _0x3ba233=getCitizenHungerLevel(_0x9d818f['id']);_0x3ba233!==HUNGER_LEVELS[_0x59f257(0x9bf)]&&(setCitizenHungerLevel(_0x9d818f['id'],HUNGER_LEVELS[_0x59f257(0x9bf)]),_0x9d818f[_0x59f257(0x132)]('weakness'),_0x9d818f[_0x59f257(0x132)]('slowness'),_0x9d818f[_0x59f257(0x132)](_0x59f257(0xbe9)));}return;}const _0x1920ca=world['getDimension'](_0x59f257(0x182)),_0x26ae9d=_0x1920ca['getEntities']({'type':_0x59f257(0x127)}),_0x54b6fc=new Map();for(const _0x39d5a8 of _0x26ae9d){const _0xba4adf=_0x39d5a8[_0x59f257(0x460)]()[_0x59f257(0x2d0)](_0x357a06=>_0x357a06[_0x59f257(0x42a)](_0x59f257(0x30d)));if(!_0xba4adf)continue;const _0x3449e6=_0xba4adf[_0x59f257(0x44b)](':')[0x1];if(!hasOnlineColonyMembers(_0x3449e6)){console[_0x59f257(0x6a4)](_0x59f257(0xaf7)+_0x39d5a8['id']+'\x20-\x20no\x20online\x20members\x20in\x20colony\x20'+_0x3449e6);continue;}const _0x309146=getCitizenHungerLevel(_0x39d5a8['id']);let _0x1cf405=_0x309146+0x1;if(_0x1cf405>=HUNGER_LEVELS[_0x59f257(0x1b3)]){handleCitizenStarvationDeath(_0x39d5a8);continue;}setCitizenHungerLevel(_0x39d5a8['id'],_0x1cf405),console['log'](_0x59f257(0xc4f)+_0x39d5a8['id']+_0x59f257(0x35b)+_0x1cf405+'\x20('+HUNGER_STATUS_NAMES[_0x1cf405]+')'),applyCitizenHungerEffects(_0x39d5a8,_0x1cf405);if(_0x1cf405>HUNGER_LEVELS[_0x59f257(0x9bf)]){const _0x5441d4=tryConsumeFoodFromNearestCrate(_0x39d5a8);_0x5441d4?console[_0x59f257(0x6a4)](_0x59f257(0xc4f)+_0x39d5a8['id']+_0x59f257(0x5a8)):console[_0x59f257(0x6a4)](_0x59f257(0xc4f)+_0x39d5a8['id']+_0x59f257(0x5b3)+_0x1cf405);}else console[_0x59f257(0x6a4)](_0x59f257(0xc4f)+_0x39d5a8['id']+_0x59f257(0xc42));const _0x8d993=getCitizenHungerLevel(_0x39d5a8['id']);if(_0x8d993>=HUNGER_LEVELS[_0x59f257(0x6ec)]){const _0x2993bc=_0x54b6fc[_0x59f257(0xc0a)](_0x3449e6)||0x0;_0x54b6fc[_0x59f257(0x336)](_0x3449e6,_0x2993bc+0x1);}}if(_0x54b6fc[_0x59f257(0x5c1)]>0x0){const _0x30e050=world['getPlayers']();for(const [_0x55362d,_0x1aebe4]of _0x54b6fc[_0x59f257(0x74e)]()){for(const _0x182cba of _0x30e050){(_0x182cba[_0x59f257(0x460)]()[_0x59f257(0x22d)](_0x59f257(0x3ae)+_0x55362d)||_0x182cba['getTags']()[_0x59f257(0x22d)]('colony_id:'+_0x55362d))&&_0x182cba['sendMessage'](_0x59f257(0x589)+_0x1aebe4+_0x59f257(0x75d)+(_0x1aebe4>0x1?_0x59f257(0x118):_0x59f257(0x28a))+'\x20extremely\x20hungry!\x20(Starving/Malnourished)');}}}}catch(_0x2b2799){console[_0x59f257(0x7bf)](_0x59f257(0xbba),_0x2b2799);}}function applyCitizenHungerEffects(_0x323e31,_0x48e7b5){const _0x4eae4a=_0x1d2622;try{_0x323e31[_0x4eae4a(0x132)](_0x4eae4a(0x431)),_0x323e31['removeEffect']('slowness'),_0x323e31[_0x4eae4a(0x132)](_0x4eae4a(0xbe9));switch(_0x48e7b5){case HUNGER_LEVELS['SLIGHTLY_HUNGRY']:break;case HUNGER_LEVELS[_0x4eae4a(0x5ff)]:_0x323e31[_0x4eae4a(0x33d)](_0x4eae4a(0x5a0),0x1869f,{'amplifier':0x0,'showParticles':![]});break;case HUNGER_LEVELS[_0x4eae4a(0x6ec)]:_0x323e31[_0x4eae4a(0x33d)](_0x4eae4a(0x5a0),0x1869f,{'amplifier':0x1,'showParticles':![]}),_0x323e31[_0x4eae4a(0x33d)](_0x4eae4a(0x431),0x1869f,{'amplifier':0x0,'showParticles':![]});break;case HUNGER_LEVELS[_0x4eae4a(0x9a4)]:_0x323e31['addEffect'](_0x4eae4a(0x5a0),0x1869f,{'amplifier':0x2,'showParticles':![]}),_0x323e31[_0x4eae4a(0x33d)](_0x4eae4a(0x431),0x1869f,{'amplifier':0x1,'showParticles':![]}),_0x323e31['addEffect']('mining_fatigue',0x1869f,{'amplifier':0x0,'showParticles':![]});break;}}catch(_0x9f78dc){console[_0x4eae4a(0x7bf)](_0x4eae4a(0xa02),_0x9f78dc);}}function handleCitizenStarvationDeath(_0x3002f2){const _0x2b1b1c=_0x1d2622;try{const _0x4d009b=world[_0x2b1b1c(0x272)]()['filter'](_0x5496b9=>{const _0x28bb3d=_0x2b1b1c,_0x14d3c9=Math[_0x28bb3d(0x4e0)](Math[_0x28bb3d(0x6bc)](_0x5496b9['location']['x']-_0x3002f2[_0x28bb3d(0x1f2)]['x'],0x2)+Math[_0x28bb3d(0x6bc)](_0x5496b9[_0x28bb3d(0x1f2)]['y']-_0x3002f2[_0x28bb3d(0x1f2)]['y'],0x2)+Math[_0x28bb3d(0x6bc)](_0x5496b9[_0x28bb3d(0x1f2)]['z']-_0x3002f2[_0x28bb3d(0x1f2)]['z'],0x2));return _0x14d3c9<=0x64;}),_0x3b0ac5=_0x3002f2[_0x2b1b1c(0xa7c)]||_0x2b1b1c(0x673),_0x460752='§c'+_0x3b0ac5+_0x2b1b1c(0x904);for(const _0x5a5fc7 of _0x4d009b){_0x5a5fc7[_0x2b1b1c(0x34f)](_0x460752);}console[_0x2b1b1c(0x6a4)]('Citizen\x20'+_0x3002f2['id']+'\x20('+_0x3b0ac5+_0x2b1b1c(0xb73)),citizenHungerData['delete'](_0x3002f2['id']),saveCitizenHungerData(),_0x3002f2[_0x2b1b1c(0x63d)]();}catch(_0x476423){console[_0x2b1b1c(0x7bf)](_0x2b1b1c(0x9f5),_0x476423);}}const foodCratePoints=new Map(),foodCrateInteractionCooldowns=new Map(),FOOD_CRATE_INTERACTION_COOLDOWN=0x1f4,mailboxInteractionCooldowns=new Map(),MAILBOX_INTERACTION_COOLDOWN=0x1f4,blockInteractionCooldowns=new Map(),BLOCK_INTERACTION_COOLDOWN=0x1f4,FOOD_POINT_VALUES={'minecraft:apple':0x4,'minecraft:baked_potato':0x5,'minecraft:beef':0x3,'minecraft:beetroot':0x1,'minecraft:beetroot_soup':0x6,'minecraft:bread':0x5,'minecraft:carrot':0x3,'minecraft:chicken':0x2,'minecraft:chorus_fruit':0x4,'minecraft:cod':0x2,'minecraft:cooked_beef':0x8,'minecraft:cooked_chicken':0x6,'minecraft:cooked_cod':0x5,'minecraft:cooked_mutton':0x6,'minecraft:cooked_porkchop':0x8,'minecraft:cooked_rabbit':0x5,'minecraft:cooked_salmon':0x6,'minecraft:cookie':0x2,'minecraft:dried_kelp':0x1,'minecraft:egg':0x1,'minecraft:golden_apple':0x14,'minecraft:golden_carrot':0xf,'minecraft:honey_bottle':0x6,'minecraft:melon_slice':0x2,'minecraft:milk_bucket':0x4,'minecraft:mushroom_stew':0x6,'minecraft:mutton':0x2,'minecraft:porkchop':0x3,'minecraft:potato':0x1,'minecraft:pumpkin_pie':0x8,'minecraft:rabbit':0x3,'minecraft:rabbit_stew':0xa,'minecraft:rotten_flesh':0x1,'minecraft:salmon':0x2,'minecraft:steak':0x8,'minecraft:suspicious_stew':0x6,'minecraft:sweet_berries':0x2,'minecraft:tropical_fish':0x1,'minecraft:wheat':0x1,'minecraft:glow_berries':0x2,'minecraft:honey':0x6,'minecraft:cake':0xe,'farmersdelight:apple_cider':0x5,'farmersdelight:apple_pie':0x12,'farmersdelight:apple_pie_slice':0x3,'farmersdelight:bacon':0x4,'farmersdelight:bacon_and_eggs':0xa,'farmersdelight:bacon_sandwich':0xc,'farmersdelight:baked_cod_stew':0xe,'farmersdelight:barbecue_stick':0xa,'farmersdelight:beef_patty':0x5,'farmersdelight:beef_stew':0xe,'farmersdelight:bone_broth':0x8,'farmersdelight:cabbage':0x2,'farmersdelight:cabbage_leaf':0x1,'farmersdelight:cabbage_rolls':0xc,'farmersdelight:cake_slice':0x3,'farmersdelight:chicken_cuts':0x3,'farmersdelight:chicken_sandwich':0xc,'farmersdelight:chicken_soup':0xe,'farmersdelight:chocolate_pie':0x12,'farmersdelight:chocolate_pie_slice':0x3,'farmersdelight:cod_roll':0xa,'farmersdelight:cod_slice':0x2,'farmersdelight:cooked_bacon':0x6,'farmersdelight:cooked_chicken_cuts':0x5,'farmersdelight:cooked_cod_slice':0x4,'farmersdelight:cooked_mutton_chops':0x7,'farmersdelight:cooked_rice':0x5,'farmersdelight:cooked_salmon_slice':0x5,'farmersdelight:dumplings':0xa,'farmersdelight:egg_sandwich':0xa,'farmersdelight:fish_stew':0xe,'farmersdelight:fried_egg':0x4,'farmersdelight:fried_rice':0xc,'farmersdelight:fruit_salad':0x8,'farmersdelight:glow_berry_custard':0xa,'farmersdelight:grilled_salmon':0x9,'farmersdelight:ham':0x7,'farmersdelight:hamburger':0xe,'farmersdelight:honey_cookie':0x4,'farmersdelight:honey_glazed_ham':0x10,'farmersdelight:hot_cocoa':0x6,'farmersdelight:kelp_roll':0x8,'farmersdelight:kelp_roll_slice':0x2,'farmersdelight:melon_juice':0x4,'farmersdelight:melon_popsicle':0x5,'farmersdelight:milk_bottle':0x4,'farmersdelight:minced_beef':0x4,'farmersdelight:mixed_salad':0x8,'farmersdelight:mushroom_rice':0xa,'farmersdelight:mutton_chops':0x4,'farmersdelight:mutton_wrap':0xc,'farmersdelight:nether_salad':0xa,'farmersdelight:noodle_soup':0xc,'farmersdelight:onion':0x2,'farmersdelight:pasta_with_meatballs':0x10,'farmersdelight:pasta_with_mutton_chop':0x10,'farmersdelight:pie_crust':0x3,'farmersdelight:pumpkin_slice':0x2,'farmersdelight:pumpkin_soup':0xa,'farmersdelight:ratatouille':0xc,'farmersdelight:raw_pasta':0x2,'farmersdelight:rice':0x1,'farmersdelight:rice_panicle':0x1,'farmersdelight:roast_chicken':0x12,'farmersdelight:roasted_mutton_chops':0x9,'farmersdelight:rotten_tomato':0x1,'farmersdelight:salmon_roll':0xa,'farmersdelight:salmon_slice':0x2,'farmersdelight:shepherds_pie':0x10,'farmersdelight:smoked_ham':0x9,'farmersdelight:squid_ink_pasta':0xe,'farmersdelight:steak_and_potatoes':0x10,'farmersdelight:stuffed_potato':0xc,'farmersdelight:stuffed_pumpkin':0xe,'farmersdelight:sweet_berry_cheesecake':0x12,'farmersdelight:sweet_berry_cheesecake_slice':0x3,'farmersdelight:sweet_berry_cookie':0x3,'farmersdelight:tomato':0x2,'farmersdelight:tomato_sauce':0x4,'farmersdelight:vegetable_noodles':0xc,'farmersdelight:vegetable_soup':0xa,'farmersdelight:wheat_dough':0x2},FOOD_ITEMS=Object[_0x1d2622(0xc70)](FOOD_POINT_VALUES);function getBlockLocationKey(_0x119711){const _0x117dff=_0x1d2622;return _0x119711[_0x117dff(0x1f2)]['x']+','+_0x119711[_0x117dff(0x1f2)]['y']+','+_0x119711[_0x117dff(0x1f2)]['z'];}function isFoodItem(_0x3ba053){const _0x347681=_0x1d2622;return FOOD_ITEMS[_0x347681(0x22d)](_0x3ba053);}function getFoodPointValue(_0x109e06){return FOOD_POINT_VALUES[_0x109e06]||0x0;}async function showFoodCrateUI(_0xa95500,_0x5c139d){const _0x188380=_0x1d2622;try{const _0x23b2ad=getColonyAtLocation(_0x5c139d[_0x188380(0x1f2)]);let _0x2142a8=0x0,_0x371492='';if(_0x23b2ad){_0x2142a8=foodCratePoints['get'](_0x23b2ad['id'])||0x0;const _0x49a0cd=_0x23b2ad[_0x188380(0x59f)]?_0x23b2ad[_0x188380(0x59f)][_0x188380(0xcd6)]:0x0;_0x371492=_0x188380(0x4f1)+_0x23b2ad[_0x188380(0xa45)]+'§r\x0aShared\x20Pool:\x20'+_0x49a0cd+_0x188380(0x111)+(_0x49a0cd!==0x1?'s':'')+_0x188380(0x8a6)+_0x2142a8+'§r';}else{const _0x534f98=getBlockLocationKey(_0x5c139d);_0x2142a8=foodCratePoints[_0x188380(0xc0a)](_0x534f98)||0x0,_0x371492=_0x188380(0x5fb)+_0x2142a8+'§r';}const _0x31cb0a=new ActionFormData()[_0x188380(0xd1)](_0x188380(0x84e))['body'](_0x188380(0xb46)+_0x371492+_0x188380(0x1fa));_0x31cb0a['button'](_0x188380(0x708),_0x188380(0xa57))[_0x188380(0x31f)](_0x188380(0xb57),_0x188380(0x96e));const _0x1099df=await _0x31cb0a[_0x188380(0x504)](_0xa95500);if(_0x1099df[_0x188380(0x9d4)])return;switch(_0x1099df['selection']){case 0x0:await storeFoodItems(_0xa95500,_0x5c139d);break;case 0x1:break;}}catch(_0x32709){console[_0x188380(0x7bf)](_0x188380(0xa97),_0x32709),_0xa95500[_0x188380(0x34f)]('§cError\x20opening\x20food\x20crate:\x20'+_0x32709['message']);}}async function storeFoodItems(_0x35f7d9,_0x5724f2){const _0x4119f6=_0x1d2622,_0x485f21=_0x35f7d9[_0x4119f6(0x299)](_0x4119f6(0xd17))[_0x4119f6(0x26e)],_0x4688aa=[];for(let _0x1d02ee=0x0;_0x1d02ee<_0x485f21['size'];_0x1d02ee++){const _0x58f60c=_0x485f21[_0x4119f6(0x416)](_0x1d02ee);if(_0x58f60c&&isFoodItem(_0x58f60c[_0x4119f6(0x621)])){const _0x22b9ad=getFoodPointValue(_0x58f60c['typeId']);_0x4688aa[_0x4119f6(0x9bb)]({'slot':_0x1d02ee,'item':_0x58f60c,'pointValue':_0x22b9ad});}}if(_0x4688aa[_0x4119f6(0xcd6)]===0x0){_0x35f7d9['sendMessage'](_0x4119f6(0x196));return;}const _0x3d21f5=getColonyAtLocation(_0x5724f2[_0x4119f6(0x1f2)]),_0x28fb0f=_0x3d21f5?_0x3d21f5['id']:getBlockLocationKey(_0x5724f2),_0x449391=foodCratePoints[_0x4119f6(0xc0a)](_0x28fb0f)||0x0,_0x2b3bea=_0x3d21f5?_0x4119f6(0x4f1)+_0x3d21f5[_0x4119f6(0xa45)]+_0x4119f6(0x382):_0x4119f6(0x156),_0x577257=new ActionFormData()['title']('Deposit\x20Food')['body'](_0x2b3bea+'\x0aCurrent\x20Points:\x20§e'+_0x449391+'§r\x0a\x0aSelect\x20food\x20items\x20to\x20deposit:\x0a(Items\x20will\x20be\x20converted\x20to\x20points)');for(const _0x7ae4bb of _0x4688aa){const _0x1167c2=_0x7ae4bb['item'][_0x4119f6(0x621)][_0x4119f6(0x15a)]('minecraft:','')[_0x4119f6(0x15a)](_0x4119f6(0xa8b),'')[_0x4119f6(0x15a)](/_/g,'\x20'),_0x527aba=_0x7ae4bb[_0x4119f6(0x45f)]*_0x7ae4bb[_0x4119f6(0xcd8)][_0x4119f6(0x8f0)];_0x577257['button'](_0x1167c2+'\x20x'+_0x7ae4bb[_0x4119f6(0xcd8)]['amount']+_0x4119f6(0x3bb)+_0x527aba+_0x4119f6(0xbff));}_0x577257[_0x4119f6(0x31f)](_0x4119f6(0x2e5))['button'](_0x4119f6(0x468));const _0x100ae7=await _0x577257[_0x4119f6(0x504)](_0x35f7d9);if(_0x100ae7[_0x4119f6(0x9d4)])return;let _0x1befea=0x0,_0x20d023=0x0;if(_0x100ae7[_0x4119f6(0x77a)]===_0x4688aa[_0x4119f6(0xcd6)]){for(const _0x26eb46 of _0x4688aa){const _0x305fc7=_0x26eb46[_0x4119f6(0x45f)]*_0x26eb46[_0x4119f6(0xcd8)][_0x4119f6(0x8f0)];_0x1befea+=_0x305fc7,_0x485f21['setItem'](_0x26eb46[_0x4119f6(0x32a)],undefined),_0x20d023++;}_0x20d023>0x0&&(_0x35f7d9[_0x4119f6(0x34f)](_0x4119f6(0x930)+_0x20d023+'\x20food\x20items\x20for\x20§e'+_0x1befea+_0x4119f6(0x274)),console[_0x4119f6(0x6a4)](_0x4119f6(0x873)+_0x35f7d9['name']+_0x4119f6(0x27d)+_0x20d023+_0x4119f6(0xb24)+_0x1befea+_0x4119f6(0x5d5)+_0x28fb0f));}else{if(_0x100ae7['selection']===_0x4688aa[_0x4119f6(0xcd6)]+0x1)return;else{const _0x240241=_0x4688aa[_0x100ae7[_0x4119f6(0x77a)]],_0x1f849c=_0x240241[_0x4119f6(0x45f)]*_0x240241[_0x4119f6(0xcd8)][_0x4119f6(0x8f0)];_0x1befea=_0x1f849c,_0x485f21['setItem'](_0x240241[_0x4119f6(0x32a)],undefined);const _0x52e6aa=_0x240241[_0x4119f6(0xcd8)][_0x4119f6(0x621)][_0x4119f6(0x15a)](_0x4119f6(0x524),'')[_0x4119f6(0x15a)](_0x4119f6(0xa8b),'')[_0x4119f6(0x15a)](/_/g,'\x20');_0x35f7d9[_0x4119f6(0x34f)](_0x4119f6(0x930)+_0x52e6aa+'\x20x'+_0x240241[_0x4119f6(0xcd8)][_0x4119f6(0x8f0)]+_0x4119f6(0x8a3)+_0x1f849c+_0x4119f6(0x274)),console[_0x4119f6(0x6a4)](_0x4119f6(0x873)+_0x35f7d9[_0x4119f6(0xa45)]+_0x4119f6(0x27d)+_0x52e6aa+'\x20x'+_0x240241['item'][_0x4119f6(0x8f0)]+_0x4119f6(0x69c)+_0x1f849c+_0x4119f6(0x5d5)+_0x28fb0f);}}const _0x539af0=_0x449391+_0x1befea;foodCratePoints[_0x4119f6(0x336)](_0x28fb0f,_0x539af0);if(_0x3d21f5&&_0x3d21f5[_0x4119f6(0x59f)]){const _0x509f64=_0x539af0>0x0;for(const _0x1101ef of _0x3d21f5[_0x4119f6(0x59f)]){try{const _0x4a5510=_0x5724f2[_0x4119f6(0xaf8)]['getBlock'](_0x1101ef);_0x4a5510&&_0x4a5510[_0x4119f6(0x621)]===_0x4119f6(0x6b9)&&_0x4a5510[_0x4119f6(0xa30)](_0x4a5510[_0x4119f6(0x91a)]['withState']('jerrys_colonies:has_food',_0x509f64));}catch(_0x49e69d){console[_0x4119f6(0x5b4)](_0x4119f6(0x422)+_0x1101ef['x']+','+_0x1101ef['y']+','+_0x1101ef['z']+':',_0x49e69d);}}}else updateFoodCrateTexture(_0x5724f2);saveFoodCrateData(),console['log'](_0x4119f6(0x891)+_0x28fb0f+_0x4119f6(0x119)+_0x539af0+_0x4119f6(0x445)),system[_0x4119f6(0x633)](()=>{const _0x45d95d=_0x4119f6;saveFoodCrateData(),console[_0x45d95d(0x6a4)]('[FOOD_CRATE]\x20Safety\x20save\x20completed\x20for\x20'+_0x28fb0f);},0x14),system[_0x4119f6(0x633)](()=>{showFoodCrateUI(_0x35f7d9,_0x5724f2);},0x5);}function _0x4f32(_0x56ae65,_0x5b7ad8){_0x56ae65=_0x56ae65-0xc8;const _0x414ccb=_0x414c();let _0x4f32e2=_0x414ccb[_0x56ae65];return _0x4f32e2;}function updateFoodCrateTexture(_0x52b0b2){const _0xccbb8f=_0x1d2622,_0x1cc7ec=getColonyAtLocation(_0x52b0b2[_0xccbb8f(0x1f2)]),_0x34ab24=_0x1cc7ec?_0x1cc7ec['id']:getBlockLocationKey(_0x52b0b2),_0x58c32=foodCratePoints[_0xccbb8f(0xc0a)](_0x34ab24)||0x0,_0x88715e=_0x58c32>0x0;try{_0x52b0b2['setPermutation'](_0x52b0b2[_0xccbb8f(0x91a)]['withState'](_0xccbb8f(0x685),_0x88715e));}catch(_0x59e928){console[_0xccbb8f(0x7bf)](_0xccbb8f(0x202),_0x59e928);}}function saveFoodCrateData(){const _0x131422=_0x1d2622;try{const _0x497081={};let _0x2713cb=0x0,_0x21d07a=0x0;for(const [_0x358274,_0x4ff99e]of foodCratePoints[_0x131422(0x74e)]()){typeof _0x4ff99e===_0x131422(0x493)&&_0x4ff99e>=0x0?(_0x497081[_0x358274]=_0x4ff99e,_0x2713cb++,_0x21d07a+=_0x4ff99e):console[_0x131422(0x7bf)]('[FOOD_CRATE]\x20CRITICAL:\x20Invalid\x20points\x20value\x20for\x20'+_0x358274+':\x20'+_0x4ff99e+_0x131422(0xa4e)+typeof _0x4ff99e+')');}const _0x2ee4ed=JSON[_0x131422(0x1db)](_0x497081);world[_0x131422(0x4da)](_0x131422(0x117),_0x2ee4ed);const _0x5cacdc=world[_0x131422(0x49d)](_0x131422(0x117));_0x5cacdc===_0x2ee4ed?console[_0x131422(0x6a4)](_0x131422(0xad6)+_0x2713cb+_0x131422(0x46d)+_0x21d07a+_0x131422(0x535)):(console[_0x131422(0x7bf)](_0x131422(0x1ef)),world['setDynamicProperty'](_0x131422(0x117),_0x2ee4ed));}catch(_0x2efa2d){console['error'](_0x131422(0x80c),_0x2efa2d);try{const _0x358aa9=JSON[_0x131422(0x1db)](Object[_0x131422(0x5c8)](foodCratePoints));world[_0x131422(0x4da)](_0x131422(0xa19),_0x358aa9),console[_0x131422(0x6a4)]('[FOOD_CRATE]\x20Emergency\x20backup\x20save\x20completed');}catch(_0x4a83e8){console[_0x131422(0x7bf)](_0x131422(0x982),_0x4a83e8);}}}function loadFoodCrateData(){const _0x90b7f6=_0x1d2622;try{const _0x37f1a5=world[_0x90b7f6(0x49d)](_0x90b7f6(0x117));if(_0x37f1a5){const _0x7b4df1=JSON[_0x90b7f6(0xc35)](_0x37f1a5);let _0x11aed6=0x0,_0x101bab=0x0;const _0x489291=new Map();for(const [_0x53c444,_0x1c01a8]of Object['entries'](_0x7b4df1)){typeof _0x1c01a8==='number'&&_0x1c01a8>=0x0?(_0x489291[_0x90b7f6(0x336)](_0x53c444,_0x1c01a8),_0x11aed6++,_0x101bab+=_0x1c01a8,console[_0x90b7f6(0x6a4)](_0x90b7f6(0x698)+_0x53c444+_0x90b7f6(0xe6)+_0x1c01a8+_0x90b7f6(0x445))):console[_0x90b7f6(0x5b4)]('[FOOD_CRATE]\x20Invalid\x20points\x20data\x20for\x20crate\x20at\x20'+_0x53c444+',\x20skipping');}if(_0x11aed6>0x0||Object[_0x90b7f6(0xc70)](_0x7b4df1)['length']===0x0){foodCratePoints['clear']();for(const [_0x46e3a9,_0x12dcb8]of _0x489291[_0x90b7f6(0x74e)]()){foodCratePoints[_0x90b7f6(0x336)](_0x46e3a9,_0x12dcb8);}console[_0x90b7f6(0x6a4)](_0x90b7f6(0x344)+_0x11aed6+'\x20crates\x20with\x20'+_0x101bab+_0x90b7f6(0x535));}else console[_0x90b7f6(0x5b4)](_0x90b7f6(0xb7b));}else console['log'](_0x90b7f6(0x752));}catch(_0x20bb42){console[_0x90b7f6(0x7bf)](_0x90b7f6(0xbb0),_0x20bb42),console[_0x90b7f6(0x7bf)]('[FOOD_CRATE]\x20Preserving\x20existing\x20memory\x20data\x20to\x20prevent\x20loss');}}async function ensureFoodCrateDataLoaded(_0xe1c6d1){const _0x1260d4=_0x1d2622;try{const _0x1a546b=getBlockLocationKey(_0xe1c6d1);if(foodCratePoints['has'](_0x1a546b)){updateFoodCrateTexture(_0xe1c6d1),console[_0x1260d4(0x6a4)]('[FOOD_CRATE]\x20Memory\x20data\x20exists\x20for\x20'+_0x1a546b);return;}const _0x592e84=world[_0x1260d4(0x49d)]('food_crate_data');if(!_0x592e84){console['log']('[FOOD_CRATE]\x20No\x20saved\x20data\x20found\x20for\x20'+_0x1a546b);return;}const _0x147989=JSON[_0x1260d4(0xc35)](_0x592e84),_0x464ebb=_0x147989[_0x1a546b];_0x464ebb!==undefined&&typeof _0x464ebb==='number'&&_0x464ebb>=0x0?(foodCratePoints['set'](_0x1a546b,_0x464ebb),console[_0x1260d4(0x6a4)](_0x1260d4(0x723)+_0x464ebb+_0x1260d4(0x7af)+_0x1a546b+_0x1260d4(0x95e)),updateFoodCrateTexture(_0xe1c6d1)):console[_0x1260d4(0x6a4)]('[FOOD_CRATE]\x20No\x20data\x20found\x20in\x20storage\x20for\x20'+_0x1a546b);}catch(_0x4b7a4f){console['error'](_0x1260d4(0x829),_0x4b7a4f);}}function validateFoodCrateStates(){const _0x573df8=_0x1d2622;try{const _0x53a28e=[world[_0x573df8(0xbc8)](_0x573df8(0x182)),world[_0x573df8(0xbc8)](_0x573df8(0x437)),world[_0x573df8(0xbc8)](_0x573df8(0x18d))];let _0x5070ca=0x0,_0x5e912c=0x0;for(const _0x509033 of _0x53a28e){try{const _0x2e91d1=world[_0x573df8(0x272)]();if(_0x2e91d1[_0x573df8(0xcd6)]===0x0)continue;for(const _0x1474f4 of _0x2e91d1){if(_0x1474f4[_0x573df8(0xaf8)]['id']!==_0x509033['id'])continue;try{const _0x3b3360=_0x1474f4[_0x573df8(0x1f2)],_0x14059a=0x10;for(let _0x3ebc31=Math['floor'](_0x3b3360['x'])-_0x14059a;_0x3ebc31<=Math[_0x573df8(0x648)](_0x3b3360['x'])+_0x14059a;_0x3ebc31+=0x8){for(let _0x11a79a=Math[_0x573df8(0x648)](_0x3b3360['z'])-_0x14059a;_0x11a79a<=Math[_0x573df8(0x648)](_0x3b3360['z'])+_0x14059a;_0x11a79a+=0x8){for(let _0x11e94b=Math['floor'](_0x3b3360['y'])-0x8;_0x11e94b<=Math[_0x573df8(0x648)](_0x3b3360['y'])+0x8;_0x11e94b+=0x4){try{const _0x3b02f4=_0x509033['getBlock']({'x':_0x3ebc31,'y':_0x11e94b,'z':_0x11a79a});if(_0x3b02f4&&_0x3b02f4[_0x573df8(0x25f)]()&&_0x3b02f4[_0x573df8(0x621)]===_0x573df8(0x6b9)){const _0x3058f4=getBlockLocationKey(_0x3b02f4),_0xacb0ff=foodCratePoints[_0x573df8(0xc0a)](_0x3058f4)||0x0,_0x3a157b=_0x3b02f4['permutation'][_0x573df8(0x988)](_0x573df8(0x685))===!![],_0x2aa0b6=_0xacb0ff>0x0;_0x5070ca++,_0x3a157b!==_0x2aa0b6&&(updateFoodCrateTexture(_0x3b02f4),_0x5e912c++,console[_0x573df8(0x6a4)]('[FOOD_CRATE]\x20Fixed\x20texture\x20state\x20for\x20crate\x20at\x20'+_0x3058f4+_0x573df8(0x635)+_0x2aa0b6));}}catch(_0x378e84){}}}}}catch(_0x17e589){}}}catch(_0x3130bb){}}_0x5070ca>0x0&&console[_0x573df8(0x6a4)]('[FOOD_CRATE]\x20Validated\x20'+_0x5070ca+_0x573df8(0x517)+_0x5e912c+'\x20texture\x20states');}catch(_0x26b29c){console[_0x573df8(0x7bf)](_0x573df8(0xace),_0x26b29c);}}function verifyFoodCrateDataIntegrity(){const _0x1e0c71=_0x1d2622;try{const _0x4a5e24=world['getDynamicProperty'](_0x1e0c71(0x117));if(!_0x4a5e24){foodCratePoints[_0x1e0c71(0x5c1)]>0x0&&(console['warn'](_0x1e0c71(0x2ce)+foodCratePoints['size']+_0x1e0c71(0x6f5)),saveFoodCrateData());return;}const _0x405186=JSON[_0x1e0c71(0xc35)](_0x4a5e24),_0x45717f=Object[_0x1e0c71(0xc70)](_0x405186),_0x1ab87a=Array['from'](foodCratePoints[_0x1e0c71(0xc70)]());let _0x27fdf0=0x0,_0x686241=0x0;for(const _0x42225e of _0x1ab87a){const _0x2abf1e=foodCratePoints[_0x1e0c71(0xc0a)](_0x42225e),_0xce1486=_0x405186[_0x42225e];if(_0xce1486===undefined)console[_0x1e0c71(0x5b4)](_0x1e0c71(0x3b7)+_0x42225e+_0x1e0c71(0xb53)+_0x2abf1e+'\x20points)\x20but\x20not\x20in\x20save\x20file'),_0x27fdf0++;else _0xce1486!==_0x2abf1e&&(console[_0x1e0c71(0x5b4)](_0x1e0c71(0x16f)+_0x42225e+'\x20-\x20memory:\x20'+_0x2abf1e+_0x1e0c71(0x531)+_0xce1486),_0x686241++);}for(const _0x2f182f of _0x45717f){if(!foodCratePoints['has'](_0x2f182f)){const _0xd51ac2=_0x405186[_0x2f182f];console[_0x1e0c71(0x5b4)]('[FOOD_CRATE]\x20INTEGRITY:\x20Crate\x20'+_0x2f182f+_0x1e0c71(0x9e6)+_0xd51ac2+_0x1e0c71(0x6ed)),foodCratePoints['set'](_0x2f182f,_0xd51ac2),_0x27fdf0++;}}(_0x27fdf0>0x0||_0x686241>0x0)&&(console['warn'](_0x1e0c71(0x8ce)+_0x27fdf0+_0x1e0c71(0x41f)+_0x686241+_0x1e0c71(0x98f)),saveFoodCrateData());const _0x37c7d6=Array[_0x1e0c71(0x2f9)](foodCratePoints[_0x1e0c71(0xaf3)]())[_0x1e0c71(0x6b5)]((_0x9b5d56,_0xb3c928)=>_0x9b5d56+_0xb3c928,0x0);console[_0x1e0c71(0x6a4)](_0x1e0c71(0x367)+foodCratePoints[_0x1e0c71(0x5c1)]+_0x1e0c71(0x1b2)+_0x37c7d6+_0x1e0c71(0xe0));}catch(_0x13e20e){console[_0x1e0c71(0x7bf)](_0x1e0c71(0x522),_0x13e20e);}}function feedHungryCitizensInColony(_0x2fa896,_0x723299){const _0x357a4c=_0x1d2622;try{console[_0x357a4c(0x6a4)]('Checking\x20for\x20hungry\x20citizens\x20to\x20feed\x20automatically...');const _0x5d8dc9=getColonyAtLocation(_0x2fa896);if(!_0x5d8dc9||!_0x5d8dc9['id']){console[_0x357a4c(0x6a4)](_0x357a4c(0x421));return;}console[_0x357a4c(0x6a4)]('Food\x20crate\x20is\x20in\x20colony\x20'+_0x5d8dc9['name']+_0x357a4c(0x37f)+_0x5d8dc9['id']+')');const _0x32e91a=foodCratePoints['get'](_0x5d8dc9['id'])||0x0;if(_0x32e91a<=0x0){console[_0x357a4c(0x6a4)]('No\x20food\x20points\x20in\x20colony\x20pool\x20to\x20feed\x20citizens');return;}const _0x3f415f=world[_0x357a4c(0xbc8)](_0x357a4c(0x182));if(!_0x3f415f){console[_0x357a4c(0x6a4)]('Could\x20not\x20get\x20overworld\x20dimension');return;}const _0x4ed4e2=_0x3f415f[_0x357a4c(0xc8f)]({'type':_0x357a4c(0x127)});console[_0x357a4c(0x6a4)](_0x357a4c(0xaab)+_0x4ed4e2[_0x357a4c(0xcd6)]+'\x20total\x20citizens,\x20checking\x20for\x20colony\x20'+_0x5d8dc9['id']);let _0x997cc1=0x0,_0x1f75df=0x0;for(const _0x5e6b17 of _0x4ed4e2){if(!_0x5e6b17[_0x357a4c(0x460)]()['includes'](_0x357a4c(0x30d)+_0x5d8dc9['id']))continue;const _0x4b43e9=getCitizenHungerLevel(_0x5e6b17);if(_0x4b43e9===HUNGER_LEVELS[_0x357a4c(0xb1a)])continue;if(_0x32e91a-_0x1f75df<0x1)break;_0x1f75df+=0x1;const _0x4eb070=Math['max'](HUNGER_LEVELS[_0x357a4c(0x9bf)],_0x4b43e9-0x1);setCitizenHungerLevel(_0x5e6b17['id'],_0x4eb070),applyCitizenHungerEffects(_0x5e6b17,_0x4eb070),console['log']('Fed\x20citizen\x20'+_0x5e6b17['id']+_0x357a4c(0x161)+_0x5d8dc9['id']+'):\x20'+HUNGER_STATUS_NAMES[_0x4b43e9]+_0x357a4c(0xa85)+HUNGER_STATUS_NAMES[_0x4eb070]+_0x357a4c(0x1e2)),_0x997cc1++;}if(_0x997cc1>0x0){const _0x535fff=_0x32e91a-_0x1f75df;foodCratePoints[_0x357a4c(0x336)](_0x5d8dc9['id'],_0x535fff),saveFoodCrateData(),console[_0x357a4c(0x6a4)](_0x357a4c(0x398)+_0x997cc1+_0x357a4c(0x750)+_0x5d8dc9[_0x357a4c(0xa45)]+_0x357a4c(0x169)+_0x1f75df+_0x357a4c(0x69b));if(_0x5d8dc9[_0x357a4c(0x59f)]&&_0x5d8dc9[_0x357a4c(0x59f)]['length']>0x0)for(const _0x45094e of _0x5d8dc9[_0x357a4c(0x59f)]){updateFoodCrateTexture(_0x45094e,_0x535fff);}const _0x22977a=world[_0x357a4c(0x272)]();for(const _0xf32549 of _0x22977a){(_0xf32549[_0x357a4c(0x460)]()[_0x357a4c(0x22d)]('colony_member:'+_0x5d8dc9['id'])||_0xf32549[_0x357a4c(0x460)]()['includes'](_0x357a4c(0x30d)+_0x5d8dc9['id']))&&_0xf32549[_0x357a4c(0x34f)]('§a'+_0x997cc1+_0x357a4c(0x1d4)+(_0x997cc1>0x1?'s':'')+_0x357a4c(0x17f)+_0x1f75df+_0x357a4c(0x49f)+(_0x1f75df>0x1?'s':'')+'\x20from\x20the\x20colony\x20food\x20pool!');}}}catch(_0x3ce779){console[_0x357a4c(0x7bf)](_0x357a4c(0x541),_0x3ce779);}}system[_0x1d2622(0x633)](()=>{const _0x20b291=_0x1d2622;console['log'](_0x20b291(0xa9d));},0x64),system[_0x1d2622(0x613)](()=>{const _0x1894fb=_0x1d2622;foodCratePoints[_0x1894fb(0x5c1)]>0x0&&saveFoodCrateData();},0x258),system[_0x1d2622(0x613)](()=>{const _0x34538f=_0x1d2622;try{const _0x41cb6d=[world[_0x34538f(0xbc8)](_0x34538f(0x182)),world['getDimension'](_0x34538f(0x437)),world[_0x34538f(0xbc8)]('the_end')],_0xd990c1=[];for(const [_0xa00bc5,_0x1280d6]of foodCratePoints[_0x34538f(0x74e)]()){const [_0x4bbd8f,_0x1635a8,_0x4803de]=_0xa00bc5[_0x34538f(0x44b)](',')[_0x34538f(0xc89)](Number);let _0x1ce815=![],_0x39fa20=![];for(const _0x409612 of _0x41cb6d){try{const _0x3c47bc=_0x409612['getBlock']({'x':_0x4bbd8f,'y':_0x1635a8,'z':_0x4803de});_0x39fa20=!![];if(_0x3c47bc&&_0x3c47bc[_0x34538f(0x621)]===_0x34538f(0x6b9)){_0x1ce815=!![];break;}}catch(_0x4100ac){}}_0x39fa20&&!_0x1ce815&&_0xd990c1[_0x34538f(0x9bb)](_0xa00bc5);}for(const _0x299c39 of _0xd990c1){foodCratePoints['delete'](_0x299c39);}_0xd990c1['length']>0x0&&saveFoodCrateData();}catch(_0x159382){console[_0x34538f(0x7bf)](_0x34538f(0x900),_0x159382);}},0x1770),system[_0x1d2622(0x613)](()=>{const _0x33fb35=_0x1d2622;try{const _0x5d0b98=world[_0x33fb35(0x241)](),_0x2bc8d0=new Set();for(const _0x55cc96 of _0x5d0b98){const _0x180238=_0x55cc96['dimension'],_0x5c208e=_0x55cc96['location'],_0x8b6353=0x32,_0x4e6792=Math[_0x33fb35(0x648)](_0x5c208e['x']-_0x8b6353),_0x21949e=Math[_0x33fb35(0x648)](_0x5c208e['x']+_0x8b6353),_0x3bc873=Math[_0x33fb35(0x648)](_0x5c208e['z']-_0x8b6353),_0xcaa9f=Math[_0x33fb35(0x648)](_0x5c208e['z']+_0x8b6353),_0x446967=Math[_0x33fb35(0xb51)](-0x40,Math[_0x33fb35(0x648)](_0x5c208e['y']-0x1e)),_0x418d93=Math[_0x33fb35(0x2c1)](0x13f,Math['floor'](_0x5c208e['y']+0x1e));for(let _0x486042=_0x4e6792;_0x486042<=_0x21949e;_0x486042+=0x8){for(let _0x417a4e=_0x3bc873;_0x417a4e<=_0xcaa9f;_0x417a4e+=0x8){for(let _0x209006=_0x446967;_0x209006<=_0x418d93;_0x209006+=0x8){try{const _0xd4d7db=_0x180238[_0x33fb35(0xb28)]({'x':_0x486042,'y':_0x209006,'z':_0x417a4e});if(_0xd4d7db&&_0xd4d7db[_0x33fb35(0x621)]==='jerrys_colonies:food_crate'){const _0x1b2b87=getBlockLocationKey(_0xd4d7db);if(_0x2bc8d0['has'](_0x1b2b87))continue;_0x2bc8d0['add'](_0x1b2b87);const _0x1b2ea2=foodCratePoints[_0x33fb35(0xc0a)](_0x1b2b87)||0x0,_0x4d6694=_0x1b2ea2>0x0,_0x310845=_0xd4d7db[_0x33fb35(0x91a)][_0x33fb35(0x988)](_0x33fb35(0x685));_0x310845!==_0x4d6694&&_0xd4d7db[_0x33fb35(0xa30)](_0xd4d7db[_0x33fb35(0x91a)][_0x33fb35(0x97e)](_0x33fb35(0x685),_0x4d6694));}}catch(_0x37d1a7){}}}}}}catch(_0x11818a){console['error'](_0x33fb35(0x450),_0x11818a);}},0x28);const processedBalloons=new Set(),balloonGroundTouchTimes=new Map(),lastBombDropTime=new Map(),BOMB_DROP_INTERVAL=0x1b58;function applySlowFalling(_0x37e833){const _0x3b241e=_0x1d2622;try{_0x37e833[_0x3b241e(0xd12)](_0x3b241e(0x171)),_0x37e833[_0x3b241e(0xd12)](_0x3b241e(0x759)),_0x37e833[_0x3b241e(0xd12)](_0x3b241e(0x529));}catch(_0x4fb2d1){console['error'](_0x3b241e(0x2ec),_0x4fb2d1);}}function checkBalloonCollision(_0x4bc18f){const _0x2b8cac=_0x1d2622;try{if(balloonGroundTouchTimes[_0x2b8cac(0xb61)](_0x4bc18f['id'])){const _0x2f9720=balloonGroundTouchTimes[_0x2b8cac(0xc0a)](_0x4bc18f['id']),_0x176923=Date['now'](),_0x4aa26c=_0x176923-_0x2f9720;_0x4aa26c%0x3e8<0x32&&_0x4bc18f[_0x2b8cac(0xd12)]('particle\x20minecraft:basic_smoke_particle\x20~\x20~2\x20~');_0x4aa26c>=0x1388&&(_0x4bc18f[_0x2b8cac(0xd12)](_0x2b8cac(0x221)),_0x4bc18f[_0x2b8cac(0xd12)]('playsound\x20random.explode\x20@a[r=20]\x20~\x20~\x20~\x200.5'),_0x4bc18f[_0x2b8cac(0xbd0)](_0x2b8cac(0xd5)),balloonGroundTouchTimes[_0x2b8cac(0xbcb)](_0x4bc18f['id']));return;}const _0xa837dd=_0x4bc18f[_0x2b8cac(0x1f2)],_0x1adc0e=world['getDimension'](_0x2b8cac(0x182))[_0x2b8cac(0xb28)]({'x':Math[_0x2b8cac(0x648)](_0xa837dd['x']),'y':Math[_0x2b8cac(0x648)](_0xa837dd['y']-0.1),'z':Math['floor'](_0xa837dd['z'])}),_0x31a089=world[_0x2b8cac(0xbc8)](_0x2b8cac(0x182))[_0x2b8cac(0xb28)]({'x':Math[_0x2b8cac(0x648)](_0xa837dd['x']),'y':Math['floor'](_0xa837dd['y']),'z':Math['floor'](_0xa837dd['z'])});(_0x1adc0e&&_0x1adc0e[_0x2b8cac(0x621)]!==_0x2b8cac(0xaf2)||_0x31a089&&_0x31a089[_0x2b8cac(0x621)]!==_0x2b8cac(0xaf2))&&(balloonGroundTouchTimes['set'](_0x4bc18f['id'],Date[_0x2b8cac(0x405)]()),_0x4bc18f[_0x2b8cac(0xd12)]('particle\x20minecraft:basic_smoke_particle\x20~\x20~1\x20~'),_0x4bc18f[_0x2b8cac(0xd12)]('particle\x20minecraft:explosion_particle\x20~\x20~3\x20~'),_0x4bc18f[_0x2b8cac(0xd12)](_0x2b8cac(0xc58)));}catch(_0x1414fb){console[_0x2b8cac(0x7bf)](_0x2b8cac(0x234),_0x1414fb);}}system[_0x1d2622(0x613)](()=>{const _0x1749aa=_0x1d2622;try{const _0x35b747=world['getDimension'](_0x1749aa(0x182))[_0x1749aa(0xc8f)]({'type':_0x1749aa(0xb3a)});if(_0x35b747[_0x1749aa(0xcd6)]===0x0)return;for(const _0x15ffd2 of _0x35b747){!processedBalloons[_0x1749aa(0xb61)](_0x15ffd2['id'])&&(processedBalloons[_0x1749aa(0x71a)](_0x15ffd2['id']),applySlowFalling(_0x15ffd2));checkBalloonCollision(_0x15ffd2);system[_0x1749aa(0x975)]%0x14===0x0&&applySlowFalling(_0x15ffd2);if(!balloonGroundTouchTimes['has'](_0x15ffd2['id'])){const _0x59eb80=Date[_0x1749aa(0x405)](),_0x1d9faf=lastBombDropTime['get'](_0x15ffd2['id'])||0x0;_0x59eb80-_0x1d9faf>=BOMB_DROP_INTERVAL&&dropBombFromBalloon(_0x15ffd2);}}}catch(_0x583328){console['error'](_0x1749aa(0x295),_0x583328);}},0x5),system[_0x1d2622(0x613)](()=>{const _0x1b144a=_0x1d2622;try{const _0x4c5fc4=world[_0x1b144a(0xbc8)](_0x1b144a(0x182))['getEntities']({'type':_0x1b144a(0xb3a)}),_0x365c97=new Set();for(const _0x184b98 of _0x4c5fc4){_0x365c97['add'](_0x184b98['id']);}for(const _0x574ce3 of processedBalloons){!_0x365c97[_0x1b144a(0xb61)](_0x574ce3)&&processedBalloons['delete'](_0x574ce3);}for(const [_0x4df33d]of balloonGroundTouchTimes){!_0x365c97[_0x1b144a(0xb61)](_0x4df33d)&&balloonGroundTouchTimes[_0x1b144a(0xbcb)](_0x4df33d);}for(const [_0x48eb6b]of lastBombDropTime){!_0x365c97[_0x1b144a(0xb61)](_0x48eb6b)&&lastBombDropTime[_0x1b144a(0xbcb)](_0x48eb6b);}}catch(_0x40d3f2){console['error'](_0x1b144a(0x1a3),_0x40d3f2);}},0x258);function dropBombFromBalloon(_0x2b80a9){const _0xfc5086=_0x1d2622;try{const _0x11fe66=_0x2b80a9['location'],_0x1fb231=world[_0xfc5086(0xbc8)](_0xfc5086(0x182))['spawnEntity'](_0xfc5086(0xf2),{'x':_0x11fe66['x'],'y':_0x11fe66['y']-0x3,'z':_0x11fe66['z']});if(_0x1fb231){const _0x5db62a=system['runInterval'](()=>{const _0x10309f=_0xfc5086;try{if(_0x1fb231[_0x10309f(0x25f)]()){const _0x4b93d9=_0x1fb231[_0x10309f(0x1f2)],_0x175b4b=world[_0x10309f(0xbc8)]('overworld')['getBlock']({'x':Math['floor'](_0x4b93d9['x']),'y':Math[_0x10309f(0x648)](_0x4b93d9['y']-0.1),'z':Math[_0x10309f(0x648)](_0x4b93d9['z'])});if(_0x175b4b&&_0x175b4b[_0x10309f(0x621)]!==_0x10309f(0xaf2)){_0x1fb231[_0x10309f(0xbd0)]('jerrys_colonies:explode_event'),system[_0x10309f(0xcd3)](_0x5db62a);return;}}else{system[_0x10309f(0xcd3)](_0x5db62a);return;}}catch(_0x5cf6f0){if(_0x5cf6f0[_0x10309f(0x72b)]()[_0x10309f(0x22d)](_0x10309f(0x4d9))){system[_0x10309f(0xcd3)](_0x5db62a);return;}logErrorOnce(_0x10309f(0x70b),_0x10309f(0x417)+_0x5cf6f0),system[_0x10309f(0xcd3)](_0x5db62a);return;}},0x3);}_0x2b80a9[_0xfc5086(0xd12)](_0xfc5086(0x48b)),lastBombDropTime[_0xfc5086(0x336)](_0x2b80a9['id'],Date[_0xfc5086(0x405)]());}catch(_0x3c0fd5){if(_0x3c0fd5[_0xfc5086(0x72b)]()[_0xfc5086(0x22d)](_0xfc5086(0x4d9))){}else logErrorOnce(_0xfc5086(0x232),_0xfc5086(0x6bb)+_0x3c0fd5);}}function saveMailboxData(){const _0xb7798e=_0x1d2622;try{const _0x11ab65={'playerMailboxes':Array[_0xb7798e(0x2f9)](playerMailboxes[_0xb7798e(0x74e)]()),'mailboxInventories':Array[_0xb7798e(0x2f9)](mailboxInventories[_0xb7798e(0x74e)]()),'pendingDeliveries':Array[_0xb7798e(0x2f9)](pendingDeliveries[_0xb7798e(0x74e)]())[_0xb7798e(0xc89)](([_0x33646d,_0x32032e])=>{const {timeoutId:_0x75c89e,..._0x327f93}=_0x32032e;return[_0x33646d,_0x327f93];})};world['setDynamicProperty'](_0xb7798e(0x130),JSON[_0xb7798e(0x1db)](_0x11ab65));}catch(_0x5e2d85){console[_0xb7798e(0x7bf)](_0xb7798e(0x262),_0x5e2d85);}}function loadMailboxData(){const _0x9a2e06=_0x1d2622;try{const _0x492938=world['getDynamicProperty'](_0x9a2e06(0x130));if(_0x492938){const _0x2ab12d=JSON['parse'](_0x492938);if(_0x2ab12d[_0x9a2e06(0x544)])for(const [_0x242f79,_0x596d91]of _0x2ab12d['playerMailboxes']){playerMailboxes[_0x9a2e06(0x336)](_0x242f79,_0x596d91);}if(_0x2ab12d[_0x9a2e06(0x469)])for(const [_0x445625,_0x2e5a2d]of _0x2ab12d['mailboxInventories']){mailboxInventories['set'](_0x445625,_0x2e5a2d);}if(_0x2ab12d[_0x9a2e06(0xa23)])for(const [_0xc25dc9,_0x57c472]of _0x2ab12d[_0x9a2e06(0xa23)]){const _0x2f8eb3=_0x57c472[_0x9a2e06(0x305)]-Date[_0x9a2e06(0x405)]();if(_0x2f8eb3>0x0){const _0x3253ff=Math[_0x9a2e06(0x831)](_0x2f8eb3/0x32),_0x52165d=system[_0x9a2e06(0x633)](()=>{deliverItem(_0x57c472);},_0x3253ff);_0x57c472[_0x9a2e06(0xb02)]=_0x52165d,pendingDeliveries[_0x9a2e06(0x336)](_0xc25dc9,_0x57c472);}else deliverItem(_0x57c472);}}}catch(_0x1eed65){console[_0x9a2e06(0x7bf)](_0x9a2e06(0xa9b),_0x1eed65);}}function calculateDeliveryTime(_0x51257b,_0x4749b6){const _0x52dd9b=_0x1d2622,_0x580e3d=_0x51257b['x']-_0x4749b6['x'],_0x30f758=_0x51257b['y']-_0x4749b6['y'],_0x22e54d=_0x51257b['z']-_0x4749b6['z'],_0x41807c=Math['sqrt'](_0x580e3d*_0x580e3d+_0x30f758*_0x30f758+_0x22e54d*_0x22e54d),_0x32751e=_0x41807c/MAILBOX_DELIVERY_BASE_DISTANCE,_0x573625=MAILBOX_DELIVERY_BASE_TIME*_0x32751e;return Math[_0x52dd9b(0xb51)](0xea60,Math[_0x52dd9b(0x2c1)](0xa4cb80,_0x573625));}function deliverItem(_0x38e565){const _0x20a38f=_0x1d2622;try{const _0x4ece18=world['getAllPlayers']()[_0x20a38f(0x2d0)](_0x2264e3=>_0x2264e3['id']===_0x38e565[_0x20a38f(0x88e)]),_0x2973e6=playerMailboxes['get'](_0x38e565['recipientId']);if(!_0x2973e6){pendingDeliveries[_0x20a38f(0xbcb)](_0x38e565['id']),saveMailboxData();return;}const _0x51c130=_0x2973e6[_0x20a38f(0x1f2)]['x']+','+_0x2973e6['location']['y']+','+_0x2973e6[_0x20a38f(0x1f2)]['z'],_0x4d1913=mailboxInventories[_0x20a38f(0xc0a)](_0x51c130)||[];_0x4d1913[_0x20a38f(0x9bb)]({'typeId':_0x38e565[_0x20a38f(0x112)],'amount':_0x38e565[_0x20a38f(0x8f0)],'senderName':_0x38e565[_0x20a38f(0x1e6)],'message':_0x38e565[_0x20a38f(0xc47)]}),mailboxInventories['set'](_0x51c130,_0x4d1913),_0x4ece18&&(_0x4ece18[_0x20a38f(0x34f)]('§aYou\x20have\x20mail!\x20'+_0x38e565[_0x20a38f(0x1e6)]+_0x20a38f(0x6ea)+_0x38e565[_0x20a38f(0x8f0)]+'x\x20'+_0x38e565['itemTypeId'][_0x20a38f(0x15a)]('minecraft:','')['replace'](/_/g,'\x20')+'.'),_0x38e565[_0x20a38f(0xc47)]&&_0x4ece18[_0x20a38f(0x34f)](_0x20a38f(0xc9c)+_0x38e565[_0x20a38f(0xc47)]+'\x22')),pendingDeliveries[_0x20a38f(0xbcb)](_0x38e565['id']),saveMailboxData();}catch(_0x4bc5c5){console[_0x20a38f(0x7bf)]('Error\x20delivering\x20item:',_0x4bc5c5);}}async function showMailboxUI(_0x10b401,_0xa6ae46){const _0x249b33=_0x1d2622;try{const _0x5d91c4=getBlockLocationKey(_0xa6ae46);let _0x553390=null;for(const [_0x2c0723,_0x3700d8]of playerMailboxes){const _0x578184=_0x3700d8[_0x249b33(0x1f2)]['x']+','+_0x3700d8[_0x249b33(0x1f2)]['y']+','+_0x3700d8[_0x249b33(0x1f2)]['z'];if(_0x578184===_0x5d91c4){_0x553390=_0x2c0723;break;}}if(!_0x553390){if(playerMailboxes[_0x249b33(0xb61)](_0x10b401['id'])){_0x10b401[_0x249b33(0x34f)](_0x249b33(0x7e2));return;}const _0x2d6796={'location':{'x':_0xa6ae46['location']['x'],'y':_0xa6ae46[_0x249b33(0x1f2)]['y'],'z':_0xa6ae46[_0x249b33(0x1f2)]['z'],'dimension':_0xa6ae46[_0x249b33(0xaf8)]['id']},'playerId':_0x10b401['id'],'playerName':_0x10b401[_0x249b33(0xa45)]};playerMailboxes[_0x249b33(0x336)](_0x10b401['id'],_0x2d6796),!mailboxInventories[_0x249b33(0xb61)](_0x5d91c4)&&mailboxInventories[_0x249b33(0x336)](_0x5d91c4,[]),saveMailboxData(),_0x553390=_0x10b401['id'],_0x10b401['sendMessage']('§aThis\x20mailbox\x20is\x20now\x20registered\x20to\x20you!');}if(_0x553390!==_0x10b401['id']){_0x10b401['sendMessage'](_0x249b33(0xd3));return;}const _0x282bdc=mailboxInventories[_0x249b33(0xc0a)](_0x5d91c4)||[];let _0xd6378b=_0x10b401[_0x249b33(0xa45)],_0x1f604e=_0x249b33(0xb2f);for(const [_0x52147c,_0x3ac8e3]of colonies){if(_0x3ac8e3['ownerId']===_0x10b401['id']||_0x3ac8e3[_0x249b33(0x709)][_0x249b33(0x22d)](_0x10b401[_0x249b33(0xa45)])){_0x1f604e=_0x3ac8e3[_0x249b33(0xa45)];break;}}const _0x43ded8=new ActionFormData()[_0x249b33(0xd1)](_0x249b33(0x197))[_0x249b33(0x629)](_0x249b33(0xc9a)+_0xd6378b+_0x249b33(0xb18)+_0x1f604e+_0x249b33(0x73a)+_0x282bdc[_0x249b33(0xcd6)]);let _0x2a1bdd=-0x1,_0x3ce875=-0x1;_0x282bdc[_0x249b33(0xcd6)]>0x0?(_0x43ded8[_0x249b33(0x31f)](_0x249b33(0x62b),_0x249b33(0x2bf)),_0x2a1bdd=0x0,_0x3ce875=0x1):_0x3ce875=0x0;_0x43ded8[_0x249b33(0x31f)](_0x249b33(0xa91),'textures/ui/send_icon');const _0x57ddc4=await _0x43ded8[_0x249b33(0x504)](_0x10b401);if(_0x57ddc4['canceled'])return;if(_0x57ddc4[_0x249b33(0x77a)]===_0x2a1bdd&&_0x2a1bdd!==-0x1)await showMailboxInventory(_0x10b401,_0xa6ae46);else _0x57ddc4['selection']===_0x3ce875&&await showPlayerSelectionForMail(_0x10b401);}catch(_0x53c1d2){console[_0x249b33(0x7bf)](_0x249b33(0x2f3),_0x53c1d2),_0x10b401[_0x249b33(0x34f)](_0x249b33(0x9fa)+_0x53c1d2['message']);}}async function showMailboxInventory(_0x31aba8,_0x9db6ef){const _0x27a5ef=_0x1d2622;try{const _0x401bbd=getBlockLocationKey(_0x9db6ef),_0x28b50e=mailboxInventories['get'](_0x401bbd)||[];if(_0x28b50e[_0x27a5ef(0xcd6)]===0x0){_0x31aba8[_0x27a5ef(0x34f)](_0x27a5ef(0xcaa));return;}const _0x957d21=new ActionFormData()[_0x27a5ef(0xd1)](_0x27a5ef(0x857))[_0x27a5ef(0x629)]('You\x20have\x20'+_0x28b50e['length']+'\x20item'+(_0x28b50e[_0x27a5ef(0xcd6)]>0x1?'s':'')+'\x20in\x20your\x20mailbox:');for(let _0x34689c=0x0;_0x34689c<_0x28b50e[_0x27a5ef(0xcd6)];_0x34689c++){const _0x43962a=_0x28b50e[_0x34689c],_0x3d601b=_0x43962a[_0x27a5ef(0x621)][_0x27a5ef(0x15a)]('minecraft:','')[_0x27a5ef(0x15a)](/_/g,'\x20'),_0x37a52b=_0x3d601b+'\x20x'+_0x43962a[_0x27a5ef(0x8f0)]+_0x27a5ef(0x6c9)+_0x43962a['senderName']+')';_0x957d21['button'](_0x37a52b,_0x27a5ef(0x23a)+_0x43962a[_0x27a5ef(0x621)][_0x27a5ef(0x15a)](_0x27a5ef(0x524),''));}const _0x15c093=await _0x957d21[_0x27a5ef(0x504)](_0x31aba8);if(_0x15c093['canceled'])return;const _0x53df2e=_0x28b50e[_0x15c093['selection']];_0x53df2e&&await showMailItemDetails(_0x31aba8,_0x9db6ef,_0x53df2e,_0x15c093[_0x27a5ef(0x77a)]);}catch(_0x3c9c32){console[_0x27a5ef(0x7bf)](_0x27a5ef(0x732),_0x3c9c32),_0x31aba8[_0x27a5ef(0x34f)]('§cError\x20viewing\x20mail:\x20'+_0x3c9c32[_0x27a5ef(0xc47)]);}}async function showMailItemDetails(_0x3c907e,_0x17e050,_0x27077b,_0x2d24e3){const _0x54bb5f=_0x1d2622;try{const _0x24f107=_0x27077b[_0x54bb5f(0x621)][_0x54bb5f(0x15a)]('minecraft:','')[_0x54bb5f(0x15a)](/_/g,'\x20');let _0x186135=_0x54bb5f(0x503)+_0x27077b[_0x54bb5f(0x1e6)]+_0x54bb5f(0xc45)+_0x24f107+'\x20x'+_0x27077b[_0x54bb5f(0x8f0)];_0x27077b[_0x54bb5f(0xc47)]&&(_0x186135+=_0x54bb5f(0x658)+_0x27077b[_0x54bb5f(0xc47)]+'\x22');const _0x1cee88=new ActionFormData()[_0x54bb5f(0xd1)]('Mail\x20Details')[_0x54bb5f(0x629)](_0x186135)[_0x54bb5f(0x31f)](_0x54bb5f(0x4e6),_0x54bb5f(0x933))[_0x54bb5f(0x31f)]('Back','textures/ui/arrow_left'),_0x514029=await _0x1cee88[_0x54bb5f(0x504)](_0x3c907e);if(_0x514029[_0x54bb5f(0x9d4)])return;if(_0x514029[_0x54bb5f(0x77a)]===0x0){const _0x51b898=new ItemStack(_0x27077b[_0x54bb5f(0x621)],_0x27077b['amount']);try{const _0x2ec5b4=_0x3c907e['getComponent'](_0x54bb5f(0xd17))[_0x54bb5f(0x26e)];_0x2ec5b4[_0x54bb5f(0x3c5)](_0x51b898);const _0xe807c7=getBlockLocationKey(_0x17e050),_0x54e6bb=mailboxInventories[_0x54bb5f(0xc0a)](_0xe807c7)||[];_0x54e6bb['splice'](_0x2d24e3,0x1),mailboxInventories[_0x54bb5f(0x336)](_0xe807c7,_0x54e6bb),saveMailboxData(),_0x3c907e[_0x54bb5f(0x34f)](_0x54bb5f(0x609)+_0x24f107+'\x20x'+_0x27077b['amount']+_0x54bb5f(0xb99)+_0x27077b['senderName']+'!'),_0x54e6bb['length']>0x0&&await showMailboxInventory(_0x3c907e,_0x17e050);}catch(_0x47effd){_0x3c907e[_0x54bb5f(0x34f)](_0x54bb5f(0x892));}}else _0x514029['selection']===0x1&&await showMailboxInventory(_0x3c907e,_0x17e050);}catch(_0x2e56f6){console[_0x54bb5f(0x7bf)](_0x54bb5f(0x747),_0x2e56f6),_0x3c907e['sendMessage'](_0x54bb5f(0x9b9)+_0x2e56f6[_0x54bb5f(0xc47)]);}}async function showPlayerSelectionForMail(_0x36067b){const _0x22c8a8=_0x1d2622;try{const _0x518f1a=[];for(const [_0x80cc36,_0x5354a1]of playerMailboxes){if(_0x80cc36!==_0x36067b['id']){let _0x4e4576=_0x5354a1[_0x22c8a8(0x925)]||_0x22c8a8(0x9b7);const _0x5ebb50=world[_0x22c8a8(0x241)]()[_0x22c8a8(0x2d0)](_0x4f6a12=>_0x4f6a12['id']===_0x80cc36);_0x5ebb50&&(_0x4e4576=_0x5ebb50[_0x22c8a8(0xa45)]);let _0x279f9e='No\x20Colony';for(const [_0x342974,_0x48d14e]of colonies){if(_0x48d14e[_0x22c8a8(0x396)]===_0x80cc36||_0x48d14e['citizens']['includes'](_0x4e4576)){_0x279f9e=_0x48d14e['name'];break;}}_0x518f1a['push']({'id':_0x80cc36,'name':_0x4e4576,'colony':_0x279f9e});}}if(_0x518f1a[_0x22c8a8(0xcd6)]===0x0){_0x36067b['sendMessage'](_0x22c8a8(0xa9a));return;}const _0x5e4130=new ActionFormData()[_0x22c8a8(0xd1)](_0x22c8a8(0x25a))['body'](_0x22c8a8(0x1e4));for(const _0xe04f7a of _0x518f1a){_0x5e4130[_0x22c8a8(0x31f)](_0xe04f7a['name']+_0x22c8a8(0xb18)+_0xe04f7a[_0x22c8a8(0x955)],_0x22c8a8(0x705));}const _0x108621=await _0x5e4130[_0x22c8a8(0x504)](_0x36067b);if(_0x108621[_0x22c8a8(0x9d4)])return;const _0x14dd43=_0x518f1a[_0x108621['selection']];_0x14dd43&&await showSendMailUI(_0x36067b,_0x14dd43['id'],_0x14dd43[_0x22c8a8(0xa45)]);}catch(_0x1b9ae){console[_0x22c8a8(0x7bf)](_0x22c8a8(0x5e4),_0x1b9ae),_0x36067b['sendMessage'](_0x22c8a8(0x3dd)+_0x1b9ae['message']);}}async function showSendMailUI(_0xb8273d,_0x31dc4a,_0x296337){const _0x578089=_0x1d2622;try{if(_0x31dc4a===_0xb8273d['id']){_0xb8273d[_0x578089(0x34f)]('§cYou\x20cannot\x20send\x20mail\x20to\x20yourself!');return;}if(!playerMailboxes[_0x578089(0xb61)](_0xb8273d['id'])){_0xb8273d[_0x578089(0x34f)](_0x578089(0x78a));return;}if(!playerMailboxes[_0x578089(0xb61)](_0x31dc4a)){_0xb8273d[_0x578089(0x34f)]('§c'+_0x296337+'\x20doesn\x27t\x20have\x20a\x20mailbox\x20yet!');return;}const _0x45c737=Array[_0x578089(0x2f9)](pendingDeliveries['values']())[_0x578089(0x7ae)](_0xfe49c1=>_0xfe49c1[_0x578089(0x9e8)]===_0xb8273d['id']);if(_0x45c737[_0x578089(0xcd6)]>0x0){_0xb8273d[_0x578089(0x34f)](_0x578089(0x18c));return;}const _0x873c4c=_0xb8273d[_0x578089(0x299)]('inventory')['container'],_0x381a7b=[];for(let _0x533652=0x0;_0x533652<_0x873c4c['size'];_0x533652++){const _0x46661f=_0x873c4c[_0x578089(0x416)](_0x533652);if(_0x46661f&&_0x46661f[_0x578089(0x8f0)]>0x0){const _0x3a2a4f=_0x381a7b['find'](_0x2664a9=>_0x2664a9[_0x578089(0x621)]===_0x46661f[_0x578089(0x621)]);_0x3a2a4f?_0x3a2a4f[_0x578089(0x8f0)]+=_0x46661f[_0x578089(0x8f0)]:_0x381a7b[_0x578089(0x9bb)]({'typeId':_0x46661f[_0x578089(0x621)],'amount':_0x46661f[_0x578089(0x8f0)],'name':_0x46661f[_0x578089(0x621)][_0x578089(0x15a)](_0x578089(0x524),'')[_0x578089(0x15a)](/_/g,'\x20')});}}if(_0x381a7b['length']===0x0){_0xb8273d[_0x578089(0x34f)]('§cYou\x20don\x27t\x20have\x20any\x20items\x20to\x20send!');return;}const _0x225560=new ActionFormData()[_0x578089(0xd1)]('Send\x20Mail\x20to\x20'+_0x296337)[_0x578089(0x629)](_0x578089(0x406));for(const _0x443bee of _0x381a7b){_0x225560[_0x578089(0x31f)](_0x443bee['name']+'\x20('+_0x443bee['amount']+_0x578089(0x294));}const _0x213ccc=await _0x225560['show'](_0xb8273d);if(_0x213ccc[_0x578089(0x9d4)])return;const _0x57956d=_0x381a7b[_0x213ccc[_0x578089(0x77a)]];_0x57956d&&await showSendAmountUI(_0xb8273d,_0x31dc4a,_0x296337,_0x57956d);}catch(_0x26c78f){console['error'](_0x578089(0xa48),_0x26c78f),_0xb8273d[_0x578089(0x34f)](_0x578089(0xa22)+_0x26c78f[_0x578089(0xc47)]);}}async function showSendAmountUI(_0x1f2a57,_0x313fc9,_0x283cc7,_0xa32e78){const _0x1e94b8=_0x1d2622;try{const _0x345438=Math[_0x1e94b8(0x2c1)](_0xa32e78[_0x1e94b8(0x8f0)],MAILBOX_MAX_ITEMS_PER_DELIVERY),_0x2845cd=new ModalFormData()[_0x1e94b8(0xd1)](_0x1e94b8(0xab7)+_0xa32e78['name'])[_0x1e94b8(0x556)](_0x1e94b8(0xcb9)+_0x345438+'):','Enter\x20amount','1')['textField'](_0x1e94b8(0x1b5),_0x1e94b8(0x8c3),''),_0x5b2500=await _0x2845cd['show'](_0x1f2a57);if(_0x5b2500['canceled'])return;const _0x4ec723=parseInt(_0x5b2500[_0x1e94b8(0x36e)][0x0]),_0x1ef0e2=_0x5b2500[_0x1e94b8(0x36e)][0x1];if(isNaN(_0x4ec723)||_0x4ec723<0x1||_0x4ec723>_0x345438){_0x1f2a57[_0x1e94b8(0x34f)](_0x1e94b8(0xd08)+_0x345438+'!');return;}const _0x36b780=playerMailboxes[_0x1e94b8(0xc0a)](_0x1f2a57['id'])[_0x1e94b8(0x1f2)],_0x1349cb=playerMailboxes['get'](_0x313fc9)[_0x1e94b8(0x1f2)],_0x5dfd84=calculateDeliveryTime(_0x36b780,_0x1349cb),_0x17970e=Math['round'](_0x5dfd84/0xea60),_0x37fbb4=new ActionFormData()[_0x1e94b8(0xd1)]('Confirm\x20Delivery')[_0x1e94b8(0x629)]('Sending:\x20'+_0xa32e78['name']+'\x20x'+_0x4ec723+'\x0aTo:\x20§f'+_0x283cc7+'\x0aDelivery\x20time:\x20~'+_0x17970e+_0x1e94b8(0x549)+(_0x1ef0e2?_0x1e94b8(0x270)+_0x1ef0e2+'\x22':''))['button'](_0x1e94b8(0xa91),_0x1e94b8(0xa9f))[_0x1e94b8(0x31f)](_0x1e94b8(0x86a),_0x1e94b8(0x96e)),_0xe51488=await _0x37fbb4[_0x1e94b8(0x504)](_0x1f2a57);if(_0xe51488[_0x1e94b8(0x9d4)]||_0xe51488[_0x1e94b8(0x77a)]===0x1)return;const _0x4e024d=_0x1f2a57[_0x1e94b8(0x299)](_0x1e94b8(0xd17))['container'];let _0x57dfc2=_0x4ec723;for(let _0x21393a=0x0;_0x21393a<_0x4e024d[_0x1e94b8(0x5c1)]&&_0x57dfc2>0x0;_0x21393a++){const _0x39b208=_0x4e024d[_0x1e94b8(0x416)](_0x21393a);if(_0x39b208&&_0x39b208[_0x1e94b8(0x621)]===_0xa32e78[_0x1e94b8(0x621)]){const _0xf4b560=Math[_0x1e94b8(0x2c1)](_0x57dfc2,_0x39b208[_0x1e94b8(0x8f0)]);_0xf4b560===_0x39b208[_0x1e94b8(0x8f0)]?_0x4e024d[_0x1e94b8(0xbc1)](_0x21393a,undefined):(_0x39b208[_0x1e94b8(0x8f0)]-=_0xf4b560,_0x4e024d[_0x1e94b8(0xbc1)](_0x21393a,_0x39b208)),_0x57dfc2-=_0xf4b560;}}const _0x120164=nextDeliveryId++,_0x51a6c8={'id':_0x120164,'senderId':_0x1f2a57['id'],'senderName':_0x1f2a57[_0x1e94b8(0xa45)],'recipientId':_0x313fc9,'recipientName':_0x283cc7,'itemTypeId':_0xa32e78[_0x1e94b8(0x621)],'amount':_0x4ec723,'message':_0x1ef0e2||'','deliveryTime':Date[_0x1e94b8(0x405)]()+_0x5dfd84},_0x48f441=Math['ceil'](_0x5dfd84/0x32),_0xb0438e=system['runTimeout'](()=>{deliverItem(_0x51a6c8);},_0x48f441);_0x51a6c8[_0x1e94b8(0xb02)]=_0xb0438e,pendingDeliveries[_0x1e94b8(0x336)](_0x120164,_0x51a6c8),saveMailboxData(),_0x1f2a57[_0x1e94b8(0x34f)](_0x1e94b8(0x734)+_0x283cc7+'!\x20Delivery\x20time:\x20~'+_0x17970e+_0x1e94b8(0xea));}catch(_0x2aa40c){console[_0x1e94b8(0x7bf)]('Error\x20sending\x20mail:',_0x2aa40c),_0x1f2a57[_0x1e94b8(0x34f)](_0x1e94b8(0xb44)+_0x2aa40c[_0x1e94b8(0xc47)]);}}system['runTimeout'](loadMailboxData,0x14),system['runInterval'](saveMailboxData,0x4b0);let taxationUICooldowns=new Map();const TAXABLE_ITEMS=[{'id':_0x1d2622(0xbe1),'name':'Iron\x20Ingot'},{'id':_0x1d2622(0xb98),'name':'Gold\x20Ingot'},{'id':_0x1d2622(0x4d5),'name':'Diamond'},{'id':'minecraft:emerald','name':'Emerald'},{'id':_0x1d2622(0x346),'name':_0x1d2622(0x636)},{'id':_0x1d2622(0xcf7),'name':_0x1d2622(0x6cd)},{'id':'minecraft:coal','name':_0x1d2622(0x2bb)},{'id':_0x1d2622(0xd6),'name':'Stick'},{'id':_0x1d2622(0x434),'name':_0x1d2622(0xc36)},{'id':_0x1d2622(0x131),'name':_0x1d2622(0xc68)},{'id':_0x1d2622(0x677),'name':'Wood'},{'id':_0x1d2622(0xce),'name':_0x1d2622(0xc00)}];async function showTaxationManagementForm(_0x1f4315,_0x123351){const _0x2d3030=_0x1d2622;try{!_0x123351['taxation']&&(_0x123351[_0x2d3030(0x67d)]={'enabled':![],'taxAmount':0x1,'taxItem':_0x2d3030(0x387),'frequency':_0x2d3030(0x89f),'lastCollection':Date[_0x2d3030(0x405)](),'citizens':{}},colonies[_0x2d3030(0x336)](_0x123351['id'],_0x123351),saveColonyData());const _0x39091e=_0x123351[_0x2d3030(0x67d)][_0x2d3030(0x745)],_0x1ff25b=_0x123351[_0x2d3030(0x67d)][_0x2d3030(0x2af)]||'minecraft:emerald',_0x276a6d=new ActionFormData()[_0x2d3030(0xd1)](_0x2d3030(0x639))[_0x2d3030(0x629)](_0x2d3030(0x7d8)+(_0x39091e?'Current\x20Tax:\x20'+_0x123351['taxation'][_0x2d3030(0x81e)]+'x\x20'+_0x1ff25b+'\x20('+_0x123351[_0x2d3030(0x67d)][_0x2d3030(0x123)]+')':_0x2d3030(0x88a)));_0x276a6d[_0x2d3030(0x31f)](_0x39091e?_0x2d3030(0xb1e):_0x2d3030(0xa31),_0x39091e?_0x2d3030(0x5a3):_0x2d3030(0xfc));_0x39091e&&(_0x276a6d[_0x2d3030(0x31f)](_0x2d3030(0x692),_0x2d3030(0x7b7)),_0x276a6d[_0x2d3030(0x31f)](_0x2d3030(0x825),_0x2d3030(0xcf6)),_0x276a6d[_0x2d3030(0x31f)](_0x2d3030(0x641),_0x2d3030(0x587)));const _0x5e5b49=await _0x276a6d[_0x2d3030(0x504)](_0x1f4315);if(_0x5e5b49[_0x2d3030(0x9d4)]||_0x5e5b49['selection']===undefined)return;if(_0x5e5b49[_0x2d3030(0x77a)]===0x0){if(_0x39091e){_0x123351['taxation'][_0x2d3030(0x745)]=![],colonies[_0x2d3030(0x336)](_0x123351['id'],_0x123351),saveColonyData(),_0x1f4315['sendMessage'](_0x2d3030(0xc30));return;}else{showTaxConfigurationForm(_0x1f4315,_0x123351,!![]);return;}}else{if(_0x39091e){const _0x53f8bc=_0x5e5b49['selection']-0x1;switch(_0x53f8bc){case 0x0:showTaxConfigurationForm(_0x1f4315,_0x123351,![]);break;case 0x1:showTaxRecordsForm(_0x1f4315,_0x123351);break;case 0x2:await collectColonyTaxes(_0x123351),_0x1f4315['sendMessage']('§aTax\x20collection\x20initiated!');break;case 0x3:default:return;}}}}catch(_0x438ebb){console[_0x2d3030(0x7bf)]('Error\x20showing\x20taxation\x20management\x20form:',_0x438ebb),_0x1f4315[_0x2d3030(0x34f)](_0x2d3030(0x507));}}async function showTaxConfigurationForm(_0xefd92c,_0x33417d,_0x38cbc5=![]){const _0x46f8f3=_0x1d2622;try{const _0x370a61=_0x33417d[_0x46f8f3(0x67d)]['taxItem']||'minecraft:emerald',_0x5e546c=new ModalFormData()[_0x46f8f3(0xd1)](_0x46f8f3(0xb67)+_0x33417d[_0x46f8f3(0xa45)])['textField'](_0x46f8f3(0x4e8),'e.g.,\x20minecraft:emerald',_0x370a61)[_0x46f8f3(0x3c9)](_0x46f8f3(0x91c),0x1,0x40,0x1,_0x33417d[_0x46f8f3(0x67d)][_0x46f8f3(0x81e)]||0x1)[_0x46f8f3(0x4d0)](_0x46f8f3(0x43b),[_0x46f8f3(0xabf),_0x46f8f3(0x2ff),'Monthly'],_0x33417d['taxation'][_0x46f8f3(0x123)]===_0x46f8f3(0x96b)?0x0:_0x33417d[_0x46f8f3(0x67d)][_0x46f8f3(0x123)]==='biweekly'?0x1:0x2),_0x50b7bb=await _0x5e546c['show'](_0xefd92c);if(_0x50b7bb[_0x46f8f3(0x9d4)])return;const [_0x3594c6,_0x1d046c,_0x3c1acf]=_0x50b7bb[_0x46f8f3(0x36e)],_0x5e7735=[_0x46f8f3(0x96b),_0x46f8f3(0xcef),_0x46f8f3(0x284)],_0x5009a5=_0x5e7735[_0x3c1acf],_0x10c50a=_0x3594c6[_0x46f8f3(0x69d)]();if(!_0x10c50a){_0xefd92c['sendMessage'](_0x46f8f3(0xa53));return;}_0x33417d[_0x46f8f3(0x67d)][_0x46f8f3(0x745)]=!![],_0x33417d[_0x46f8f3(0x67d)][_0x46f8f3(0x2af)]=_0x10c50a,_0x33417d[_0x46f8f3(0x67d)][_0x46f8f3(0x81e)]=_0x1d046c,_0x33417d['taxation']['frequency']=_0x5009a5;const _0xca79cb=Date[_0x46f8f3(0x405)](),_0x4e7982=_0x5009a5==='weekly'?0x7*0x18*0x3c*0x3c*0x3e8:_0x5009a5===_0x46f8f3(0xcef)?0xe*0x18*0x3c*0x3c*0x3e8:0x1e*0x18*0x3c*0x3c*0x3e8;_0x33417d[_0x46f8f3(0x67d)]['nextCollection']=_0xca79cb+_0x4e7982;for(const _0x48f4d6 of _0x33417d[_0x46f8f3(0x709)]){!_0x33417d[_0x46f8f3(0x67d)][_0x46f8f3(0x709)][_0x48f4d6]&&(_0x33417d[_0x46f8f3(0x67d)][_0x46f8f3(0x709)][_0x48f4d6]={'paid':![],'lastPayment':null,'overdue':![],'rejected':![],'reminders':[]});}colonies['set'](_0x33417d['id'],_0x33417d),saveColonyData(),_0xefd92c[_0x46f8f3(0x34f)](_0x46f8f3(0x66d)+_0x1d046c+'x\x20'+_0x10c50a+'\x20'+_0x5009a5+'.');}catch(_0xdf0fd8){console[_0x46f8f3(0x7bf)](_0x46f8f3(0x2ed),_0xdf0fd8),_0xefd92c[_0x46f8f3(0x34f)](_0x46f8f3(0x950));}}async function showTaxRecordsForm(_0xe0dcce,_0x3a244c){const _0x5807e4=_0x1d2622;try{if(!_0x3a244c[_0x5807e4(0x67d)][_0x5807e4(0x745)]){_0xe0dcce['sendMessage']('§cTaxation\x20is\x20not\x20enabled\x20for\x20this\x20colony.');return;}const _0x555480=[],_0x42e109=Date[_0x5807e4(0x405)]();for(const _0x1ddf07 of _0x3a244c[_0x5807e4(0x709)]){const _0x2f2a3f=_0x3a244c['taxation'][_0x5807e4(0x709)][_0x1ddf07]||{'paid':![],'lastPayment':null,'overdue':![],'rejected':![],'reminders':[]},_0xe72ba6=_0x3a244c['taxation']['nextCollection']&&_0x42e109>_0x3a244c[_0x5807e4(0x67d)][_0x5807e4(0x6a8)]&&!_0x2f2a3f['paid'],_0x5c0b1c=_0x2f2a3f[_0x5807e4(0x3c7)]?_0x5807e4(0x520):_0x2f2a3f[_0x5807e4(0xb91)]?_0x5807e4(0x7be):_0xe72ba6?_0x5807e4(0x9ac):'§ePending',_0x4520e6=_0x2f2a3f[_0x5807e4(0xa00)]?new Date(_0x2f2a3f['lastPayment'])[_0x5807e4(0x235)]():'Never';_0x555480[_0x5807e4(0x9bb)](_0x1ddf07+':\x20'+_0x5c0b1c+'\x20(Last:\x20'+_0x4520e6+')');}const _0x426abb=new ActionFormData()[_0x5807e4(0xd1)](_0x5807e4(0x513))[_0x5807e4(0x629)]('Tax\x20Collection\x20Status\x0a\x0a'+(_0x5807e4(0xa20)+(_0x3a244c[_0x5807e4(0x67d)]['nextCollection']?new Date(_0x3a244c[_0x5807e4(0x67d)][_0x5807e4(0x6a8)])['toLocaleDateString']():_0x5807e4(0x593))+'\x0a')+(_0x5807e4(0xca5)+_0x3a244c[_0x5807e4(0x67d)][_0x5807e4(0x81e)]+'x\x20'+_0x3a244c['taxation'][_0x5807e4(0x2af)]+'\x0a\x0a')+(_0x5807e4(0xf0)+_0x555480[_0x5807e4(0x36f)]('\x0a')));_0x426abb[_0x5807e4(0x31f)](_0x5807e4(0x2fd),_0x5807e4(0x96e));const _0x3cd557=await _0x426abb[_0x5807e4(0x504)](_0xe0dcce);if(_0x3cd557[_0x5807e4(0x9d4)]||_0x3cd557[_0x5807e4(0x77a)]===undefined)return;_0x3cd557[_0x5807e4(0x77a)]===0x0&&showTaxationManagementForm(_0xe0dcce,_0x3a244c);}catch(_0x3a0a9b){console[_0x5807e4(0x7bf)](_0x5807e4(0x115),_0x3a0a9b),_0xe0dcce[_0x5807e4(0x34f)](_0x5807e4(0x993));}}async function showCitizenTaxStatusForm(_0x3857e6,_0x4e833c){const _0x3146a0=_0x1d2622;try{if(!_0x4e833c[_0x3146a0(0x67d)][_0x3146a0(0x745)]){_0x3857e6[_0x3146a0(0x34f)]('§7This\x20colony\x20does\x20not\x20have\x20taxation\x20enabled.');return;}const _0x5c344f=_0x4e833c['taxation'][_0x3146a0(0x709)][_0x3857e6[_0x3146a0(0xa45)]]||{'paid':![],'lastPayment':null,'overdue':![],'rejected':![],'reminders':[]},_0x5d6149=Date['now'](),_0x484862=_0x4e833c['taxation'][_0x3146a0(0x6a8)]&&_0x5d6149>_0x4e833c['taxation'][_0x3146a0(0x6a8)]&&!_0x5c344f['paid'],_0x1804aa=_0x4e833c['taxation'][_0x3146a0(0x6a8)]?new Date(_0x4e833c[_0x3146a0(0x67d)][_0x3146a0(0x6a8)])[_0x3146a0(0x235)]():'Not\x20scheduled',_0x534a20=_0x5c344f['lastPayment']?new Date(_0x5c344f['lastPayment'])['toLocaleDateString']():'Never',_0x478b18=_0x5c344f['paid']?_0x3146a0(0x122):_0x5c344f[_0x3146a0(0xb91)]?_0x3146a0(0x954):_0x484862?_0x3146a0(0x2e3):_0x3146a0(0x74f),_0x165836=new ActionFormData()[_0x3146a0(0xd1)](_0x3146a0(0x9a2)+_0x4e833c['name'])[_0x3146a0(0x629)](_0x3146a0(0x81c)+(_0x3146a0(0xa07)+_0x4e833c[_0x3146a0(0x67d)][_0x3146a0(0x81e)]+'x\x20'+_0x4e833c[_0x3146a0(0x67d)]['taxItem']+'\x0a')+('Frequency:\x20'+_0x4e833c[_0x3146a0(0x67d)][_0x3146a0(0x123)]+'\x0a')+(_0x3146a0(0xa20)+_0x1804aa+'\x0a')+(_0x3146a0(0x3be)+_0x478b18+'\x0a')+(_0x3146a0(0x505)+_0x534a20));!_0x5c344f[_0x3146a0(0x3c7)]&&_0x4e833c[_0x3146a0(0x67d)]['nextCollection']&&_0x165836['button']('Pay\x20Taxes\x20Now');_0x165836['button']('Close',_0x3146a0(0x96e));const _0x122b5e=await _0x165836[_0x3146a0(0x504)](_0x3857e6);if(_0x122b5e[_0x3146a0(0x9d4)]||_0x122b5e[_0x3146a0(0x77a)]===undefined)return;_0x122b5e['selection']===0x0&&!_0x5c344f[_0x3146a0(0x3c7)]&&showTaxPaymentForm(_0x3857e6,_0x4e833c);}catch(_0xbcd7d9){console[_0x3146a0(0x7bf)](_0x3146a0(0x871),_0xbcd7d9),_0x3857e6[_0x3146a0(0x34f)](_0x3146a0(0xc7c));}}async function collectColonyTaxes(_0x5485d4){const _0x4ffcd6=_0x1d2622;try{if(!_0x5485d4['taxation'][_0x4ffcd6(0x745)])return;const _0x2eeba3=Date[_0x4ffcd6(0x405)](),_0x3a0218=_0x5485d4[_0x4ffcd6(0x67d)][_0x4ffcd6(0x123)]===_0x4ffcd6(0x96b)?0x7*0x18*0x3c*0x3c*0x3e8:_0x5485d4[_0x4ffcd6(0x67d)][_0x4ffcd6(0x123)]===_0x4ffcd6(0xcef)?0xe*0x18*0x3c*0x3c*0x3e8:0x1e*0x18*0x3c*0x3c*0x3e8;_0x5485d4['taxation'][_0x4ffcd6(0x99b)]=_0x2eeba3,_0x5485d4[_0x4ffcd6(0x67d)][_0x4ffcd6(0x6a8)]=_0x2eeba3+_0x3a0218;for(const _0x5643ab of _0x5485d4[_0x4ffcd6(0x709)]){!_0x5485d4['taxation']['citizens'][_0x5643ab]?_0x5485d4['taxation'][_0x4ffcd6(0x709)][_0x5643ab]={'paid':![],'lastPayment':null,'overdue':![],'rejected':![],'reminders':[]}:(_0x5485d4[_0x4ffcd6(0x67d)][_0x4ffcd6(0x709)][_0x5643ab]['paid']=![],_0x5485d4[_0x4ffcd6(0x67d)]['citizens'][_0x5643ab][_0x4ffcd6(0x82c)]=![],_0x5485d4['taxation'][_0x4ffcd6(0x709)][_0x5643ab][_0x4ffcd6(0xb91)]=![],_0x5485d4[_0x4ffcd6(0x67d)][_0x4ffcd6(0x709)][_0x5643ab][_0x4ffcd6(0x943)]=[]);}for(const _0x13d78b of world['getPlayers']()){_0x5485d4['citizens'][_0x4ffcd6(0x22d)](_0x13d78b[_0x4ffcd6(0xa45)])&&showTaxPaymentForm(_0x13d78b,_0x5485d4);}colonies[_0x4ffcd6(0x336)](_0x5485d4['id'],_0x5485d4),saveColonyData(),console[_0x4ffcd6(0x6a4)](_0x4ffcd6(0x465)+_0x5485d4[_0x4ffcd6(0xa45)]);}catch(_0x4e0467){console[_0x4ffcd6(0x7bf)](_0x4ffcd6(0x623),_0x4e0467);}}async function showTaxPaymentForm(_0x5dd83c,_0x55d0e3){const _0x2e1628=_0x1d2622;try{if(!_0x55d0e3['taxation'][_0x2e1628(0x745)])return;const _0x380238=_0x55d0e3['taxation'][_0x2e1628(0x709)][_0x5dd83c[_0x2e1628(0xa45)]];if(!_0x380238||_0x380238['paid'])return;const _0x2dcdfe=_0x55d0e3['taxation'][_0x2e1628(0x2af)],_0x4be6c2=_0x55d0e3[_0x2e1628(0x67d)][_0x2e1628(0x6a8)]?new Date(_0x55d0e3['taxation'][_0x2e1628(0x6a8)])[_0x2e1628(0x235)]():_0x2e1628(0x6da),_0x35fbd8=new ActionFormData()[_0x2e1628(0xd1)](_0x2e1628(0x12e)+_0x55d0e3[_0x2e1628(0xa45)])[_0x2e1628(0x629)]('Taxes\x20are\x20due\x20for\x20your\x20colony!\x0a\x0a'+(_0x2e1628(0x415)+_0x55d0e3['taxation'][_0x2e1628(0x81e)]+'x\x20'+_0x2dcdfe+'\x0a')+(_0x2e1628(0x230)+_0x4be6c2+'\x0a')+('Frequency:\x20'+_0x55d0e3['taxation'][_0x2e1628(0x123)]+'\x0a\x0a')+_0x2e1628(0xb92));_0x35fbd8[_0x2e1628(0x31f)]('Pay\x20Now'),_0x35fbd8[_0x2e1628(0x31f)]('Remind\x20Me\x20Later\x20(15\x20min)'),_0x35fbd8[_0x2e1628(0x31f)](_0x2e1628(0x573));const _0x3b6f95=await _0x35fbd8[_0x2e1628(0x504)](_0x5dd83c);if(_0x3b6f95[_0x2e1628(0x9d4)]||_0x3b6f95[_0x2e1628(0x77a)]===undefined)return;switch(_0x3b6f95['selection']){case 0x0:await processTaxPayment(_0x5dd83c,_0x55d0e3);break;case 0x1:scheduleTaxReminder(_0x5dd83c,_0x55d0e3,0xf*0x3c*0x3e8),_0x5dd83c[_0x2e1628(0x34f)](_0x2e1628(0x2b0));break;case 0x2:const _0x2aa2ac=_0x55d0e3[_0x2e1628(0x67d)][_0x2e1628(0x709)][_0x5dd83c[_0x2e1628(0xa45)]];_0x2aa2ac&&(_0x2aa2ac[_0x2e1628(0x82c)]=!![],_0x2aa2ac[_0x2e1628(0xb91)]=!![],colonies[_0x2e1628(0x336)](_0x55d0e3['id'],_0x55d0e3),saveColonyData());_0x5dd83c[_0x2e1628(0x34f)]('You\x20have\x20chosen\x20not\x20to\x20pay\x20taxes.\x20This\x20will\x20be\x20recorded.');break;}}catch(_0x3febdd){console[_0x2e1628(0x7bf)]('Error\x20showing\x20tax\x20payment\x20form:',_0x3febdd),_0x5dd83c[_0x2e1628(0x34f)](_0x2e1628(0x9b2));}}async function processTaxPayment(_0x2d3722,_0xfe28bf){const _0x3284b2=_0x1d2622;try{const _0x383286=_0xfe28bf[_0x3284b2(0x67d)]['citizens'][_0x2d3722['name']];if(!_0x383286)return;const _0x4ab719=_0xfe28bf['taxation']['taxItem'],_0x46121c=_0xfe28bf[_0x3284b2(0x67d)][_0x3284b2(0x81e)],_0x3fdec4=_0x2d3722['getComponent'](_0x3284b2(0xd17))['container'];let _0x566810=0x0;for(let _0xcafc13=0x0;_0xcafc13<_0x3fdec4[_0x3284b2(0x5c1)];_0xcafc13++){const _0x4f235f=_0x3fdec4['getItem'](_0xcafc13);_0x4f235f&&_0x4f235f[_0x3284b2(0x621)]===_0x4ab719&&(_0x566810+=_0x4f235f[_0x3284b2(0x8f0)]);}if(_0x566810<_0x46121c){const _0x1d8883=_0xfe28bf[_0x3284b2(0x67d)][_0x3284b2(0x2af)];_0x2d3722['sendMessage'](_0x3284b2(0x7aa)+_0x46121c+'x\x20'+_0x1d8883+_0x3284b2(0x1bf)+_0x566810+'.');return;}let _0x4f8530=_0x46121c;for(let _0x3bbc21=0x0;_0x3bbc21<_0x3fdec4['size']&&_0x4f8530>0x0;_0x3bbc21++){const _0x47062b=_0x3fdec4[_0x3284b2(0x416)](_0x3bbc21);if(_0x47062b&&_0x47062b['typeId']===_0x4ab719){const _0x2f671c=Math[_0x3284b2(0x2c1)](_0x47062b[_0x3284b2(0x8f0)],_0x4f8530);_0x47062b[_0x3284b2(0x8f0)]===_0x2f671c?_0x3fdec4[_0x3284b2(0xbc1)](_0x3bbc21,undefined):(_0x47062b[_0x3284b2(0x8f0)]-=_0x2f671c,_0x3fdec4['setItem'](_0x3bbc21,_0x47062b)),_0x4f8530-=_0x2f671c;}}_0x383286[_0x3284b2(0x3c7)]=!![],_0x383286[_0x3284b2(0xa00)]=Date[_0x3284b2(0x405)](),_0x383286[_0x3284b2(0x82c)]=![],_0x383286[_0x3284b2(0x943)]=[],taxationReminders['delete'](_0x2d3722['name']),saveTaxationReminders(),colonies[_0x3284b2(0x336)](_0xfe28bf['id'],_0xfe28bf),saveColonyData();const _0x2d2eb5=_0xfe28bf[_0x3284b2(0x67d)]['taxItem'];_0x2d3722[_0x3284b2(0x34f)](_0x3284b2(0x66b)+_0x46121c+'x\x20'+_0x2d2eb5+'.'),console['log'](_0x2d3722[_0x3284b2(0xa45)]+_0x3284b2(0xaba)+_0x46121c+'x\x20'+_0x4ab719+'\x20to\x20colony\x20'+_0xfe28bf[_0x3284b2(0xa45)]);}catch(_0x1af2be){console[_0x3284b2(0x7bf)](_0x3284b2(0x761),_0x1af2be),_0x2d3722[_0x3284b2(0x34f)](_0x3284b2(0x989));}}function scheduleTaxReminder(_0x51c298,_0x48f763,_0x2ebf2d){const _0x321162=_0x1d2622;try{const _0x233663=Date[_0x321162(0x405)]()+_0x2ebf2d;taxationReminders[_0x321162(0x336)](_0x51c298[_0x321162(0xa45)],{'colonyId':_0x48f763['id'],'reminderTime':_0x233663,'taxData':{'item':_0x48f763['taxation']['taxItem'],'amount':_0x48f763[_0x321162(0x67d)]['taxAmount'],'frequency':_0x48f763[_0x321162(0x67d)][_0x321162(0x123)]}}),saveTaxationReminders(),console[_0x321162(0x6a4)](_0x321162(0x6ae)+_0x51c298[_0x321162(0xa45)]+_0x321162(0xec)+_0x2ebf2d+'ms');}catch(_0x4f4467){console[_0x321162(0x7bf)](_0x321162(0xbf2),_0x4f4467);}}system[_0x1d2622(0x613)](()=>{const _0x455f21=_0x1d2622;try{const _0x4a5dbd=Date[_0x455f21(0x405)]();for(const [_0x31a903,_0x3a7ce3]of colonies['entries']()){_0x3a7ce3[_0x455f21(0x67d)]['enabled']&&_0x3a7ce3[_0x455f21(0x67d)]['nextCollection']&&_0x4a5dbd>=_0x3a7ce3[_0x455f21(0x67d)][_0x455f21(0x6a8)]&&collectColonyTaxes(_0x3a7ce3);}for(const [_0x3d1909,_0x42592f]of taxationReminders[_0x455f21(0x74e)]()){if(_0x4a5dbd>=_0x42592f[_0x455f21(0x378)]){const _0x56122a=world[_0x455f21(0x272)]()[_0x455f21(0x2d0)](_0x35ec06=>_0x35ec06[_0x455f21(0xa45)]===_0x3d1909);if(_0x56122a){const _0x44b731=colonies[_0x455f21(0xc0a)](_0x42592f[_0x455f21(0x209)]);if(_0x44b731&&_0x44b731['taxation'][_0x455f21(0x745)]){const _0x5bf877=_0x44b731[_0x455f21(0x67d)][_0x455f21(0x709)][_0x3d1909];_0x5bf877&&!_0x5bf877[_0x455f21(0x3c7)]&&showTaxPaymentForm(_0x56122a,_0x44b731);}}taxationReminders[_0x455f21(0xbcb)](_0x3d1909),saveTaxationReminders();}}}catch(_0x13cbbe){console[_0x455f21(0x7bf)]('Error\x20in\x20taxation\x20background\x20system:',_0x13cbbe);}},0x4b0);function checkUpcomingTaxPayments(_0x18bc6d){const _0x4aeddb=_0x1d2622;try{const _0x145267=Date[_0x4aeddb(0x405)](),_0x5f9f92=0x18*0x3c*0x3c*0x3e8;for(const [_0x1c6720,_0x14353d]of colonies['entries']()){if(!_0x14353d['taxation'][_0x4aeddb(0x745)]||!_0x14353d[_0x4aeddb(0x67d)]['nextCollection'])continue;if(!_0x14353d[_0x4aeddb(0x709)][_0x4aeddb(0x22d)](_0x18bc6d[_0x4aeddb(0xa45)]))continue;const _0x432f8a=_0x14353d[_0x4aeddb(0x67d)][_0x4aeddb(0x709)][_0x18bc6d[_0x4aeddb(0xa45)]];if(!_0x432f8a||_0x432f8a[_0x4aeddb(0x3c7)])continue;const _0x5d39dc=_0x14353d[_0x4aeddb(0x67d)][_0x4aeddb(0x6a8)]-_0x145267;if(_0x5d39dc>0x0&&_0x5d39dc<=_0x5f9f92){system[_0x4aeddb(0x633)](()=>{showTaxPaymentForm(_0x18bc6d,_0x14353d);},0x64),console['log'](_0x4aeddb(0xa2e)+_0x18bc6d[_0x4aeddb(0xa45)]+'\x20for\x20colony\x20'+_0x14353d[_0x4aeddb(0xa45)]);break;}}}catch(_0x5559ac){console[_0x4aeddb(0x7bf)](_0x4aeddb(0x9b4),_0x5559ac);}}async function showBallotBoxUI(_0x5c17e1,_0x12dec7){const _0x5e1508=_0x1d2622;try{let _0x568b87=null;for(const [_0x564f66,_0x155be3]of colonies){if(_0x155be3[_0x5e1508(0x396)]===_0x5c17e1['id']||_0x155be3['citizens'][_0x5e1508(0x22d)](_0x5c17e1[_0x5e1508(0xa45)])){_0x568b87=_0x155be3;break;}}if(!_0x568b87){_0x5c17e1[_0x5e1508(0x34f)](_0x5e1508(0xafc));return;}if(!_0x568b87[_0x5e1508(0x9b0)]||!_0x568b87[_0x5e1508(0x9b0)][_0x5e1508(0x745)]){_0x5c17e1['sendMessage'](_0x5e1508(0x552));return;}const _0x15695d=_0x568b87[_0x5e1508(0x9b0)][_0x5e1508(0x261)][_0x5c17e1[_0x5e1508(0xa45)]]||null,_0x1c623e=_0x15695d?'Current\x20Vote:\x20'+_0x15695d:_0x5e1508(0xbc6),_0x2213ff=Date[_0x5e1508(0x405)](),_0x2551c7=_0x568b87['democracy']['nextElection']-_0x2213ff,_0x41c6ff=Math[_0x5e1508(0xb51)](0x0,Math['floor'](_0x2551c7/(0x3e8*0x3c*0x3c*0x18))),_0x52f0aa=[_0x568b87[_0x5e1508(0xcd0)],..._0x568b87[_0x5e1508(0x709)][_0x5e1508(0x7ae)](_0x27b42c=>_0x27b42c!==_0x568b87['owner'])],_0x328bf1={};for(const _0x12cd9d of _0x52f0aa){_0x328bf1[_0x12cd9d]=0x0;}for(const _0x3a7ede of Object[_0x5e1508(0xaf3)](_0x568b87[_0x5e1508(0x9b0)][_0x5e1508(0x261)])){_0x328bf1[_0x3a7ede]!==undefined&&_0x328bf1[_0x3a7ede]++;}const _0x11b8d6=new ActionFormData()[_0x5e1508(0xd1)](_0x5e1508(0xc1a))[_0x5e1508(0x629)](_0x5e1508(0xc7d)+_0x568b87[_0x5e1508(0xa45)]+'\x0a'+_0x1c623e+'\x0a\x0aDays\x20until\x20next\x20election:\x20'+_0x41c6ff+_0x5e1508(0xcf9));for(const _0x14fab9 of _0x52f0aa){const _0x4d1447=_0x328bf1[_0x14fab9],_0x1dfa69=_0x14fab9===_0x568b87[_0x5e1508(0xcd0)],_0x5d53a2=_0x1dfa69?'\x20§6[Current]':'';_0x11b8d6['button'](''+_0x14fab9+_0x5d53a2+_0x5e1508(0x5d0)+_0x4d1447,_0x5e1508(0x664));}const _0x1afbe3=await _0x11b8d6['show'](_0x5c17e1);if(_0x1afbe3[_0x5e1508(0x9d4)])return;const _0x3a010c=_0x52f0aa[_0x1afbe3['selection']],_0x1adcce=new MessageFormData()[_0x5e1508(0xd1)](_0x5e1508(0x5b9))[_0x5e1508(0x629)](_0x5e1508(0xa73)+_0x3a010c+_0x5e1508(0xb72)+(_0x15695d?_0x5e1508(0x309)+_0x15695d+_0x5e1508(0x720):_0x5e1508(0x80f)))[_0x5e1508(0xa5b)](_0x5e1508(0x4b6))[_0x5e1508(0x81d)](_0x5e1508(0x86a)),_0x4bad26=await _0x1adcce[_0x5e1508(0x504)](_0x5c17e1);if(_0x4bad26['selection']===0x1)return;_0x568b87[_0x5e1508(0x9b0)][_0x5e1508(0x261)][_0x5c17e1[_0x5e1508(0xa45)]]=_0x3a010c,colonies['set'](_0x568b87['id'],_0x568b87),saveColonyData(),_0x5c17e1[_0x5e1508(0x34f)](_0x5e1508(0x3d1)+_0x3a010c+'\x20as\x20the\x20colony\x20leader!'),_0x5c17e1['sendMessage']('The\x20next\x20election\x20will\x20occur\x20in\x20'+_0x41c6ff+_0x5e1508(0xbe8));}catch(_0x11b7fb){console[_0x5e1508(0x7bf)](_0x5e1508(0xb0c),_0x11b7fb),_0x5c17e1[_0x5e1508(0x34f)](_0x5e1508(0x596)+_0x11b7fb[_0x5e1508(0xc47)]);}}function processElections(){const _0x4c88a2=_0x1d2622;try{const _0x2e5554=Date['now']();console[_0x4c88a2(0x6a4)](_0x4c88a2(0x439));for(const [_0x262359,_0x6c168c]of colonies){if(!_0x6c168c[_0x4c88a2(0x9b0)]||!_0x6c168c[_0x4c88a2(0x9b0)][_0x4c88a2(0x745)])continue;if(!_0x6c168c[_0x4c88a2(0x9b0)][_0x4c88a2(0xc6c)]||_0x2e5554<_0x6c168c['democracy'][_0x4c88a2(0xc6c)])continue;console[_0x4c88a2(0x6a4)](_0x4c88a2(0xcea)+_0x6c168c[_0x4c88a2(0xa45)]);const _0x24befa={},_0x52a2ed=[_0x6c168c[_0x4c88a2(0xcd0)],..._0x6c168c[_0x4c88a2(0x709)]];for(const _0x226ba6 of _0x52a2ed){_0x24befa[_0x226ba6]=0x0;}for(const [_0x49bcd9,_0x452448]of Object[_0x4c88a2(0x74e)](_0x6c168c[_0x4c88a2(0x9b0)][_0x4c88a2(0x261)])){_0x24befa[_0x452448]!==undefined&&_0x24befa[_0x452448]++;}let _0x1dd555=_0x6c168c[_0x4c88a2(0xcd0)],_0x448e7b=0x0;for(const [_0x25275a,_0x158a8c]of Object[_0x4c88a2(0x74e)](_0x24befa)){_0x158a8c>_0x448e7b&&(_0x448e7b=_0x158a8c,_0x1dd555=_0x25275a);}const _0xefbf0f={'date':_0x2e5554,'previousLeader':_0x6c168c[_0x4c88a2(0xcd0)],'newLeader':_0x1dd555,'voteCounts':{..._0x24befa},'totalVotes':Object[_0x4c88a2(0xc70)](_0x6c168c[_0x4c88a2(0x9b0)][_0x4c88a2(0x261)])[_0x4c88a2(0xcd6)]};_0x6c168c[_0x4c88a2(0x9b0)]['electionHistory']['push'](_0xefbf0f);if(_0x1dd555!==_0x6c168c[_0x4c88a2(0xcd0)]){console[_0x4c88a2(0x6a4)](_0x4c88a2(0xc0d)+_0x6c168c[_0x4c88a2(0xa45)]+':\x20'+_0x6c168c[_0x4c88a2(0xcd0)]+'\x20->\x20'+_0x1dd555);const _0x32d48f=world[_0x4c88a2(0x241)](),_0x1af1d8=_0x32d48f[_0x4c88a2(0x2d0)](_0x53fa49=>_0x53fa49[_0x4c88a2(0xa45)]===_0x1dd555),_0x29f8bc=_0x32d48f['find'](_0x5a9074=>_0x5a9074[_0x4c88a2(0xa45)]===_0x6c168c['owner']),_0x27b9a0=_0x6c168c[_0x4c88a2(0xcd0)],_0x137dc9=_0x6c168c[_0x4c88a2(0x396)];_0x6c168c[_0x4c88a2(0xcd0)]=_0x1dd555;_0x1af1d8&&(_0x6c168c[_0x4c88a2(0x396)]=_0x1af1d8['id']);!_0x6c168c[_0x4c88a2(0x709)]['includes'](_0x27b9a0)&&_0x6c168c[_0x4c88a2(0x709)][_0x4c88a2(0x9bb)](_0x27b9a0);_0x6c168c[_0x4c88a2(0x709)]=_0x6c168c[_0x4c88a2(0x709)][_0x4c88a2(0x7ae)](_0x2ab329=>_0x2ab329!==_0x1dd555);for(const _0x259e34 of _0x32d48f){(_0x259e34[_0x4c88a2(0xa45)]===_0x6c168c[_0x4c88a2(0xcd0)]||_0x6c168c[_0x4c88a2(0x709)][_0x4c88a2(0x22d)](_0x259e34[_0x4c88a2(0xa45)]))&&(_0x259e34[_0x4c88a2(0x34f)](_0x4c88a2(0x2f6)),_0x259e34[_0x4c88a2(0x34f)](_0x4c88a2(0xc7d)+_0x6c168c['name']),_0x259e34[_0x4c88a2(0x34f)]('§aNew\x20Leader:\x20'+_0x1dd555+'\x20('+_0x448e7b+_0x4c88a2(0xa50)),_0x259e34[_0x4c88a2(0x34f)](_0x4c88a2(0x26b)+_0x27b9a0),_0x259e34[_0x4c88a2(0x34f)]('Next\x20election\x20in\x2030\x20days'));}}else{console[_0x4c88a2(0x6a4)](_0x6c168c[_0x4c88a2(0xcd0)]+'\x20remains\x20leader\x20of\x20'+_0x6c168c[_0x4c88a2(0xa45)]+_0x4c88a2(0xe6)+_0x448e7b+_0x4c88a2(0x506));const _0x3f227e=world['getAllPlayers']();for(const _0x4ec930 of _0x3f227e){(_0x4ec930[_0x4c88a2(0xa45)]===_0x6c168c[_0x4c88a2(0xcd0)]||_0x6c168c[_0x4c88a2(0x709)][_0x4c88a2(0x22d)](_0x4ec930[_0x4c88a2(0xa45)]))&&(_0x4ec930[_0x4c88a2(0x34f)](_0x4c88a2(0x2f6)),_0x4ec930[_0x4c88a2(0x34f)](_0x4c88a2(0xc7d)+_0x6c168c['name']),_0x4ec930['sendMessage']('§a'+_0x1dd555+_0x4c88a2(0xba0)+_0x448e7b+_0x4c88a2(0xa50)),_0x4ec930[_0x4c88a2(0x34f)](_0x4c88a2(0x98b)));}}_0x6c168c['democracy'][_0x4c88a2(0xc6c)]=_0x2e5554+0x1e*0x18*0x3c*0x3c*0x3e8,colonies['set'](_0x262359,_0x6c168c);}saveColonyData();}catch(_0x39a99a){console['error'](_0x4c88a2(0x8f5),_0x39a99a);}}system[_0x1d2622(0x613)](()=>{processElections();},0x11940),system[_0x1d2622(0x633)](()=>{processElections();},0x4b0);const playerTrumpetSongs=new Map(),trumpetCooldowns=new Map(),TRUMPET_COOLDOWN_MS=0x1e*0x3e8,TRUMPET_SONGS=[{'name':_0x1d2622(0x737),'sound':'trumpet.celebrate'},{'name':'Charge','sound':_0x1d2622(0x109)},{'name':_0x1d2622(0x2b8),'sound':'trumpet.duel'},{'name':_0x1d2622(0xaaf),'sound':_0x1d2622(0xc33)},{'name':_0x1d2622(0xc04),'sound':_0x1d2622(0x22f)},{'name':_0x1d2622(0x479),'sound':_0x1d2622(0x253)},{'name':_0x1d2622(0x540),'sound':_0x1d2622(0x29b)}];function saveTrumpetData(){const _0x129515=_0x1d2622;try{const _0x45edab={'songs':Object[_0x129515(0x5c8)](playerTrumpetSongs),'cooldowns':Object[_0x129515(0x5c8)](trumpetCooldowns)};world['setDynamicProperty'](_0x129515(0xc6f),JSON['stringify'](_0x45edab));}catch(_0x60c5b3){console[_0x129515(0x7bf)](_0x129515(0xa2b),_0x60c5b3);}}function loadTrumpetData(){const _0x55b42c=_0x1d2622;try{const _0xa98f30=world['getDynamicProperty']('trumpet_data');if(_0xa98f30){const _0x4df9e4=JSON[_0x55b42c(0xc35)](_0xa98f30);if(_0x4df9e4[_0x55b42c(0xb62)])for(const [_0x473e17,_0xb54723]of Object[_0x55b42c(0x74e)](_0x4df9e4[_0x55b42c(0xb62)])){playerTrumpetSongs['set'](_0x473e17,_0xb54723);}if(_0x4df9e4['cooldowns'])for(const [_0xfcd1f7,_0x3e203d]of Object[_0x55b42c(0x74e)](_0x4df9e4[_0x55b42c(0x568)])){trumpetCooldowns[_0x55b42c(0x336)](_0xfcd1f7,_0x3e203d);}console['log'](_0x55b42c(0x8de));}}catch(_0x359193){console[_0x55b42c(0x7bf)](_0x55b42c(0xc4d),_0x359193);}}async function showTrumpetMenu(_0x3f0de6){const _0x2230a2=_0x1d2622,_0x4cd7a8=playerTrumpetSongs['get'](_0x3f0de6['id']),_0x3e4ae2=new ActionFormData()[_0x2230a2(0xd1)](_0x2230a2(0x806))['body']('Select\x20a\x20song:\x0a\x0a'+(_0x4cd7a8?'Current:\x20'+_0x4cd7a8:_0x2230a2(0x480)));for(const _0x67b947 of TRUMPET_SONGS){_0x3e4ae2[_0x2230a2(0x31f)](_0x67b947[_0x2230a2(0xa45)]);}const _0x7f018e=await _0x3e4ae2[_0x2230a2(0x504)](_0x3f0de6);if(_0x7f018e[_0x2230a2(0x9d4)])return;const _0x3a366a=TRUMPET_SONGS[_0x7f018e[_0x2230a2(0x77a)]];playerTrumpetSongs['set'](_0x3f0de6['id'],_0x3a366a[_0x2230a2(0xa45)]),saveTrumpetData(),_0x3f0de6[_0x2230a2(0x34f)](_0x2230a2(0x885)+_0x3a366a['name']);}function playTrumpetSong(_0x4eca6e){const _0x512043=_0x1d2622,_0x2f7a26=Date[_0x512043(0x405)](),_0x45a7df=trumpetCooldowns['get'](_0x4eca6e['id'])||0x0;if(_0x2f7a26<_0x45a7df){const _0x4e0c8c=Math[_0x512043(0x831)]((_0x45a7df-_0x2f7a26)/0x3e8);_0x4eca6e[_0x512043(0x34f)]('§cYou\x20are\x20out\x20of\x20breathe!\x20Wait\x20'+_0x4e0c8c+_0x512043(0x3f0));return;}const _0x17a9d1=playerTrumpetSongs[_0x512043(0xc0a)](_0x4eca6e['id']);if(!_0x17a9d1){_0x4eca6e[_0x512043(0x34f)](_0x512043(0x2bc));return;}const _0x2676a1=TRUMPET_SONGS[_0x512043(0x2d0)](_0x2c04a6=>_0x2c04a6[_0x512043(0xa45)]===_0x17a9d1);if(!_0x2676a1){_0x4eca6e[_0x512043(0x34f)](_0x512043(0x98e));return;}try{const _0x2fe546=_0x4eca6e[_0x512043(0x1f2)];_0x4eca6e[_0x512043(0xd12)](_0x512043(0x4ff)+_0x2676a1[_0x512043(0x5e1)]+'\x20@a[r=50]\x20'+_0x2fe546['x']+'\x20'+_0x2fe546['y']+'\x20'+_0x2fe546['z']+_0x512043(0x4a1)),trumpetCooldowns['set'](_0x4eca6e['id'],_0x2f7a26+TRUMPET_COOLDOWN_MS),saveTrumpetData();}catch(_0x22b38c){console[_0x512043(0x7bf)](_0x512043(0x8ab),_0x22b38c),_0x4eca6e[_0x512043(0x34f)](_0x512043(0xb40));}}system['runInterval'](()=>{const _0x1d739d=_0x1d2622,_0x34977d=Date['now']();for(const [_0x381590,_0x2ed4b7]of trumpetCooldowns[_0x1d739d(0x74e)]()){_0x34977d>=_0x2ed4b7&&trumpetCooldowns[_0x1d739d(0xbcb)](_0x381590);}},0x1770),world[_0x1d2622(0xcd5)][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0x3b626f=>{const _0x27a10f=_0x1d2622,_0xd79568=_0x3b626f[_0x27a10f(0xb68)],_0x54775e=_0x3b626f['itemStack'];if(_0x54775e&&_0x54775e[_0x27a10f(0x621)]===_0x27a10f(0xa10)){const _0x55c7db=_0xd79568[_0x27a10f(0x8f2)](),_0x29bc43=_0xd79568[_0x27a10f(0x1f2)],_0x7606de={'maxDistance':0x6,'includePassableBlocks':![],'includeLiquidBlocks':![]},_0x1bd591=_0xd79568['getEntitiesFromViewDirection'](_0x7606de);let _0x44807e=![];if(_0x1bd591&&_0x1bd591['length']>0x0){const _0x25a283=_0x1bd591[0x0][_0x27a10f(0x3e7)];_0x25a283&&(_0x25a283[_0x27a10f(0x621)]===_0x27a10f(0xca9)||_0x25a283[_0x27a10f(0x4ac)](_0x27a10f(0xb13)))&&(_0x44807e=!![]);}!_0x44807e&&system[_0x27a10f(0x631)](()=>{showUnitManagerMenu(_0xd79568);});}});const playerUnits=new Map();function saveUnitData(){const _0x1a8bfc=_0x1d2622;try{const _0x3c6f95={};for(const [_0x3255a9,_0x110ca9]of playerUnits[_0x1a8bfc(0x74e)]()){const _0x1a49fa={};for(const [_0x52150c,_0x3db89f]of _0x110ca9[_0x1a8bfc(0x74e)]()){_0x1a49fa[_0x52150c]=Array[_0x1a8bfc(0x2f9)](_0x3db89f);}_0x3c6f95[_0x3255a9]=_0x1a49fa;}world[_0x1a8bfc(0x4da)](_0x1a8bfc(0x41d),JSON['stringify'](_0x3c6f95));}catch(_0x487874){console[_0x1a8bfc(0x5b4)](_0x1a8bfc(0xc2a),_0x487874);}}function loadUnitData(){const _0x544d56=_0x1d2622;try{const _0x4a1eeb=world['getDynamicProperty'](_0x544d56(0x41d));if(!_0x4a1eeb)return;const _0x53206f=JSON[_0x544d56(0xc35)](_0x4a1eeb);for(const _0x446bac in _0x53206f){const _0x5e8466=_0x53206f[_0x446bac],_0xcaafcc=new Map();for(const _0x1c83f1 in _0x5e8466){_0xcaafcc[_0x544d56(0x336)](_0x1c83f1,new Set(_0x5e8466[_0x1c83f1]));}playerUnits[_0x544d56(0x336)](_0x446bac,_0xcaafcc);}console[_0x544d56(0x5b4)](_0x544d56(0x394));}catch(_0x176d93){console[_0x544d56(0x5b4)](_0x544d56(0x71d),_0x176d93);}}function getPlayerUnits(_0x10ae22){const _0x2f2d1a=_0x1d2622;return!playerUnits[_0x2f2d1a(0xb61)](_0x10ae22)&&playerUnits[_0x2f2d1a(0x336)](_0x10ae22,new Map()),playerUnits['get'](_0x10ae22);}function getPlayerKnights(_0x7160af){const _0x54f7ac=_0x1d2622,_0x417b9e=_0x7160af[_0x54f7ac(0x460)]()[_0x54f7ac(0x2d0)](_0x17b6ac=>_0x17b6ac[_0x54f7ac(0x42a)](_0x54f7ac(0x30d))),_0x112864=_0x7160af[_0x54f7ac(0x460)]()['find'](_0x574dd1=>_0x574dd1[_0x54f7ac(0x42a)]('colony_member:')),_0x1030bb=_0x417b9e?.[_0x54f7ac(0x44b)](':')[0x1]||_0x112864?.[_0x54f7ac(0x44b)](':')[0x1];if(!_0x1030bb||!colonies[_0x54f7ac(0xb61)](_0x1030bb))return[];const _0x159208=colonies[_0x54f7ac(0xc0a)](_0x1030bb);if(!_0x159208[_0x54f7ac(0x2ad)]||_0x159208[_0x54f7ac(0x2ad)][_0x54f7ac(0xcd6)]===0x0)return[];const _0x3dee51=[];for(const _0x36098a of _0x159208[_0x54f7ac(0x2ad)]){_0x3dee51['push']({'id':_0x36098a['id'],'nameTag':_0x36098a[_0x54f7ac(0xa45)],'dimension':_0x36098a[_0x54f7ac(0xaf8)],'isValid':()=>!![],'getTags':()=>[_0x54f7ac(0x30d)+_0x1030bb,'citizen_type:knight'],'_isVirtual':!![]});}return _0x3dee51;}function cleanupDeadKnightsFromColony(_0x5db0b1){const _0x3cc93b=_0x1d2622;if(!colonies[_0x3cc93b(0xb61)](_0x5db0b1))return;const _0x3488fc=colonies[_0x3cc93b(0xc0a)](_0x5db0b1);if(!_0x3488fc[_0x3cc93b(0x2ad)]||_0x3488fc[_0x3cc93b(0x2ad)]['length']===0x0)return;const _0x39b447=new Set(),_0x2d3534=[world[_0x3cc93b(0xbc8)](_0x3cc93b(0x182)),world['getDimension'](_0x3cc93b(0x437)),world[_0x3cc93b(0xbc8)](_0x3cc93b(0x18d))];for(const _0x881520 of _0x2d3534){try{const _0x2f9db4=_0x881520[_0x3cc93b(0xc8f)]({'type':_0x3cc93b(0xca9)});for(const _0x57999c of _0x2f9db4){_0x39b447[_0x3cc93b(0x71a)](_0x57999c['id']);}}catch(_0x206618){}}const _0x271053=_0x3488fc[_0x3cc93b(0x2ad)][_0x3cc93b(0xcd6)];_0x3488fc['knights']=_0x3488fc[_0x3cc93b(0x2ad)]['filter'](_0x15db68=>_0x39b447[_0x3cc93b(0xb61)](_0x15db68['id'])),_0x3488fc['knights'][_0x3cc93b(0xcd6)]<_0x271053&&(saveColonyData(),console[_0x3cc93b(0x6a4)]('Cleaned\x20up\x20'+(_0x271053-_0x3488fc[_0x3cc93b(0x2ad)][_0x3cc93b(0xcd6)])+_0x3cc93b(0x6d7)+_0x5db0b1));}function cleanupDeadKnightsFromUnits(_0x543114){const _0x5609a2=_0x1d2622,_0x102c75=_0x543114['getTags']()[_0x5609a2(0x2d0)](_0x334e50=>_0x334e50['startsWith']('colony_id:')),_0x5dc1aa=_0x543114['getTags']()[_0x5609a2(0x2d0)](_0x45fc89=>_0x45fc89['startsWith'](_0x5609a2(0x3ae))),_0x40d27e=_0x102c75?.[_0x5609a2(0x44b)](':')[0x1]||_0x5dc1aa?.[_0x5609a2(0x44b)](':')[0x1];_0x40d27e&&cleanupDeadKnightsFromColony(_0x40d27e);const _0x1fec8e=getPlayerUnits(_0x543114['id']);if(_0x1fec8e[_0x5609a2(0x5c1)]===0x0)return;const _0x57355f=new Set(),_0x19320e=[world['getDimension'](_0x5609a2(0x182)),world['getDimension'](_0x5609a2(0x437)),world[_0x5609a2(0xbc8)](_0x5609a2(0x18d))];for(const _0x42f438 of _0x19320e){try{const _0x2e686d=_0x42f438['getEntities']({'type':_0x5609a2(0xca9)});for(const _0x485543 of _0x2e686d){_0x57355f[_0x5609a2(0x71a)](_0x485543['id']);}}catch(_0x54fe14){}}let _0x522ed9=![];const _0x5de4df=[];for(const [_0xf68c86,_0x677bb1]of _0x1fec8e[_0x5609a2(0x74e)]()){const _0x48ecda=[];for(const _0x4eef43 of _0x677bb1){!_0x57355f[_0x5609a2(0xb61)](_0x4eef43)&&_0x48ecda[_0x5609a2(0x9bb)](_0x4eef43);}if(_0x48ecda[_0x5609a2(0xcd6)]>0x0){for(const _0x4c724d of _0x48ecda){_0x677bb1[_0x5609a2(0xbcb)](_0x4c724d);}_0x522ed9=!![];}_0x677bb1[_0x5609a2(0x5c1)]===0x0&&_0x5de4df[_0x5609a2(0x9bb)](_0xf68c86);}for(const _0x32e0e0 of _0x5de4df){_0x1fec8e['delete'](_0x32e0e0),_0x522ed9=!![];}_0x522ed9&&saveUnitData();}function showUnitManagerMenu(_0x4fd15d){const _0x222c22=_0x1d2622;cleanupDeadKnightsFromUnits(_0x4fd15d);const _0x2fe3d8=new ActionFormData();_0x2fe3d8[_0x222c22(0xd1)]('§lUnit\x20Manager§r'),_0x2fe3d8[_0x222c22(0x629)](_0x222c22(0x21a)),_0x2fe3d8[_0x222c22(0x31f)](_0x222c22(0xdf)),_0x2fe3d8[_0x222c22(0x31f)]('Unit\x20Commands'),_0x2fe3d8[_0x222c22(0x31f)](_0x222c22(0xf1)),_0x2fe3d8[_0x222c22(0x31f)]('§c§lClose'),_0x2fe3d8[_0x222c22(0x504)](_0x4fd15d)[_0x222c22(0x4c7)](_0x52026b=>{const _0x1654bc=_0x222c22;if(_0x52026b[_0x1654bc(0x9d4)])return;if(_0x52026b[_0x1654bc(0x77a)]===0x0)showOrganizeUnitsMenu(_0x4fd15d);else{if(_0x52026b[_0x1654bc(0x77a)]===0x1)showUnitCommandsMenu(_0x4fd15d);else _0x52026b[_0x1654bc(0x77a)]===0x2&&showFormationsMenu(_0x4fd15d);}});}function showOrganizeUnitsMenu(_0x30211a){const _0x5d4413=_0x1d2622,_0x32072b=new ActionFormData();_0x32072b[_0x5d4413(0xd1)](_0x5d4413(0x6ab)),_0x32072b[_0x5d4413(0x629)](_0x5d4413(0xb08)),_0x32072b['button']('Create\x20New\x20Unit'),_0x32072b['button'](_0x5d4413(0x407)),_0x32072b['button'](_0x5d4413(0x2f1)),_0x32072b[_0x5d4413(0x31f)](_0x5d4413(0xa4f)),_0x32072b[_0x5d4413(0x504)](_0x30211a)[_0x5d4413(0x4c7)](_0xda4271=>{const _0xf7710c=_0x5d4413;if(_0xda4271[_0xf7710c(0x9d4)])return;if(_0xda4271[_0xf7710c(0x77a)]===0x0)showCreateUnitMenu(_0x30211a);else{if(_0xda4271['selection']===0x1)showAssignKnightsMenu(_0x30211a);else{if(_0xda4271[_0xf7710c(0x77a)]===0x2)showRemoveUnitMenu(_0x30211a);else _0xda4271[_0xf7710c(0x77a)]===0x3&&showUnitManagerMenu(_0x30211a);}}});}function showCreateUnitMenu(_0x44f85e){const _0x283205=_0x1d2622,_0x43e17f=new ModalFormData();_0x43e17f['title']('§l§6Create\x20New\x20Unit§r'),_0x43e17f['textField']('Unit\x20Name:',_0x283205(0x81b)),_0x43e17f['show'](_0x44f85e)[_0x283205(0x4c7)](_0xd3bde=>{const _0x30dde0=_0x283205;if(_0xd3bde[_0x30dde0(0x9d4)])return;const _0x2b254b=_0xd3bde['formValues'][0x0];if(!_0x2b254b||_0x2b254b['trim']()===''){_0x44f85e[_0x30dde0(0x34f)](_0x30dde0(0x5a4));return;}const _0x39fb5a=getPlayerUnits(_0x44f85e['id']);if(_0x39fb5a['has'](_0x2b254b)){_0x44f85e[_0x30dde0(0x34f)](_0x30dde0(0x911));return;}_0x39fb5a[_0x30dde0(0x336)](_0x2b254b,new Set()),saveUnitData(),_0x44f85e[_0x30dde0(0x34f)]('§aCreated\x20unit:\x20§e'+_0x2b254b),showOrganizeUnitsMenu(_0x44f85e);});}function showAssignKnightsMenu(_0x3300fe){const _0x16653c=_0x1d2622,_0x3832ec=getPlayerUnits(_0x3300fe['id']);if(_0x3832ec['size']===0x0){_0x3300fe[_0x16653c(0x34f)](_0x16653c(0xc03)),showOrganizeUnitsMenu(_0x3300fe);return;}const _0x16847d=new ActionFormData();_0x16847d[_0x16653c(0xd1)]('§lAssign\x20Knights§r'),_0x16847d[_0x16653c(0x629)](_0x16653c(0x5d7));for(const _0x7fe5b3 of _0x3832ec['keys']()){const _0xd182ed=_0x3832ec[_0x16653c(0xc0a)](_0x7fe5b3);_0x16847d['button'](_0x7fe5b3+'\x20('+_0xd182ed[_0x16653c(0x5c1)]+_0x16653c(0xa72));}_0x16847d[_0x16653c(0x31f)](_0x16653c(0xa4f)),_0x16847d[_0x16653c(0x504)](_0x3300fe)[_0x16653c(0x4c7)](_0x3fef88=>{const _0x140bf8=_0x16653c;if(_0x3fef88[_0x140bf8(0x9d4)])return;const _0x417a63=Array[_0x140bf8(0x2f9)](_0x3832ec['keys']());if(_0x3fef88[_0x140bf8(0x77a)]===_0x417a63[_0x140bf8(0xcd6)]){showOrganizeUnitsMenu(_0x3300fe);return;}const _0x408ec9=_0x417a63[_0x3fef88[_0x140bf8(0x77a)]];showKnightSelectionMenu(_0x3300fe,_0x408ec9);});}function showKnightSelectionMenu(_0x48ea14,_0x55f95f){const _0x2b9e93=_0x1d2622,_0x1655a9=getPlayerKnights(_0x48ea14);if(_0x1655a9[_0x2b9e93(0xcd6)]===0x0){_0x48ea14[_0x2b9e93(0x34f)](_0x2b9e93(0x64d)),showOrganizeUnitsMenu(_0x48ea14);return;}const _0x1e122a=new ActionFormData();_0x1e122a[_0x2b9e93(0xd1)](_0x2b9e93(0x669)+_0x55f95f+'§r'),_0x1e122a['body'](_0x2b9e93(0x154));const _0x19b3c7=getPlayerUnits(_0x48ea14['id']),_0x4610d0=_0x19b3c7[_0x2b9e93(0xc0a)](_0x55f95f);_0x1655a9[_0x2b9e93(0x2c2)](_0x1f6609=>{const _0x7e90a1=_0x2b9e93,_0x88be42=_0x1f6609[_0x7e90a1(0xa7c)]||_0x7e90a1(0xbaf),_0x218c93=_0x4610d0['has'](_0x1f6609['id']),_0x51d721=_0x218c93?_0x7e90a1(0x414):'○';_0x1e122a[_0x7e90a1(0x31f)](_0x51d721+_0x88be42);}),_0x1e122a[_0x2b9e93(0x31f)](_0x2b9e93(0x300)),_0x1e122a['show'](_0x48ea14)[_0x2b9e93(0x4c7)](_0x583d24=>{const _0x10cd24=_0x2b9e93;if(_0x583d24[_0x10cd24(0x9d4)])return;if(_0x583d24[_0x10cd24(0x77a)]===_0x1655a9['length']){_0x48ea14['sendMessage']('§aUnit\x20§e'+_0x55f95f+'§a\x20now\x20has\x20§e'+_0x4610d0['size']+_0x10cd24(0x9cb)),showOrganizeUnitsMenu(_0x48ea14);return;}const _0x407d7e=_0x1655a9[_0x583d24[_0x10cd24(0x77a)]],_0x5cac51=_0x48ea14['getTags']()[_0x10cd24(0x2d0)](_0x52305c=>_0x52305c[_0x10cd24(0x42a)](_0x10cd24(0x30d))),_0x15b125=_0x48ea14['getTags']()[_0x10cd24(0x2d0)](_0x57d322=>_0x57d322[_0x10cd24(0x42a)](_0x10cd24(0x3ae))),_0x2e2603=_0x5cac51?.['split'](':')[0x1]||_0x15b125?.[_0x10cd24(0x44b)](':')[0x1],_0x42d91e=_0x407d7e[_0x10cd24(0x460)]()[_0x10cd24(0x2d0)](_0x3f699e=>_0x3f699e[_0x10cd24(0x42a)](_0x10cd24(0x30d))),_0x1f1995=_0x42d91e?.[_0x10cd24(0x44b)](':')[0x1];if(!_0x2e2603||!_0x1f1995||_0x2e2603!==_0x1f1995){_0x48ea14['sendMessage']('§cYou\x20can\x20only\x20add\x20knights\x20from\x20your\x20own\x20colony!'),showKnightSelectionMenu(_0x48ea14,_0x55f95f);return;}_0x4610d0['has'](_0x407d7e['id'])?(_0x4610d0[_0x10cd24(0xbcb)](_0x407d7e['id']),_0x48ea14[_0x10cd24(0x34f)](_0x10cd24(0x8b3)+_0x55f95f)):(_0x4610d0[_0x10cd24(0x71a)](_0x407d7e['id']),_0x48ea14[_0x10cd24(0x34f)]('§aAdded\x20knight\x20to\x20'+_0x55f95f)),saveUnitData(),showKnightSelectionMenu(_0x48ea14,_0x55f95f);});}function showRemoveUnitMenu(_0xe6633c){const _0x28a0f6=_0x1d2622,_0x14c820=getPlayerUnits(_0xe6633c['id']);if(_0x14c820[_0x28a0f6(0x5c1)]===0x0){_0xe6633c['sendMessage']('§cYou\x20have\x20no\x20units\x20to\x20remove!'),showOrganizeUnitsMenu(_0xe6633c);return;}const _0x4f2cf9=new ActionFormData();_0x4f2cf9[_0x28a0f6(0xd1)](_0x28a0f6(0x913)),_0x4f2cf9[_0x28a0f6(0x629)]('§7Select\x20a\x20unit\x20to\x20remove§r');for(const _0x2283a0 of _0x14c820[_0x28a0f6(0xc70)]()){_0x4f2cf9[_0x28a0f6(0x31f)](_0x2283a0);}_0x4f2cf9[_0x28a0f6(0x31f)](_0x28a0f6(0xa4f)),_0x4f2cf9['show'](_0xe6633c)[_0x28a0f6(0x4c7)](_0x58f003=>{const _0x387982=_0x28a0f6;if(_0x58f003[_0x387982(0x9d4)])return;const _0x10b0f6=Array['from'](_0x14c820[_0x387982(0xc70)]());if(_0x58f003[_0x387982(0x77a)]===_0x10b0f6[_0x387982(0xcd6)]){showOrganizeUnitsMenu(_0xe6633c);return;}const _0x5b03f8=_0x10b0f6[_0x58f003['selection']];_0x14c820[_0x387982(0xbcb)](_0x5b03f8),saveUnitData(),_0xe6633c[_0x387982(0x34f)](_0x387982(0xc13)+_0x5b03f8),showOrganizeUnitsMenu(_0xe6633c);});}function showUnitCommandsMenu(_0x128353){const _0x4c3783=_0x1d2622,_0x644b92=getPlayerUnits(_0x128353['id']);if(_0x644b92[_0x4c3783(0x5c1)]===0x0){_0x128353[_0x4c3783(0x34f)](_0x4c3783(0xc03)),showUnitManagerMenu(_0x128353);return;}const _0x4ed0e6=new ActionFormData();_0x4ed0e6[_0x4c3783(0xd1)](_0x4c3783(0x4f6)),_0x4ed0e6[_0x4c3783(0x629)](_0x4c3783(0x175));for(const _0x12a022 of _0x644b92[_0x4c3783(0xc70)]()){const _0xdf4299=_0x644b92[_0x4c3783(0xc0a)](_0x12a022);_0x4ed0e6['button'](_0x12a022+'\x20('+_0xdf4299['size']+_0x4c3783(0xa72));}_0x4ed0e6[_0x4c3783(0x31f)](_0x4c3783(0xa4f)),_0x4ed0e6[_0x4c3783(0x504)](_0x128353)[_0x4c3783(0x4c7)](_0x3ab76c=>{const _0x58a69c=_0x4c3783;if(_0x3ab76c[_0x58a69c(0x9d4)])return;const _0x209514=Array[_0x58a69c(0x2f9)](_0x644b92[_0x58a69c(0xc70)]());if(_0x3ab76c[_0x58a69c(0x77a)]===_0x209514[_0x58a69c(0xcd6)]){showUnitManagerMenu(_0x128353);return;}const _0x28f5c5=_0x209514[_0x3ab76c[_0x58a69c(0x77a)]];showUnitActionMenu(_0x128353,_0x28f5c5);});}function showUnitActionMenu(_0x41604b,_0x3d7555){const _0x5753db=_0x1d2622,_0x152b77=new ActionFormData();_0x152b77[_0x5753db(0xd1)]('§l'+_0x3d7555+'§r'),_0x152b77[_0x5753db(0x629)]('Command\x20all\x20knights\x20in\x20this\x20unit§r'),_0x152b77[_0x5753db(0x31f)]('§lAll\x20Follow'),_0x152b77[_0x5753db(0x31f)](_0x5753db(0x4b1)),_0x152b77['button'](_0x5753db(0x3d8)),_0x152b77[_0x5753db(0x504)](_0x41604b)[_0x5753db(0x4c7)](_0x36e957=>{const _0x27480f=_0x5753db;if(_0x36e957[_0x27480f(0x9d4)])return;if(_0x36e957[_0x27480f(0x77a)]===0x0)makeUnitFollow(_0x41604b,_0x3d7555);else{if(_0x36e957[_0x27480f(0x77a)]===0x1)makeUnitStandStill(_0x41604b,_0x3d7555);else _0x36e957[_0x27480f(0x77a)]===0x2&&showUnitCommandsMenu(_0x41604b);}});}function makeUnitFollow(_0xc4ec24,_0x3dcd9c){const _0x16b63f=_0x1d2622,_0x52731e=getPlayerUnits(_0xc4ec24['id']),_0xe42f51=_0x52731e['get'](_0x3dcd9c);if(!_0xe42f51||_0xe42f51[_0x16b63f(0x5c1)]===0x0){_0xc4ec24[_0x16b63f(0x34f)]('§cThis\x20unit\x20has\x20no\x20knights!');return;}let _0x25ba90=0x0;const _0x4c7937=_0xc4ec24[_0x16b63f(0xaf8)];for(const _0x65581d of _0xe42f51){const _0x456770=_0x4c7937[_0x16b63f(0xc8f)]({'type':_0x16b63f(0xca9)}),_0xde6331=_0x456770['find'](_0x3b8abf=>_0x3b8abf['id']===_0x65581d);_0xde6331&&(_0xde6331[_0x16b63f(0xbd0)](_0x16b63f(0x862)),_0x25ba90++);}_0xc4ec24[_0x16b63f(0x34f)]('§a'+_0x25ba90+_0x16b63f(0x4c6)+_0x3dcd9c+_0x16b63f(0x8d0)),showUnitActionMenu(_0xc4ec24,_0x3dcd9c);}function makeUnitStandStill(_0x11ad9b,_0x5f44c3){const _0x17c5bb=_0x1d2622,_0x2acf9b=getPlayerUnits(_0x11ad9b['id']),_0x4b275f=_0x2acf9b[_0x17c5bb(0xc0a)](_0x5f44c3);if(!_0x4b275f||_0x4b275f[_0x17c5bb(0x5c1)]===0x0){_0x11ad9b[_0x17c5bb(0x34f)](_0x17c5bb(0xc3f));return;}let _0x3c4680=0x0;const _0x1d6120=_0x11ad9b[_0x17c5bb(0xaf8)];for(const _0x28ec1b of _0x4b275f){const _0x52764e=_0x1d6120[_0x17c5bb(0xc8f)]({'type':_0x17c5bb(0xca9)}),_0x294336=_0x52764e['find'](_0x475382=>_0x475382['id']===_0x28ec1b);_0x294336&&(_0x294336[_0x17c5bb(0xbd0)]('knight_sit'),_0x3c4680++);}_0x11ad9b[_0x17c5bb(0x34f)]('§a'+_0x3c4680+_0x17c5bb(0x4c6)+_0x5f44c3+_0x17c5bb(0x7e5)),showUnitActionMenu(_0x11ad9b,_0x5f44c3);}function showFormationsMenu(_0x246b8e){const _0x5acb34=_0x1d2622,_0xfc59b2=getPlayerUnits(_0x246b8e['id']);if(_0xfc59b2[_0x5acb34(0x5c1)]===0x0){_0x246b8e[_0x5acb34(0x34f)](_0x5acb34(0xc03)),showUnitManagerMenu(_0x246b8e);return;}const _0x163822=new ActionFormData();_0x163822[_0x5acb34(0xd1)](_0x5acb34(0xd13)),_0x163822[_0x5acb34(0x629)](_0x5acb34(0x472));for(const _0x3f2c5e of _0xfc59b2[_0x5acb34(0xc70)]()){const _0x4b7673=_0xfc59b2[_0x5acb34(0xc0a)](_0x3f2c5e);_0x163822[_0x5acb34(0x31f)](_0x3f2c5e+'\x20('+_0x4b7673[_0x5acb34(0x5c1)]+_0x5acb34(0xa72));}_0x163822['button']('§c§lBack'),_0x163822[_0x5acb34(0x504)](_0x246b8e)[_0x5acb34(0x4c7)](_0x482e57=>{const _0x21cb31=_0x5acb34;if(_0x482e57[_0x21cb31(0x9d4)])return;const _0x58df2f=Array[_0x21cb31(0x2f9)](_0xfc59b2[_0x21cb31(0xc70)]());if(_0x482e57['selection']===_0x58df2f['length']){showUnitManagerMenu(_0x246b8e);return;}const _0x2072fa=_0x58df2f[_0x482e57[_0x21cb31(0x77a)]];showFormationTypeMenu(_0x246b8e,_0x2072fa);});}function showFormationTypeMenu(_0x46c245,_0x2229c0){const _0x52c381=_0x1d2622,_0x4bb7c9=new ActionFormData();_0x4bb7c9[_0x52c381(0xd1)]('§l'+_0x2229c0+'\x20Formation§r'),_0x4bb7c9['body'](_0x52c381(0x9f4)),_0x4bb7c9[_0x52c381(0x31f)](_0x52c381(0x888)),_0x4bb7c9[_0x52c381(0x31f)]('Line\x20Formation'),_0x4bb7c9['button']('§c§lBack'),_0x4bb7c9[_0x52c381(0x504)](_0x46c245)[_0x52c381(0x4c7)](_0x496e85=>{const _0x23ece7=_0x52c381;if(_0x496e85[_0x23ece7(0x9d4)])return;if(_0x496e85[_0x23ece7(0x77a)]===0x0)arrangeUnitSquare(_0x46c245,_0x2229c0);else{if(_0x496e85[_0x23ece7(0x77a)]===0x1)arrangeUnitLine(_0x46c245,_0x2229c0);else _0x496e85['selection']===0x2&&showFormationsMenu(_0x46c245);}});}function arrangeUnitSquare(_0x45bea0,_0x5f2ec2){const _0xdffe46=_0x1d2622,_0x418eea=getPlayerUnits(_0x45bea0['id']),_0xc0a1a0=_0x418eea[_0xdffe46(0xc0a)](_0x5f2ec2);if(!_0xc0a1a0||_0xc0a1a0[_0xdffe46(0x5c1)]===0x0){_0x45bea0[_0xdffe46(0x34f)](_0xdffe46(0xc3f));return;}const _0x126c6c=_0x45bea0[_0xdffe46(0xaf8)],_0x480a3e=[];for(const _0x2d33c4 of _0xc0a1a0){const _0x5aa9b2=_0x126c6c[_0xdffe46(0xc8f)]({'type':_0xdffe46(0xca9)}),_0x52673f=_0x5aa9b2[_0xdffe46(0x2d0)](_0xc41f7f=>_0xc41f7f['id']===_0x2d33c4);if(_0x52673f)_0x480a3e['push'](_0x52673f);}if(_0x480a3e[_0xdffe46(0xcd6)]===0x0){_0x45bea0[_0xdffe46(0x34f)](_0xdffe46(0x9bd));return;}const _0x595e79=Math[_0xdffe46(0x831)](Math[_0xdffe46(0x4e0)](_0x480a3e[_0xdffe46(0xcd6)])),_0x281d3d=1.5,_0x249666=_0x45bea0[_0xdffe46(0x1f2)],_0x1a640b=_0x45bea0[_0xdffe46(0x8f2)](),_0x4310fb=-_0x1a640b['z'],_0x228b43=_0x1a640b['x'],_0x37b5a3=0x3,_0x68cbeb=_0x249666['x']+_0x1a640b['x']*_0x37b5a3,_0x5e752c=_0x249666['z']+_0x1a640b['z']*_0x37b5a3,_0x45fd00=-(_0x595e79-0x1)*_0x281d3d/0x2,_0x1e7b2b=-(_0x595e79-0x1)*_0x281d3d/0x2;let _0x50bda2=0x0;for(let _0x2a2c4d=0x0;_0x2a2c4d<_0x595e79&&_0x50bda2<_0x480a3e[_0xdffe46(0xcd6)];_0x2a2c4d++){for(let _0x39c75c=0x0;_0x39c75c<_0x595e79&&_0x50bda2<_0x480a3e[_0xdffe46(0xcd6)];_0x39c75c++){const _0x5297c6=_0x480a3e[_0x50bda2],_0x31d51f=_0x68cbeb+(_0x45fd00+_0x39c75c*_0x281d3d)*_0x4310fb+(_0x1e7b2b+_0x2a2c4d*_0x281d3d)*_0x1a640b['x'],_0x476d9e=_0x5e752c+(_0x45fd00+_0x39c75c*_0x281d3d)*_0x228b43+(_0x1e7b2b+_0x2a2c4d*_0x281d3d)*_0x1a640b['z'],_0x596017=_0x249666['y'];_0x5297c6[_0xdffe46(0x54b)]({'x':_0x31d51f,'y':_0x596017,'z':_0x476d9e},{'dimension':_0x126c6c}),_0x5297c6['triggerEvent'](_0xdffe46(0x24f)),_0x50bda2++;}}_0x45bea0[_0xdffe46(0x34f)](_0xdffe46(0x838)+_0x480a3e[_0xdffe46(0xcd6)]+_0xdffe46(0x72e)),showFormationTypeMenu(_0x45bea0,_0x5f2ec2);}function arrangeUnitLine(_0xe47b73,_0x44db7f){const _0x38bbcb=_0x1d2622,_0x1cf6ba=getPlayerUnits(_0xe47b73['id']),_0x4820ac=_0x1cf6ba[_0x38bbcb(0xc0a)](_0x44db7f);if(!_0x4820ac||_0x4820ac[_0x38bbcb(0x5c1)]===0x0){_0xe47b73[_0x38bbcb(0x34f)](_0x38bbcb(0xc3f));return;}const _0x301023=_0xe47b73[_0x38bbcb(0xaf8)],_0x5d27c0=[];for(const _0x4bc41d of _0x4820ac){const _0x261d63=_0x301023['getEntities']({'type':_0x38bbcb(0xca9)}),_0xf32761=_0x261d63['find'](_0x323cd0=>_0x323cd0['id']===_0x4bc41d);if(_0xf32761)_0x5d27c0[_0x38bbcb(0x9bb)](_0xf32761);}if(_0x5d27c0[_0x38bbcb(0xcd6)]===0x0){_0xe47b73[_0x38bbcb(0x34f)](_0x38bbcb(0x9bd));return;}const _0x27e734=1.5,_0x3ef38c=_0xe47b73[_0x38bbcb(0x1f2)],_0x2b3414=_0xe47b73[_0x38bbcb(0x8f2)](),_0x34935d=-_0x2b3414['z'],_0x368573=_0x2b3414['x'],_0xc9d3fe=0x3,_0x4cbbf1=_0x3ef38c['x']+_0x2b3414['x']*_0xc9d3fe,_0x40d929=_0x3ef38c['z']+_0x2b3414['z']*_0xc9d3fe,_0x43870c=-(_0x5d27c0[_0x38bbcb(0xcd6)]-0x1)*_0x27e734/0x2;for(let _0x1f608a=0x0;_0x1f608a<_0x5d27c0[_0x38bbcb(0xcd6)];_0x1f608a++){const _0x19be6a=_0x5d27c0[_0x1f608a],_0x115981=_0x4cbbf1+(_0x43870c+_0x1f608a*_0x27e734)*_0x34935d,_0x1c0c0d=_0x40d929+(_0x43870c+_0x1f608a*_0x27e734)*_0x368573,_0x24f101=_0x3ef38c['y'];_0x19be6a[_0x38bbcb(0x54b)]({'x':_0x115981,'y':_0x24f101,'z':_0x1c0c0d},{'dimension':_0x301023}),_0x19be6a[_0x38bbcb(0xbd0)](_0x38bbcb(0x24f));}_0xe47b73['sendMessage']('§aArranged\x20§e'+_0x5d27c0[_0x38bbcb(0xcd6)]+_0x38bbcb(0xc23)),showFormationTypeMenu(_0xe47b73,_0x44db7f);}world['beforeEvents'][_0x1d2622(0x746)][_0x1d2622(0xba5)](_0x1496a0=>{const _0x980f66=_0x1d2622,_0x2e8552=_0x1496a0[_0x980f66(0xb68)],_0x3ef6fe=_0x1496a0[_0x980f66(0x4af)];_0x3ef6fe&&_0x3ef6fe[_0x980f66(0x621)]===_0x980f66(0x630)&&(_0x2e8552[_0x980f66(0x9c1)]?system['run'](()=>{showTrumpetMenu(_0x2e8552);}):system[_0x980f66(0x631)](()=>{playTrumpetSong(_0x2e8552);}));}),loadTrumpetData(),loadUnitData(),system[_0x1d2622(0x613)](saveTrumpetData,0x4b0),system[_0x1d2622(0x613)](saveUnitData,0x4b0),system['runInterval'](()=>{const _0xb13428=_0x1d2622;for(const _0x5c6903 of[world['getDimension'](_0xb13428(0x182)),world[_0xb13428(0xbc8)](_0xb13428(0x437)),world['getDimension']('the_end')]){try{const _0x1be774=_0x5c6903[_0xb13428(0xc8f)]({'type':_0xb13428(0xca9)});for(const _0x10a34a of _0x1be774){try{const _0x5f1de2=_0x10a34a[_0xb13428(0xd12)](_0xb13428(0x78b))['successCount']>0x0,_0x2dae77=[_0xb13428(0x3cf),_0xb13428(0x554),_0xb13428(0x2ae),_0xb13428(0x23b),'minecraft:diamond_spear',_0xb13428(0x3c6)],_0x5760c1=_0x2dae77[_0xb13428(0xb49)](_0x306f5d=>_0x10a34a[_0xb13428(0xd12)](_0xb13428(0x610)+_0x306f5d+',location=slot.weapon.mainhand}]')[_0xb13428(0x738)]>0x0),_0x574131=_0x10a34a[_0xb13428(0x299)](_0xb13428(0x4e4)),_0x32554f=_0x574131?_0x574131[_0xb13428(0x768)]:0x1;if(_0x5760c1&&_0x32554f!==0x3)_0x10a34a['triggerEvent'](_0xb13428(0x7bd));else{if(_0x5f1de2&&_0x32554f!==0x2)_0x10a34a['triggerEvent'](_0xb13428(0x8b1));else!_0x5f1de2&&!_0x5760c1&&(_0x32554f===0x2||_0x32554f===0x3)&&_0x10a34a[_0xb13428(0xbd0)](_0xb13428(0xa08));}}catch(_0x5eb893){}}}catch(_0x636f6e){}}},0x28);const knightAttackTimes=new Map();world[_0x1d2622(0x290)][_0x1d2622(0x361)][_0x1d2622(0xba5)](_0x330868=>{const _0x575a3c=_0x1d2622;try{const _0x519918=_0x330868[_0x575a3c(0x851)],_0x3d4225=_0x330868[_0x575a3c(0x6bf)];if(_0x519918&&_0x519918[_0x575a3c(0x621)]==='jerrys_colonies:mega_golem'&&_0x3d4225)try{const _0x294e5d=_0x3d4225[_0x575a3c(0x1f2)]['x']-_0x519918[_0x575a3c(0x1f2)]['x'],_0x272070=_0x3d4225[_0x575a3c(0x1f2)]['z']-_0x519918['location']['z'],_0x43f83d=Math[_0x575a3c(0x4e0)](_0x294e5d*_0x294e5d+_0x272070*_0x272070);if(_0x43f83d>0x0){const _0x17963c=5.5,_0xfe6372=4.5,_0x1ef96b={'x':_0x294e5d/_0x43f83d*_0x17963c,'y':_0xfe6372,'z':_0x272070/_0x43f83d*_0x17963c};_0x3d4225[_0x575a3c(0x432)](_0x294e5d,_0x272070,_0x17963c,_0xfe6372);}}catch(_0xfe97e1){}if(_0x519918&&_0x519918['typeId']===_0x575a3c(0xca9)){const _0x586d34=_0x519918['getComponent'](_0x575a3c(0x4e4)),_0x1cc73f=_0x586d34?_0x586d34[_0x575a3c(0x768)]:0x1;_0x1cc73f!==0x2&&knightAttackTimes[_0x575a3c(0x336)](_0x519918['id'],0xf);}}catch(_0x521bd7){}}),system[_0x1d2622(0x613)](()=>{const _0x4dd387=_0x1d2622;for(const _0x4f1985 of[world[_0x4dd387(0xbc8)](_0x4dd387(0x182)),world[_0x4dd387(0xbc8)](_0x4dd387(0x437)),world['getDimension']('the_end')]){try{const _0x59e0f3=_0x4f1985[_0x4dd387(0xc8f)]({'type':_0x4dd387(0xca9)});for(const _0x41dfc2 of _0x59e0f3){try{let _0x3fe518=knightAttackTimes['get'](_0x41dfc2['id']);if(_0x3fe518!==undefined&&_0x3fe518>0x0){_0x3fe518--;_0x3fe518>0x0?knightAttackTimes[_0x4dd387(0x336)](_0x41dfc2['id'],_0x3fe518):knightAttackTimes[_0x4dd387(0xbcb)](_0x41dfc2['id']);const _0x37b12a=_0x41dfc2[_0x4dd387(0x299)](_0x4dd387(0xa74));_0x37b12a&&(_0x37b12a[_0x4dd387(0x768)]=0x1);}else{const _0x273c1a=_0x41dfc2['getComponent']('minecraft:skin_id');_0x273c1a&&_0x273c1a[_0x4dd387(0x768)]!==0x0&&(_0x273c1a[_0x4dd387(0x768)]=0x0);}}catch(_0xf1fa0e){}}}catch(_0x4f4ca7){}}},0x1),system[_0x1d2622(0x613)](()=>{const _0x52bf77=_0x1d2622,_0x411142=Date[_0x52bf77(0x405)]();for(const [_0x41735f,_0x36d570]of trumpetCooldowns[_0x52bf77(0x74e)]()){_0x411142>=_0x36d570&&trumpetCooldowns[_0x52bf77(0xbcb)](_0x41735f);}},0x258),console['log']('Trumpet\x20registered'),console[_0x1d2622(0x6a4)]('Arena\x20system\x20loaded\x20-\x20Arena\x20will\x20load\x20on\x20first\x20teleporter\x20use');async function showMoveFlagForm(_0x1fe97f,_0x122e0f=null){const _0x5a1c2f=_0x1d2622;try{let _0x6c23f9=_0x122e0f;if(!_0x6c23f9){const _0x174513=_0x1fe97f[_0x5a1c2f(0xaf8)][_0x5a1c2f(0xc8f)]({'type':_0x5a1c2f(0x7f6),'location':_0x1fe97f[_0x5a1c2f(0x1f2)],'maxDistance':0x5});if(_0x174513[_0x5a1c2f(0xcd6)]===0x0)return;_0x6c23f9=_0x174513[0x0];}const _0x4446f5=(_0x31fdb8,_0x2e36c6)=>Math['abs'](_0x31fdb8-_0x2e36c6)<0.5,_0x331b63=Array['from'](colonies[_0x5a1c2f(0xaf3)]())['find'](_0x44a0de=>_0x44a0de[_0x5a1c2f(0x61a)]&&_0x44a0de[_0x5a1c2f(0x61a)][_0x5a1c2f(0xb49)](_0x600fc8=>_0x4446f5(_0x600fc8['x'],_0x6c23f9[_0x5a1c2f(0x1f2)]['x'])&&_0x4446f5(_0x600fc8['y'],_0x6c23f9[_0x5a1c2f(0x1f2)]['y'])&&_0x4446f5(_0x600fc8['z'],_0x6c23f9['location']['z'])));if(!_0x331b63||_0x331b63[_0x5a1c2f(0x396)]!==_0x1fe97f['id'])return;const _0x16d5d4=new ActionFormData()['title']('Move\x20Flag')[_0x5a1c2f(0x629)](_0x5a1c2f(0x229))[_0x5a1c2f(0x31f)]('Move\x20Flag\x20Up')[_0x5a1c2f(0x31f)](_0x5a1c2f(0x788))[_0x5a1c2f(0x31f)](_0x5a1c2f(0x919))[_0x5a1c2f(0x31f)]('Rotate\x20Flag\x20-90°'),_0xc518cc=await _0x16d5d4[_0x5a1c2f(0x504)](_0x1fe97f);if(_0xc518cc[_0x5a1c2f(0x9d4)])return;const _0x216411=_0x6c23f9['location'];switch(_0xc518cc['selection']){case 0x0:canMoveFlagUp(_0x1fe97f['dimension'],_0x216411)?(moveFlag(_0x6c23f9,{'x':0x0,'y':0x1,'z':0x0}),_0x1fe97f[_0x5a1c2f(0x34f)]('§aFlag\x20moved\x20up!')):_0x1fe97f[_0x5a1c2f(0x34f)](_0x5a1c2f(0x114));break;case 0x1:canMoveFlagDown(_0x1fe97f[_0x5a1c2f(0xaf8)],_0x216411)?(moveFlag(_0x6c23f9,{'x':0x0,'y':-0x1,'z':0x0}),_0x1fe97f[_0x5a1c2f(0x34f)](_0x5a1c2f(0x1c6))):_0x1fe97f[_0x5a1c2f(0x34f)]('§cCannot\x20move\x20flag\x20down\x20-\x20no\x20fence\x20post\x20found!');break;case 0x2:rotateFlag(_0x6c23f9),_0x1fe97f[_0x5a1c2f(0x34f)](_0x5a1c2f(0xb5e));break;case 0x3:rotateFlag(_0x6c23f9,-0x5a),_0x1fe97f[_0x5a1c2f(0x34f)](_0x5a1c2f(0x996));break;}}catch(_0x3e1b33){console[_0x5a1c2f(0x7bf)](_0x5a1c2f(0xf9),_0x3e1b33),_0x1fe97f[_0x5a1c2f(0x34f)](_0x5a1c2f(0x63e));}}function canMoveFlagUp(_0xf0208,_0x30b1c6){const _0x433d4d=_0x1d2622,_0x15ada9={'x':Math['floor'](_0x30b1c6['x']),'y':Math['floor'](_0x30b1c6['y'])+0x1,'z':Math['floor'](_0x30b1c6['z'])};try{const _0x4bdf1b=_0xf0208[_0x433d4d(0xb28)](_0x15ada9);return _0x4bdf1b&&(_0x4bdf1b[_0x433d4d(0x621)]===_0x433d4d(0xbc5)||_0x4bdf1b['typeId']==='minecraft:oak_fence');}catch(_0x54e8ad){return![];}}function canMoveFlagDown(_0x3110c7,_0x5008de){const _0x346284=_0x1d2622,_0x76582={'x':Math[_0x346284(0x648)](_0x5008de['x']),'y':Math['floor'](_0x5008de['y'])-0x1,'z':Math['floor'](_0x5008de['z'])};try{const _0x22c95a=_0x3110c7[_0x346284(0xb28)](_0x76582);return _0x22c95a&&(_0x22c95a[_0x346284(0x621)]==='minecraft:fence'||_0x22c95a[_0x346284(0x621)]===_0x346284(0x75c));}catch(_0x2b20c4){return![];}}function moveFlag(_0x399037,_0x1ff846){const _0x63c8c5=_0x1d2622,_0xfa5289={'x':_0x399037[_0x63c8c5(0x1f2)]['x']+_0x1ff846['x'],'y':_0x399037['location']['y']+_0x1ff846['y'],'z':_0x399037[_0x63c8c5(0x1f2)]['z']+_0x1ff846['z']};try{const _0x1fdbea=_0x399037['location'],_0x3da5b8=(_0x521905,_0x552a72)=>Math[_0x63c8c5(0x572)](_0x521905-_0x552a72)<0.5,_0x5588ed=Array[_0x63c8c5(0x2f9)](colonies['values']())[_0x63c8c5(0x2d0)](_0x3fbd2b=>_0x3fbd2b[_0x63c8c5(0x61a)]&&_0x3fbd2b[_0x63c8c5(0x61a)]['some'](_0x526a79=>_0x3da5b8(_0x526a79['x'],_0x1fdbea['x'])&&_0x3da5b8(_0x526a79['y'],_0x1fdbea['y'])&&_0x3da5b8(_0x526a79['z'],_0x1fdbea['z'])));_0x399037['teleport'](_0xfa5289);if(_0x5588ed){const _0x42906e=_0x5588ed[_0x63c8c5(0x61a)][_0x63c8c5(0xb06)](_0x4a1a43=>_0x3da5b8(_0x4a1a43['x'],_0x1fdbea['x'])&&_0x3da5b8(_0x4a1a43['y'],_0x1fdbea['y'])&&_0x3da5b8(_0x4a1a43['z'],_0x1fdbea['z']));_0x42906e!==-0x1&&(_0x5588ed[_0x63c8c5(0x61a)][_0x42906e]={'x':_0xfa5289['x'],'y':_0xfa5289['y'],'z':_0xfa5289['z']},saveColonyData());}}catch(_0x4e00c3){console[_0x63c8c5(0x7bf)](_0x63c8c5(0x428),_0x4e00c3);}}const activeBounties=new Map(),bountyBoardCooldowns=new Map(),BOUNTY_BOARD_COOLDOWN=0x3e8;function saveBounties(){const _0x11edd7=_0x1d2622;try{const _0x13ff5a=Object[_0x11edd7(0x5c8)](activeBounties);world[_0x11edd7(0x4da)]('active_bounties',JSON[_0x11edd7(0x1db)](_0x13ff5a));}catch(_0x2022ee){console[_0x11edd7(0x7bf)](_0x11edd7(0xceb),_0x2022ee);}}function loadBounties(){const _0x481a4f=_0x1d2622;try{const _0x38336f=world['getDynamicProperty'](_0x481a4f(0x194));if(_0x38336f){const _0x2fe248=JSON['parse'](_0x38336f);activeBounties[_0x481a4f(0xa83)]();for(const [_0x67f80c,_0x431487]of Object[_0x481a4f(0x74e)](_0x2fe248)){activeBounties[_0x481a4f(0x336)](_0x67f80c,_0x431487);}}}catch(_0x80d851){console[_0x481a4f(0x7bf)]('Failed\x20to\x20load\x20bounties:',_0x80d851);}}async function showBountyBoardUI(_0x42a478){const _0x4902dd=_0x1d2622;try{const _0x9c0c6c=world[_0x4902dd(0x272)]();if(_0x9c0c6c['length']<=0x1){_0x42a478[_0x4902dd(0x34f)](_0x4902dd(0x301));return;}const _0x6641d4=new ActionFormData()[_0x4902dd(0xd1)](_0x4902dd(0x898))[_0x4902dd(0x629)](_0x4902dd(0x7ff)),_0x351b0f=[];for(const _0xd4412c of _0x9c0c6c){_0xd4412c[_0x4902dd(0xa45)]!==_0x42a478[_0x4902dd(0xa45)]&&(_0x6641d4[_0x4902dd(0x31f)](_0xd4412c[_0x4902dd(0xa45)]),_0x351b0f[_0x4902dd(0x9bb)](_0xd4412c[_0x4902dd(0xa45)]));}const _0x4533bd=await _0x6641d4[_0x4902dd(0x504)](_0x42a478);if(_0x4533bd[_0x4902dd(0x9d4)])return;const _0x31ff67=_0x351b0f[_0x4533bd[_0x4902dd(0x77a)]];await showBountyConfirmationUI(_0x42a478,_0x31ff67);}catch(_0x26428c){console[_0x4902dd(0x7bf)](_0x4902dd(0xc38),_0x26428c);}}async function showBountyConfirmationUI(_0xe5ed6e,_0x1a1493){const _0xca9171=_0x1d2622;try{const _0x102365=_0xe5ed6e[_0xca9171(0x299)](_0xca9171(0xd17));if(!_0x102365||!_0x102365['container']){_0xe5ed6e[_0xca9171(0x34f)](_0xca9171(0xa11));return;}const _0x111ac4=_0x102365['container'][_0xca9171(0x416)](_0xe5ed6e[_0xca9171(0x654)]);if(!_0x111ac4){_0xe5ed6e[_0xca9171(0x34f)]('§cYou\x20must\x20be\x20holding\x20an\x20item\x20to\x20place\x20a\x20bounty!');return;}const _0x2adb6c=_0x111ac4[_0xca9171(0x8f0)],_0x59f558=_0x111ac4[_0xca9171(0x621)],_0x58bf76=_0x59f558['replace'](_0xca9171(0x524),'')[_0xca9171(0x15a)](/_/g,'\x20'),_0x41bdf3=new MessageFormData()[_0xca9171(0xd1)]('Bounty\x20Confirmation')[_0xca9171(0x629)](_0xca9171(0x51e)+_0x1a1493+'\x20for\x20'+_0x2adb6c+'\x20'+_0x58bf76+'?')[_0xca9171(0xa5b)]('No')['button2'](_0xca9171(0x585)),_0x172e6c=await _0x41bdf3[_0xca9171(0x504)](_0xe5ed6e);if(_0x172e6c['selection']===0x1){if(activeBounties[_0xca9171(0xb61)](_0x1a1493)){_0xe5ed6e['sendMessage'](_0xca9171(0x8bb));return;}_0x102365[_0xca9171(0x26e)][_0xca9171(0xbc1)](_0xe5ed6e[_0xca9171(0x654)],undefined),activeBounties[_0xca9171(0x336)](_0x1a1493,{'placedBy':_0xe5ed6e[_0xca9171(0xa45)],'itemId':_0x59f558,'itemCount':_0x2adb6c,'itemName':_0x58bf76}),saveBounties();for(const _0x296211 of world[_0xca9171(0x272)]()){if(_0x296211[_0xca9171(0xa45)]===_0xe5ed6e[_0xca9171(0xa45)])_0x296211[_0xca9171(0x34f)](_0xca9171(0x5a1)+_0x1a1493+_0xca9171(0x69c)+_0x2adb6c+'\x20'+_0x58bf76+'!');else _0x296211[_0xca9171(0xa45)]===_0x1a1493?_0x296211[_0xca9171(0x34f)]('§c§lA\x20bounty\x20has\x20been\x20placed\x20on\x20you!\x20Reward:\x20'+_0x2adb6c+'\x20'+_0x58bf76):_0x296211[_0xca9171(0x34f)]('§e'+_0xe5ed6e[_0xca9171(0xa45)]+_0xca9171(0x1da)+_0x1a1493+'!\x20Reward:\x20'+_0x2adb6c+'\x20'+_0x58bf76);try{_0x296211[_0xca9171(0x285)](_0xca9171(0xcac));}catch(_0x1e29a6){console[_0xca9171(0x5b4)](_0xca9171(0x753)+_0x1e29a6);}}}}catch(_0x44772b){console[_0xca9171(0x7bf)](_0xca9171(0x6ff),_0x44772b);}}world[_0x1d2622(0x290)]['entityDie'][_0x1d2622(0xba5)](_0x4b92f0=>{const _0x43a7f8=_0x1d2622;try{const _0x732b5e=_0x4b92f0[_0x43a7f8(0x7f3)],_0x49d1bc=_0x4b92f0['damageSource'][_0x43a7f8(0x851)];if(_0x732b5e[_0x43a7f8(0x621)]!==_0x43a7f8(0x2d8))return;if(!_0x49d1bc||_0x49d1bc[_0x43a7f8(0x621)]!==_0x43a7f8(0x2d8))return;const _0x1f5191=_0x732b5e['name'],_0x5e3531=_0x49d1bc[_0x43a7f8(0xa45)];if(!activeBounties[_0x43a7f8(0xb61)](_0x1f5191))return;const _0x507382=activeBounties[_0x43a7f8(0xc0a)](_0x1f5191);try{const _0x16ad90=_0x49d1bc[_0x43a7f8(0x299)]('inventory');if(_0x16ad90&&_0x16ad90['container']){const _0x4bc614=new ItemStack(_0x507382[_0x43a7f8(0x3fd)],_0x507382['itemCount']);try{_0x16ad90[_0x43a7f8(0x26e)][_0x43a7f8(0x3c5)](_0x4bc614);}catch(_0x491f8a){_0x49d1bc[_0x43a7f8(0xaf8)][_0x43a7f8(0x3ec)](_0x4bc614,_0x49d1bc[_0x43a7f8(0x1f2)]);}_0x49d1bc[_0x43a7f8(0x34f)]('§a§lYou\x20collected\x20the\x20bounty\x20on\x20'+_0x1f5191+_0x43a7f8(0xd04)+_0x507382[_0x43a7f8(0xc5a)]+'\x20'+_0x507382[_0x43a7f8(0x607)]);for(const _0x21830e of world[_0x43a7f8(0x272)]()){_0x21830e[_0x43a7f8(0xa45)]!==_0x5e3531&&_0x21830e[_0x43a7f8(0x34f)]('§e'+_0x5e3531+_0x43a7f8(0x8d8)+_0x1f5191+'!');}}}catch(_0x373dfe){console[_0x43a7f8(0x7bf)](_0x43a7f8(0x1ca),_0x373dfe);}activeBounties['delete'](_0x1f5191),saveBounties();}catch(_0x560a52){console['error'](_0x43a7f8(0xab9),_0x560a52);}}),loadBounties(),system[_0x1d2622(0x613)](saveBounties,0x4b0);function rotateFlag(_0x2cbdd9,_0x4fa343=0x5a){const _0x2ead73=_0x1d2622;try{const _0x348a86=_0x2cbdd9[_0x2ead73(0x912)](),_0x2089a8=_0x2cbdd9[_0x2ead73(0x1f2)],_0x1b919c=_0x348a86['y']+_0x4fa343;let _0x1151c2=_0x1b919c%0x168;_0x1151c2<0x0&&(_0x1151c2+=0x168);let _0x24c427=0x0,_0x2a314f=0x0,_0x23f132=Math[_0x2ead73(0xccd)](_0x1151c2/0x5a)*0x5a;if(_0x23f132>=0x168)_0x23f132=_0x23f132%0x168;switch(_0x23f132){case 0x0:_0x2a314f=-0.25;break;case 0x5a:_0x24c427=0.25;break;case 0xb4:_0x2a314f=0.25;break;case 0x10e:_0x24c427=-0.25;break;}let _0x363aa2=Math[_0x2ead73(0xccd)](_0x348a86['y']/0x5a)*0x5a;if(_0x363aa2>=0x168)_0x363aa2=_0x363aa2%0x168;if(_0x363aa2<0x0)_0x363aa2+=0x168;let _0x4ca38d=0x0,_0x1ad478=0x0;switch(_0x363aa2){case 0x0:_0x1ad478=-0.25;break;case 0x5a:_0x4ca38d=0.25;break;case 0xb4:_0x1ad478=0.25;break;case 0x10e:_0x4ca38d=-0.25;break;}let _0x2c1dbe=_0x2089a8['x']-0.5-_0x4ca38d,_0x5ee0fe=_0x2089a8['z']-0.5-_0x1ad478;const _0x516f12={'x':_0x2c1dbe+0.5+_0x24c427,'y':_0x2089a8['y'],'z':_0x5ee0fe+0.5+_0x2a314f},_0xe4f72b={'x':_0x348a86['x'],'y':_0x23f132,'z':_0x348a86['z']};_0x2cbdd9[_0x2ead73(0x550)](_0xe4f72b),_0x2cbdd9[_0x2ead73(0x54b)](_0x516f12);}catch(_0x2a2d18){console[_0x2ead73(0x7bf)](_0x2ead73(0xa34),_0x2a2d18);try{_0x2cbdd9[_0x2ead73(0xbd0)](_0x2ead73(0x61e));}catch(_0x4c6e31){console['error']('Error\x20triggering\x20rotation\x20event:',_0x2a2d18);}}}const gravestoneCooldowns=new Map(),GRAVESTONE_COOLDOWN=0x1f4;world[_0x1d2622(0xcd5)]['playerInteractWithBlock']['subscribe'](_0x1c0e58=>{const _0x3996b5=_0x1d2622,_0x322a79=_0x1c0e58['block'],_0x5b59ea=_0x1c0e58[_0x3996b5(0xb8f)];if(_0x322a79&&_0x322a79[_0x3996b5(0x621)]===_0x3996b5(0x2fa))try{const _0x27926f=Date[_0x3996b5(0x405)](),_0xfae086=gravestoneCooldowns['get'](_0x5b59ea['id'])||0x0;if(_0x27926f-_0xfae086<GRAVESTONE_COOLDOWN)return;gravestoneCooldowns[_0x3996b5(0x336)](_0x5b59ea['id'],_0x27926f);const _0x5b1cab=_0x322a79['location'],_0x1ee2a8=_0x322a79['dimension'],_0x3b8961=_0x3996b5(0x4e7)+_0x5b1cab['x']+'_'+_0x5b1cab['y']+'_'+_0x5b1cab['z']+'_'+_0x1ee2a8['id'],_0x131f7e=world[_0x3996b5(0x49d)](_0x3b8961);if(_0x131f7e)try{const _0x2f8c4d=JSON[_0x3996b5(0xc35)](_0x131f7e),_0x3623eb='§7'+_0x2f8c4d[_0x3996b5(0x45e)]+_0x3996b5(0x9de)+_0x2f8c4d['deathDate']+_0x3996b5(0x452)+_0x2f8c4d[_0x3996b5(0xb8e)];_0x5b59ea[_0x3996b5(0x34f)](_0x3623eb);}catch(_0xdf6618){console[_0x3996b5(0x7bf)](_0x3996b5(0x449),_0xdf6618),_0x5b59ea[_0x3996b5(0x34f)]('§7The\x20markings\x20on\x20this\x20gravestone\x20have\x20been\x20lost\x20to\x20the\x20sands\x20of\x20time');}else _0x5b59ea['sendMessage'](_0x3996b5(0xb64));}catch(_0x544a93){console[_0x3996b5(0x7bf)](_0x3996b5(0xdc),_0x544a93),_0x5b59ea[_0x3996b5(0x34f)]('§7The\x20markings\x20on\x20this\x20gravestone\x20have\x20been\x20lost\x20to\x20the\x20sands\x20of\x20time');}}),world[_0x1d2622(0xcd5)][_0x1d2622(0x3da)][_0x1d2622(0xba5)](_0x3e3164=>{const _0x110467=_0x1d2622,_0x5582d2=_0x3e3164['player'],_0x198a83=_0x3e3164[_0x110467(0x2e4)];if(_0x198a83['typeId']!==_0x110467(0xca9)&&_0x198a83['typeId']!==_0x110467(0x1e3))return;const _0x5b8867=_0x5582d2[_0x110467(0x299)](_0x110467(0xd17));if(!_0x5b8867||!_0x5b8867[_0x110467(0x26e)])return;const _0x43997d=_0x5b8867[_0x110467(0x26e)][_0x110467(0x416)](_0x5582d2[_0x110467(0x654)]);if(!_0x43997d)return;const _0x109337=_0x43997d['typeId'],_0x36cd8c=[_0x110467(0x32e),_0x110467(0x40c),_0x110467(0x64c),'minecraft:leather_boots','minecraft:chainmail_helmet',_0x110467(0xa29),'minecraft:chainmail_leggings','minecraft:chainmail_boots',_0x110467(0x974),_0x110467(0x783),_0x110467(0x2d5),_0x110467(0x3b8),'minecraft:golden_helmet',_0x110467(0x3d9),_0x110467(0x7f0),_0x110467(0x2a6),_0x110467(0x44a),'minecraft:diamond_chestplate',_0x110467(0x942),_0x110467(0xd7),_0x110467(0xab8),_0x110467(0xb5b),_0x110467(0x42c),_0x110467(0x6b6)];if(_0x36cd8c[_0x110467(0x22d)](_0x109337)){const _0x8605c5=_0x198a83[_0x110467(0x299)]('variant');if(_0x8605c5&&_0x8605c5['value']===0x3){_0x3e3164[_0x110467(0xc21)]=!![],system['run'](()=>{const _0x187bba=_0x110467;_0x5582d2[_0x187bba(0x34f)]('§cCavalry\x20units\x20cannot\x20wear\x20armor');});return;}}const _0x305075=[_0x110467(0x3cf),_0x110467(0x554),_0x110467(0x2ae),_0x110467(0x23b),_0x110467(0xb6c),_0x110467(0x3c6)];if(_0x305075['includes'](_0x109337)){const _0x33b890=_0x198a83['getComponent'](_0x110467(0x328));if(_0x33b890){const _0x27917a=_0x33b890[_0x110467(0x8a9)]('Head'),_0x576a99=_0x33b890['getEquipmentSlot'](_0x110467(0x98c)),_0x396ab7=_0x33b890[_0x110467(0x8a9)](_0x110467(0xbda)),_0x3c065c=_0x33b890[_0x110467(0x8a9)](_0x110467(0x9c4)),_0x2fb603=_0x27917a['getItem'](),_0x1894dc=_0x576a99[_0x110467(0x416)](),_0x35df68=_0x396ab7[_0x110467(0x416)](),_0x1b992d=_0x3c065c[_0x110467(0x416)]();(_0x2fb603||_0x1894dc||_0x35df68||_0x1b992d)&&system['run'](()=>{const _0x40894d=_0x110467,_0x177d1d=_0x5582d2[_0x40894d(0x299)]('inventory')['container'];_0x2fb603&&(_0x177d1d['addItem'](_0x2fb603),_0x27917a[_0x40894d(0xbc1)](undefined)),_0x1894dc&&(_0x177d1d['addItem'](_0x1894dc),_0x576a99[_0x40894d(0xbc1)](undefined)),_0x35df68&&(_0x177d1d[_0x40894d(0x3c5)](_0x35df68),_0x396ab7['setItem'](undefined)),_0x1b992d&&(_0x177d1d[_0x40894d(0x3c5)](_0x1b992d),_0x3c065c['setItem'](undefined)),_0x5582d2[_0x40894d(0x34f)](_0x40894d(0x29c));});}}});const openChests=new Map();world[_0x1d2622(0xcd5)]['playerInteractWithEntity'][_0x1d2622(0xba5)](_0x5884ef=>{const _0x31199e=_0x1d2622,_0x23bd15=_0x5884ef[_0x31199e(0x2e4)],_0x1a7e25=_0x5884ef[_0x31199e(0xb8f)];if(_0x23bd15[_0x31199e(0x621)]===_0x31199e(0x65b)){const _0xcfe46e=getColonyAtLocation(_0x23bd15[_0x31199e(0x1f2)]),_0xe06588=_0x1a7e25[_0x31199e(0x460)]()['find'](_0x3afa41=>_0x3afa41['startsWith']('colony_member:'));if(_0xcfe46e){if(_0xe06588){const _0x26a6d9=_0xe06588[_0x31199e(0x44b)](':')[0x1];if(_0x26a6d9!==_0xcfe46e['id']){_0x5884ef[_0x31199e(0xc21)]=!![],system[_0x31199e(0x631)](()=>{const _0x4c9194=_0x31199e;_0x1a7e25[_0x4c9194(0x34f)](_0x4c9194(0x5cd));});return;}}else{_0x5884ef[_0x31199e(0xc21)]=!![],system[_0x31199e(0x631)](()=>{const _0x36d311=_0x31199e;_0x1a7e25[_0x36d311(0x34f)](_0x36d311(0x5cd));});return;}}system[_0x31199e(0x631)](()=>{const _0x453b01=_0x31199e;openChests[_0x453b01(0x336)](_0x1a7e25['id'],_0x23bd15['id']),_0x23bd15['addTag'](_0x453b01(0x978));});}}),system[_0x1d2622(0x613)](()=>{const _0x1932f5=_0x1d2622,_0x455220=[];for(const [_0x242d0e,_0x1773fd]of openChests['entries']()){try{const _0xc3b4f1=world['getAllPlayers']()[_0x1932f5(0x2d0)](_0x3c41f4=>_0x3c41f4['id']===_0x242d0e);if(!_0xc3b4f1){_0x455220[_0x1932f5(0x9bb)](_0x242d0e);continue;}const _0x4a6a4d=_0xc3b4f1[_0x1932f5(0x299)]('inventory');try{let _0x2f7fa5=null;const _0x56613c=[world[_0x1932f5(0xbc8)](_0x1932f5(0x182)),world[_0x1932f5(0xbc8)](_0x1932f5(0x437)),world[_0x1932f5(0xbc8)](_0x1932f5(0x18d))];for(const _0x2045b4 of _0x56613c){const _0x539e85=_0x2045b4[_0x1932f5(0xc8f)]({'type':_0x1932f5(0x65b)});for(const _0x3c98e9 of _0x539e85){if(_0x3c98e9['id']===_0x1773fd){_0x2f7fa5=_0x3c98e9;break;}}if(_0x2f7fa5)break;}if(!_0x2f7fa5){_0x455220[_0x1932f5(0x9bb)](_0x242d0e);continue;}const _0x52d79c=Math[_0x1932f5(0x4e0)](Math[_0x1932f5(0x6bc)](_0xc3b4f1['location']['x']-_0x2f7fa5['location']['x'],0x2)+Math[_0x1932f5(0x6bc)](_0xc3b4f1['location']['y']-_0x2f7fa5['location']['y'],0x2)+Math['pow'](_0xc3b4f1[_0x1932f5(0x1f2)]['z']-_0x2f7fa5[_0x1932f5(0x1f2)]['z'],0x2));if(_0x52d79c>0x4){_0x455220[_0x1932f5(0x9bb)](_0x242d0e);let _0x2d6b01=![];for(const [_0x2d5b08,_0x5c573d]of openChests[_0x1932f5(0x74e)]()){if(_0x2d5b08!==_0x242d0e&&_0x5c573d===_0x1773fd){_0x2d6b01=!![];break;}}!_0x2d6b01&&_0x2f7fa5&&_0x2f7fa5[_0x1932f5(0x866)]('custom_open');}}catch(_0x414aa7){_0x455220[_0x1932f5(0x9bb)](_0x242d0e);}}catch(_0x4b7032){_0x455220[_0x1932f5(0x9bb)](_0x242d0e);}}for(const _0x35218d of _0x455220){const _0xe68470=openChests[_0x1932f5(0xc0a)](_0x35218d);openChests[_0x1932f5(0xbcb)](_0x35218d);let _0x12d88f=![];for(const [_0x15bbb4,_0x5b549e]of openChests[_0x1932f5(0x74e)]()){if(_0x5b549e===_0xe68470){_0x12d88f=!![];break;}}if(!_0x12d88f&&_0xe68470){const _0x2129dd=[world['getDimension'](_0x1932f5(0x182)),world[_0x1932f5(0xbc8)](_0x1932f5(0x437)),world[_0x1932f5(0xbc8)](_0x1932f5(0x18d))];for(const _0x5c50b4 of _0x2129dd){try{const _0x4c868e=_0x5c50b4['getEntities']({'type':_0x1932f5(0x65b)});for(const _0x3421b8 of _0x4c868e){if(_0x3421b8['id']===_0xe68470){_0x3421b8[_0x1932f5(0x866)](_0x1932f5(0x978));break;}}}catch(_0x5bddaa){}}}}},0xa),world[_0x1d2622(0x290)]['playerLeave'][_0x1d2622(0xba5)](_0x38708a=>{const _0x274ca7=_0x1d2622,_0x337094=_0x38708a[_0x274ca7(0xb3c)];if(openChests[_0x274ca7(0xb61)](_0x337094)){const _0x58903c=openChests[_0x274ca7(0xc0a)](_0x337094);openChests[_0x274ca7(0xbcb)](_0x337094);let _0x155749=![];for(const [_0xe23ff4,_0x90bbae]of openChests[_0x274ca7(0x74e)]()){if(_0x90bbae===_0x58903c){_0x155749=!![];break;}}if(!_0x155749){const _0x5bd507=[world['getDimension'](_0x274ca7(0x182)),world['getDimension']('nether'),world['getDimension']('the_end')];for(const _0x55c921 of _0x5bd507){try{const _0x361b97=_0x55c921['getEntities']({'type':'jerrys_colonies:supply_chest_entity'});for(const _0x201e47 of _0x361b97){if(_0x201e47['id']===_0x58903c){_0x201e47[_0x274ca7(0x866)]('custom_open');break;}}}catch(_0x411334){}}}}}),world[_0x1d2622(0x290)]['playerPlaceBlock'][_0x1d2622(0xba5)](_0x5275c3=>{const _0x2a8b8a=_0x1d2622,_0x1215ec=_0x5275c3['block'],{dimension:_0x2a0034,location:_0x1f503e}=_0x1215ec,_0x316333={'x':_0x1f503e['x']+0.5,'y':_0x1f503e['y'],'z':_0x1f503e['z']+0.5};if(_0x1215ec[_0x2a8b8a(0x4ac)]('supply_chest')){const _0x1087bc=_0x2a0034[_0x2a8b8a(0x26c)](_0x2a8b8a(0x65b),_0x316333);_0x1087bc[_0x2a8b8a(0xa7c)]=_0x2a8b8a(0x647);}}),world[_0x1d2622(0x290)][_0x1d2622(0xc41)][_0x1d2622(0xba5)](_0x2ff09e=>{const _0x4cb7fa=_0x1d2622,_0x129e71=_0x2ff09e[_0x4cb7fa(0x7f3)];if(_0x129e71[_0x4cb7fa(0x621)]===_0x4cb7fa(0x65b))try{const {dimension:_0x2c8d0d,location:_0xd89047}=_0x129e71,_0x2a7848=_0x2c8d0d[_0x4cb7fa(0xb28)](_0xd89047);_0x2a7848&&_0x2a7848[_0x4cb7fa(0x621)]===_0x4cb7fa(0x1f1)&&(_0x2a7848[_0x4cb7fa(0x121)](_0x4cb7fa(0xaf2)),_0x2c8d0d['spawnItem'](new ItemStack('jerrys_colonies:supply_chest',0x1),_0xd89047));for(const [_0x309618,_0x1e0f65]of openChests[_0x4cb7fa(0x74e)]()){_0x1e0f65===_0x129e71['id']&&openChests[_0x4cb7fa(0xbcb)](_0x309618);}}catch(_0x19ad8b){console[_0x4cb7fa(0x5b4)]('Error\x20cleaning\x20up\x20chest\x20block:',_0x19ad8b);}}),system[_0x1d2622(0x613)](()=>{const _0x57f300=_0x1d2622,_0x1032cd=[world[_0x57f300(0xbc8)](_0x57f300(0x182)),world[_0x57f300(0xbc8)](_0x57f300(0x437)),world[_0x57f300(0xbc8)]('the_end')];for(const _0x1df05d of _0x1032cd){try{const _0x46deed=_0x1df05d['getEntities']({'type':_0x57f300(0x65b)});for(const _0x2c9e55 of _0x46deed){if(_0x2c9e55&&_0x2c9e55[_0x57f300(0x25f)]()){const _0x47dc8d=new SupplyChestUtils(_0x2c9e55);_0x2c9e55[_0x57f300(0x4ac)]('custom_open')?_0x47dc8d[_0x57f300(0x9ab)]():_0x47dc8d[_0x57f300(0x84b)](),_0x47dc8d[_0x57f300(0xb42)]();}}}catch(_0x1f36b5){}}},0x2);