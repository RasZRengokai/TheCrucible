{"format_version":"1.21.100","minecraft:entity":{"description":{"identifier":"hfrlc:ancient_titan","is_spawnable":true,"is_summonable":true,"is_experimental":false,"properties":{"hfrlc:sp_atk":{"type":"int","default":0,"range":[0,3],"client_sync":true},"hfrlc:is_sleeping":{"type":"bool","default":true,"client_sync":true},"hfrlc:disabled":{"type":"bool","default":false,"client_sync":true},"hfrlc:death":{"type":"bool","default":false,"client_sync":true},"hfrlc:dance":{"type":"int","default":0,"range":[0,2],"client_sync":true},"hfrlc:is_dead":{"type":"bool","default":false,"client_sync":false},"hfrlc:rotation_y":{"type":"float","default":0.0,"range":[-360.0,360.0],"client_sync":true},"hfrlc:rotation_xz":{"type":"float","default":0.0,"range":[-360.0,360.0],"client_sync":true},"hfrlc:pattern":{"type":"int","default":0,"range":[0,6],"client_sync":true},"hfrlc:laser_length":{"type":"float","default":100.0,"range":[0.0,100.0],"client_sync":true},"hfrlc:crazy":{"type":"bool","default":false,"client_sync":true},"hfrlc:laser_state":{"type":"int","default":0,"range":[0,3],"client_sync":true},"hfrlc:pattern_state":{"type":"int","default":0,"range":[0,6],"client_sync":true},"hfrlc:mob_tier":{"default":0,"range":[0,3],"type":"int"}},"scripts":{"animate":[{"camerashake":"query.health > 1"},{"dance":"query.property('hfrlc:dance') > 0"},{"death":"query.health <= 1"}]},"animations":{"camerashake":"controller.animation.ancient_titan.camerashake","camerashake_walk":"animation.ancient_titan.camerashake.walk","dance":"animation.hfrlc.ancient_titan.dance","death":"animation.hfrlc.ancient_titan.death"}},"component_groups":{"hfrlc:find_target":{"minecraft:target_nearby_sensor":{"inside_range":64,"outside_range":64,"on_inside_range":{"event":"hfrlc:target_found","target":"self"}}},"hfrlc:sleeping":{"minecraft:on_hurt":{"event":"hfrlc:wake_up_animation"},"minecraft:entity_sensor":{"subsensors":[{"event_filters":{"all_of":[{"test":"is_family","subject":"other","value":"player"},{"test":"has_ability","subject":"other","value":"instabuild","operator":"!="}]},"range":[16,16],"event":"hfrlc:wake_up_animation"}]}},"hfrlc:wake_up_animation":{"minecraft:timer":{"time":6.1,"time_down_event":{"event":"hfrlc:wake_up"}},"minecraft:damage_sensor":{"triggers":[{"cause":"all","deals_damage":"no"}]}},"hfrlc:sp_atk_timer":{"minecraft:timer":{"time":3.0,"looping":true,"time_down_event":{"event":"hfrlc:trigger_sp_atk"}}},"hfrlc:circle_attack_timer":{"minecraft:timer":{"time":7.3,"looping":true,"time_down_event":{"event":"hfrlc:reset_sp_atk"}}},"hfrlc:lightning_attack_timer":{"minecraft:timer":{"time":3.4,"looping":true,"time_down_event":{"event":"hfrlc:reset_sp_atk"}}},"hfrlc:laser_attack_timer":{"minecraft:timer":{"time":7.0,"looping":true,"time_down_event":{"event":"hfrlc:reset_sp_atk"}}},"hfrlc:mobile":{"minecraft:damage_sensor":{"triggers":[{"cause":"all","deals_damage":"yes"},{"cause":"lightning","deals_damage":"no"}]},"minecraft:follow_range":{"value":48,"max":48},"minecraft:behavior.look_at_player":{"priority":8,"look_distance":50,"probability":0.02,"look_time":[0,0]},"minecraft:behavior.random_stroll":{"priority":8,"y_dist":1},"minecraft:pushable":{"is_pushable":false,"is_pushable_by_piston":false},"minecraft:movement":{"value":0.15},"minecraft:jump.static":{"jump_power":0.5},"minecraft:physics":{"has_collision":true,"has_gravity":true},"minecraft:hurt_on_condition":{"damage_conditions":[{"cause":"lava","damage_per_tick":100,"filters":{"test":"in_lava","value":true}}]}},"hfrlc:disabled":{"minecraft:attack":{"damage":0},"minecraft:movement":{"value":0.0},"minecraft:physics":{"has_collision":true,"has_gravity":true},"minecraft:pushable":{"is_pushable":false,"is_pushable_by_piston":false}},"hfrlc:targeting":{"minecraft:attack":{"damage":0},"minecraft:behavior.delayed_attack":{"priority":1,"speed_multiplier":1.15,"attack_duration":1.7,"attack_once":false,"hit_delay_pct":0.6,"cooldown_time":0,"reach_multiplier":0.0},"minecraft:behavior.hurt_by_target":{"priority":1,"entity_types":[{"filters":{"any_of":[{"all_of":[{"test":"bool_property","subject":"other","domain":"hfrlc:main_pet","value":true},{"test":"actor_health","subject":"other","value":100,"operator":">"}]},{"test":"bool_property","subject":"other","domain":"hfrlc:is_dead","operator":"not","value":true}]}}]},"minecraft:behavior.nearest_attackable_target":{"priority":2,"must_see":true,"entity_types":[{"max_dist":64,"filters":{"any_of":[{"all_of":[{"test":"is_family","subject":"other","value":"player"},{"test":"has_ability","subject":"other","value":"instabuild","operator":"!="}]},{"test":"is_family","subject":"other","value":"snowgolem"},{"test":"is_family","subject":"other","value":"irongolem"}]}}]}},"hfrlc:despawn":{"minecraft:instant_despawn":{}},"hfrlc:mob_tier1":{"minecraft:health":{"min":1,"max":1800,"value":1800}},"hfrlc:mob_tier2":{"minecraft:health":{"min":1,"max":2400,"value":2400}},"hfrlc:mob_tier3":{"minecraft:health":{"min":1,"max":3600,"value":3600}}},"components":{"minecraft:rideable":{"crouching_skip_interact":true,"family_types":["rider_util"],"pull_in_entities":false,"rider_can_interact":false,"seat_count":1,"seats":[{"position":[0,1,0]}]},"minecraft:navigation.walk":{"can_path_over_water":true,"avoid_water":true,"avoid_damage_blocks":false,"can_jump":true},"minecraft:movement.basic":{"max_turn":8},"minecraft:boss":{"hud_range":64,"should_darken_sky":false,"name":"§a§n§c§i§e§n§t§t§i§t§a§n§r"},"minecraft:fire_immune":{},"minecraft:type_family":{"family":["ancient_titan","monster","mob","boss"]},"minecraft:collision_box":{"width":0,"height":3.5},"minecraft:custom_hit_test":{"hitboxes":[{"width":1.9,"height":3.5,"pivot":[0,1.75,0]}]},"minecraft:follow_range":{"value":64,"max":64},"minecraft:scale":{"value":1},"minecraft:health":{"value":1200,"max":1200,"min":1},"minecraft:breathable":{"total_supply":15,"suffocate_time":0,"breathes_air":true,"breathes_water":true},"minecraft:knockback_resistance":{"value":1.0},"minecraft:physics":{},"minecraft:pushable":{"is_pushable":false,"is_pushable_by_piston":false},"minecraft:persistent":{},"minecraft:is_hidden_when_invisible":{},"minecraft:behavior.float":{"priority":0},"minecraft:conditional_bandwidth_optimization":{}},"events":{"minecraft:entity_spawned":{"queue_command":{"command":"effect @s fire_resistance infinite 255 true"},"add":{"component_groups":["hfrlc:disabled","hfrlc:sleeping"]}},"hfrlc:target_found":{"remove":{"component_groups":["hfrlc:find_target"]},"queue_command":{"command":"scriptevent hfrlc:get_target","target":"target"}},"hfrlc:get_target":{"add":{"component_groups":["hfrlc:find_target"]}},"hfrlc:wake_up_animation":{"remove":{"component_groups":["hfrlc:sleeping"]},"add":{"component_groups":["hfrlc:wake_up_animation"]},"set_property":{"hfrlc:is_sleeping":false}},"hfrlc:wake_up":{"remove":{"component_groups":["hfrlc:disabled","hfrlc:wake_up_animation"]},"add":{"component_groups":["hfrlc:sp_atk_timer","hfrlc:targeting","hfrlc:mobile"]},"queue_command":{"command":["ride @s summon_rider hfrlc:rider_util"]}},"hfrlc:trigger_sp_atk":{"filters":{"test":"has_target","value":true},"remove":{"component_groups":["hfrlc:sp_atk_timer"]},"trigger":{"event":"hfrlc:attempt_sp_atk"}},"hfrlc:attempt_sp_atk":{"sequence":[{"filters":{"all_of":[{"test":"target_distance","value":4,"operator":"<="},{"test":"in_water","value":false}]},"randomize":[{"set_property":{"hfrlc:sp_atk":2},"add":{"component_groups":["hfrlc:lightning_attack_timer"]},"queue_command":{"command":"scriptevent hfrlc:trigger_titan_lightning"}},{"set_property":{"hfrlc:sp_atk":1,"hfrlc:pattern":"math.floor(math.random(0, 7))","hfrlc:pattern_state":0},"remove":{"component_groups":["hfrlc:mobile"]},"add":{"component_groups":["hfrlc:circle_attack_timer","hfrlc:disabled"]},"queue_command":{"command":["scriptevent hfrlc:trigger_titan_circle","event entity @e[type=hfrlc:rider_util,c=1] hfrlc:start_circle_attack"]}},{"set_property":{"hfrlc:sp_atk":3,"hfrlc:laser_state":1},"remove":{"component_groups":["hfrlc:mobile"]},"add":{"component_groups":["hfrlc:laser_attack_timer","hfrlc:disabled"]},"queue_command":{"command":["scriptevent hfrlc:trigger_titan_laser"]}}]},{"filters":{"all_of":[{"test":"target_distance","value":4,"operator":">"},{"test":"target_distance","value":12,"operator":"<="},{"test":"in_water","value":false}]},"randomize":[{"set_property":{"hfrlc:sp_atk":1,"hfrlc:pattern":"math.floor(math.random(0, 7))","hfrlc:pattern_state":0},"remove":{"component_groups":["hfrlc:mobile"]},"add":{"component_groups":["hfrlc:circle_attack_timer","hfrlc:disabled"]},"queue_command":{"command":["scriptevent hfrlc:trigger_titan_circle","event entity @e[type=hfrlc:rider_util,c=1] hfrlc:start_circle_attack"]}},{"set_property":{"hfrlc:sp_atk":3,"hfrlc:laser_state":1},"remove":{"component_groups":["hfrlc:mobile"]},"add":{"component_groups":["hfrlc:laser_attack_timer","hfrlc:disabled"]},"queue_command":{"command":["scriptevent hfrlc:trigger_titan_laser"]}}]},{"filters":{"all_of":[{"test":"target_distance","value":12,"operator":">"},{"test":"target_distance","value":64,"operator":"<="},{"test":"in_water","value":false}]},"set_property":{"hfrlc:sp_atk":3,"hfrlc:laser_state":1},"remove":{"component_groups":["hfrlc:mobile"]},"add":{"component_groups":["hfrlc:laser_attack_timer","hfrlc:disabled"]},"queue_command":{"command":["scriptevent hfrlc:trigger_titan_laser"]}},{"filters":{"any_of":[{"test":"target_distance","value":64,"operator":">"},{"test":"in_water","value":true}]},"set_property":{"hfrlc:sp_atk":0},"trigger":{"event":"hfrlc:reset_sp_atk"}}]},"hfrlc:reset_sp_atk":{"set_property":{"hfrlc:disabled":false,"hfrlc:sp_atk":0},"remove":{"component_groups":["hfrlc:disabled","hfrlc:lightning_attack_timer","hfrlc:circle_attack_timer","hfrlc:laser_attack_timer"]},"add":{"component_groups":["hfrlc:sp_atk_timer","hfrlc:mobile","hfrlc:targeting"]},"queue_command":{"command":["effect @s resistance 0 0","event entity @e[type=hfrlc:rider_util,c=1] hfrlc:set_knockback1"]}},"hfrlc:dance":{"set_property":{"hfrlc:dance":"math.random(1, 2)"}},"hfrlc:reset_dance":{"set_property":{"hfrlc:disabled":false,"hfrlc:dance":0}},"hfrlc:disable":{"remove":{"component_groups":["hfrlc:sp_atk_timer","hfrlc:mobile","hfrlc:targeting"]},"add":{"component_groups":["hfrlc:disabled"]}},"hfrlc:enable":{"remove":{"component_groups":["hfrlc:disabled"]},"add":{"component_groups":["hfrlc:sp_atk_timer","hfrlc:mobile","hfrlc:targeting"]}},"hfrlc:mark_dead":{"set_property":{"hfrlc:is_dead":true},"queue_command":{"command":["function ancient_titan_xp","loot spawn ~~1~ loot ancient_titan.loot","event entity @e[type=hfrlc:rider_util,c=1] hfrlc:set_knockback0"]}},"hfrlc:despawn":{"add":{"component_groups":["hfrlc:despawn"]}},"hfrlc:mob_tier1":{"add":{"component_groups":["hfrlc:mob_tier1"]},"set_property":{"hfrlc:mob_tier":1}},"hfrlc:mob_tier2":{"add":{"component_groups":["hfrlc:mob_tier2"]},"set_property":{"hfrlc:mob_tier":2}},"hfrlc:mob_tier3":{"add":{"component_groups":["hfrlc:mob_tier3"]},"set_property":{"hfrlc:mob_tier":3}}}}}