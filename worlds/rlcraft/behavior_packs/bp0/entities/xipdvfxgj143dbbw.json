{"format_version":"1.17.0","minecraft:entity":{"description":{"identifier":"hfrlc:backpack_visual_mid","is_spawnable":false,"is_summonable":true,"is_experimental":false,"properties":{"hfrlc:variant":{"type":"int","default":2,"client_sync":true,"range":[1,17]}}},"component_groups":{"pre_popup":{"minecraft:entity_sensor":{"sensor_range":3,"event_filters":{"all_of":[{"test":"is_family","subject":"other","value":"player"},{"test":"has_component","subject":"self","operator":"!=","value":"minecraft:is_baby"}]},"event":"popup"}},"despawn":{"minecraft:transformation":{"into":"hfrlc:despawn_entity","drop_equipment":true,"drop_inventory":true}},"popup":{"minecraft:is_baby":{},"minecraft:timer":{"time":8,"time_down_event":{"event":"reset_popup"}}},"hfrlc:backpack_upgrade_v3":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_3>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v4":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_4>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v5":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_5>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v6":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_6>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v7":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_7>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v8":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_8>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v9":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_9>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v10":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_10>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v11":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_11>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v12":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_12>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v13":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_13>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v14":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_14>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v15":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_15>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v16":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_16>","drop_equipment":true,"drop_inventory":true}},"hfrlc:backpack_upgrade_v17":{"minecraft:transformation":{"into":"hfrlc:backpack_visual_big<hfrlc:backpack_set_variant_17>","drop_equipment":true,"drop_inventory":true}}},"components":{"minecraft:type_family":{"family":["backpack","hfrlc:no_healthbar"]},"minecraft:interact":{"interactions":[{"on_interact":{"filters":{"all_of":[{"test":"is_sneaking","subject":"other"},{"test":"has_equipment","subject":"other","domain":"hand","value":"hfrlc:backpack_token"}]},"event":"hfrlc:backpack_upgrade","target":"self"},"interact_text":"action.interact.upgrade","use_item":true},{"on_interact":{"filters":{"test":"is_sneaking","subject":"other"},"event":"hfrlc:backpack_customize","target":"self"},"interact_text":"action.interact.customize"}]},"minecraft:collision_box":{"width":0.6,"height":0.7},"minecraft:custom_hit_test":{"hitboxes":[{"width":1,"height":0.7,"pivot":[0,0.5,0]}]},"minecraft:knockback_resistance":{"value":1},"minecraft:fire_immune":{},"minecraft:is_collidable":{},"minecraft:damage_sensor":{"triggers":[{"on_damage":{"filters":{"all_of":[{"test":"is_sneaking","subject":"other","value":false},{"test":"int_property","subject":"other","domain":"hfrlc:wearing_backpack","value":0}]},"event":"hfrlc:backpack_wear"},"deals_damage":false},{"on_damage":{"filters":{"all_of":[{"test":"is_sneaking","subject":"other","value":false},{"test":"int_property","subject":"other","domain":"hfrlc:wearing_backpack","operator":"!=","value":0}]},"event":"backpack_already_equipped"},"deals_damage":false},{"on_damage":{"filters":{"test":"is_sneaking","subject":"other"},"event":"hfrlc:backpack_break"},"deals_damage":false},{"deals_damage":false}]},"minecraft:inventory":{"inventory_size":45,"container_type":"container"},"minecraft:physics":{},"minecraft:nameable":{"always_show":true}},"events":{"minecraft:entity_spawned":{"add":{"component_groups":["pre_popup"]}},"hfrlc:backpack_wear":{"queue_command":{"command":["tag @s add active_backpack_event","give @s hfrlc:backpack 1 0 {\"minecraft:item_lock\":{\"mode\":\"lock_in_inventory\"}}"],"target":"other"}},"backpack_already_equipped":{"queue_command":{"command":["titleraw @s actionbar {\"rawtext\":[{\"translate\":\"action.backpack_already_equipped\"}]}","playsound random.no_options @s"],"target":"other"}},"popup":{"add":{"component_groups":["popup"]},"remove":{"component_groups":["pre_popup"]}},"reset_popup":{"remove":{"component_groups":["popup"]},"add":{"component_groups":["pre_popup"]}},"despawn":{"add":{"component_groups":["despawn"]}},"hfrlc:backpack_break":{"queue_command":{"command":["tag @s add active_backpack_break_event"],"target":"other"}},"hfrlc:backpack_upgrade":{"sequence":[{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":2},"add":{"component_groups":["hfrlc:backpack_upgrade_v3"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":4},"add":{"component_groups":["hfrlc:backpack_upgrade_v4"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":5},"add":{"component_groups":["hfrlc:backpack_upgrade_v5"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":6},"add":{"component_groups":["hfrlc:backpack_upgrade_v6"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":7},"add":{"component_groups":["hfrlc:backpack_upgrade_v7"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":8},"add":{"component_groups":["hfrlc:backpack_upgrade_v8"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":9},"add":{"component_groups":["hfrlc:backpack_upgrade_v9"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":10},"add":{"component_groups":["hfrlc:backpack_upgrade_v10"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":11},"add":{"component_groups":["hfrlc:backpack_upgrade_v11"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":12},"add":{"component_groups":["hfrlc:backpack_upgrade_v12"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":13},"add":{"component_groups":["hfrlc:backpack_upgrade_v13"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":14},"add":{"component_groups":["hfrlc:backpack_upgrade_v14"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":15},"add":{"component_groups":["hfrlc:backpack_upgrade_v15"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":16},"add":{"component_groups":["hfrlc:backpack_upgrade_v16"]}},{"filters":{"test":"int_property","subject":"self","domain":"hfrlc:variant","value":17},"add":{"component_groups":["hfrlc:backpack_upgrade_v17"]}},{"queue_command":{"command":["playsound random.customize @s"],"target":"other"}}]},"hfrlc:backpack_set_variant_2":{"set_property":{"hfrlc:variant":2},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_4":{"set_property":{"hfrlc:variant":4},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_5":{"set_property":{"hfrlc:variant":5},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_6":{"set_property":{"hfrlc:variant":6},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_7":{"set_property":{"hfrlc:variant":7},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_8":{"set_property":{"hfrlc:variant":8},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_9":{"set_property":{"hfrlc:variant":9},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_10":{"set_property":{"hfrlc:variant":10},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_11":{"set_property":{"hfrlc:variant":11},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_12":{"set_property":{"hfrlc:variant":12},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_13":{"set_property":{"hfrlc:variant":13},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_14":{"set_property":{"hfrlc:variant":14},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_15":{"set_property":{"hfrlc:variant":15},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_16":{"set_property":{"hfrlc:variant":16},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_set_variant_17":{"set_property":{"hfrlc:variant":17},"add":{"component_groups":["pre_popup"]},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}},"hfrlc:backpack_customize":{"set_property":{"hfrlc:variant":"q.property('hfrlc:variant') > 16 ? 2 : q.property('hfrlc:variant') == 2 ? 4 : q.property('hfrlc:variant') + 1"},"queue_command":{"command":["playsound random.customize @s"],"target":"other"}}}}}