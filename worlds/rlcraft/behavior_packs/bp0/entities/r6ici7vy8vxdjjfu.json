{"format_version":"1.21.60","minecraft:entity":{"description":{"identifier":"hfrlc:dungeon_door_entity","is_spawnable":false,"is_summonable":true,"properties":{"hfrlc:type":{"type":"int","range":[0,4],"default":0,"client_sync":true},"hfrlc:closing":{"type":"bool","default":false,"client_sync":true},"hfrlc:has_key":{"type":"bool","default":false,"client_sync":true},"hfrlc:key_orientation":{"type":"enum","values":["none","back","front"],"default":"none","client_sync":true},"hfrlc:break_state":{"default":0,"range":[0,2],"type":"int"}}},"component_groups":{"hfrlc:despawn":{"minecraft:instant_despawn":{}},"hfrlc:break_state_reset_timer":{"minecraft:timer":{"looping":false,"randomInterval":false,"time":1,"time_down_event":{"event":"hfrlc:break_state_reset"}}},"hfrlc:opened":{"minecraft:interact":{"interactions":[{"on_interact":{"event":"hfrlc:closing","filters":{"test":"int_property","domain":"hfrlc:type","operator":"!=","value":4}}}]}},"hfrlc:closing":{"minecraft:timer":{"time":1.8,"looping":true,"time_down_event":{"event":"hfrlc:closed"}}},"hfrlc:closed":{"minecraft:timer":{"time":0.1,"looping":true,"time_down_event":{"event":"hfrlc:despawn"}}}},"components":{"minecraft:type_family":{"family":["inanimate","dungeon_door","hfrlc:no_healthbar"]},"minecraft:physics":{"has_collision":false,"has_gravity":false,"push_towards_closest_space":false},"minecraft:collision_box":{"height":0,"width":0},"minecraft:custom_hit_test":{"hitboxes":[{"width":2,"height":4.5,"pivot":[0,2.25,0]}]},"minecraft:pushable":{"is_pushable":false,"is_pushable_by_piston":false},"minecraft:fire_immune":{},"minecraft:knockback_resistance":{"value":1},"minecraft:damage_sensor":{"triggers":[{"deals_damage":"no","on_damage":{"event":"hfrlc:break","filters":{"all_of":[{"test":"is_family","subject":"other","value":"player"},{"test":"is_sneaking","subject":"other"},{"test":"bool_property","domain":"hfrlc:closing","value":false}]}}},{"deals_damage":"no"}]},"minecraft:health":{"value":1,"min":1,"max":1},"minecraft:body_rotation_axis_aligned":{},"minecraft:body_rotation_blocked":{},"minecraft:timer":{"time":1.8,"looping":false,"time_down_event":{"event":"hfrlc:opened"}},"minecraft:conditional_bandwidth_optimization":{}},"events":{"hfrlc:despawn":{"add":{"component_groups":["hfrlc:despawn"]}},"hfrlc:break_state_reset":{"set_property":{"hfrlc:break_state":0},"remove":{"component_groups":["hfrlc:break_state_reset_timer"]}},"hfrlc:break":{"sequence":[{"filters":{"test":"int_property","domain":"hfrlc:break_state","operator":"<","value":2},"add":{"component_groups":["hfrlc:break_state_reset_timer"]},"set_property":{"hfrlc:break_state":"q.property('hfrlc:break_state') + 1"}},{"filters":{"test":"int_property","domain":"hfrlc:break_state","value":2},"add":{"component_groups":["hfrlc:despawn"]}}]},"hfrlc:opened":{"add":{"component_groups":["hfrlc:opened"]}},"hfrlc:closing":{"add":{"component_groups":["hfrlc:closing"]},"remove":{"component_groups":["hfrlc:opened"]},"set_property":{"hfrlc:closing":true}},"hfrlc:closed":{"add":{"component_groups":["hfrlc:closed"]},"queue_command":{"command":["event entity @e[type=hfrlc:dungeon_door_entity, r=1] hfrlc:despawn"]}}}}}